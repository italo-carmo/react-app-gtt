{"version":3,"file":"static/js/206.616a440a.chunk.js","mappings":"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","sources":["views/planejamento/Main.js"],"sourcesContent":["import React, { useEffect, useState, useRef } from 'react'\nimport styles from './styles.css'\nimport {\n  CButton,\n  CCard,\n\n} from '@coreui/react'\nimport useApi from 'src/services/Api'\nimport \"react-datepicker/dist/react-datepicker.css\";\nimport { forwardRef } from 'react'\nimport LoadingSpinner from 'src/components/Loading'\nimport ReactDatePicker from 'react-datepicker';\nimport { getQuarter, setHours } from 'date-fns';\n\nconst Etapas = () => {\n\n  const [planejamento, setPlanejamento] = useState([])\n  const [rota, setRota] = useState('')\n  const [dataInicio, setDataInicio] = useState(new Date());\n  const [icao, setIcao] = useState('');\n  const [horasTotais, setHorasTotais] = useState(0);\n  const [loading, setLoading] = useState(false)\n  const [tripulacao, setTripulacao] = useState('Simples')\n  const [fadiga, setFadiga] = useState(new Date());\n  const [fadigas, setFadigas] = useState([]);\n  const [edit, setEdit] = useState(false);\n  const [indexEdit, setIndexEdit] = useState('');\n\n  const Api = useApi()\n\n  const DateInput = ({ value, onClick }) => (\n    <img style={{cursor:'pointer', marginLeft: 5}} src='https://www.1gtt.com.br/app/calendar-black.png' width=\"30px\" onClick={onClick}/>\n  )\n\n  function millisToHoursAndMinutes(millis) {\n    if (isNaN(millis) || millis < 0) {\n      return \"Invalid input\";\n    }\n  \n    // Calcula as horas e minutos\n    const hours = Math.floor(millis / (1000 * 60 * 60));\n    const minutes = Math.floor((millis % (1000 * 60 * 60)) / (1000 * 60));\n  \n    // Formata a representação da duração\n    const formattedHours = String(hours).padStart(2, '0');\n    const formattedMinutes = String(minutes).padStart(2, '0');\n  \n    return `${formattedHours}:${formattedMinutes}`;\n  }\n\n  const isoDateToHourMinutes = (date) => {\n    try {\n      if(typeof(date) != 'string') {\n        date = date.toISOString()\n      }\n      let [data, horas] = date.split('T')\n      let [hora, minuto, segundo] = horas.split(':')\n      return hora+':'+minuto\n    } catch {\n      return '00:00'\n    }\n    \n  }\n\n  const isoDateToDate = (date) => {\n    try {\n      if(typeof(date) != 'string') {\n        date = date.toISOString()\n      }\n      let [data, horas] = date.split('T')\n      let [ano, mes, dia] = data.split('-')\n      return dia+'/'+mes+'/'+ano\n    }\n    catch {\n      return '00:00'\n    }\n  }\n\n  const tripulacoes = [\"Simples\", \"Composta\", \"Revezamento\"]\n\n\n  const calcularFadiga = (horaDecolagem) => {\n    let fadigaBase;\n\n    switch (tripulacao) {\n      case 'SIMPLES':\n        fadigaBase = 43200000; // 12 horas\n        break;\n      case 'COMPOSTA':\n        fadigaBase = 50400000; // 14 horas\n        break;\n      case 'REVEZAMENTO':\n        fadigaBase = 61200000; // 17 horas\n        break;\n      default:\n        fadigaBase = 0;\n    }\n\n    // Verificar se a decolagem está entre 22h e 6h\n    const horaLocal = horaDecolagem.getHours();\n    if (horaLocal >= 22 || horaLocal < 6) {\n      const intervalo = (horaLocal >= 22) ? horaLocal - 22 : horaLocal + 2; // Calcula o intervalo em horas\n      fadigaBase -= intervalo * 30 * 60 * 1000; // Diminui a fadiga a cada hora no intervalo\n    }\n\n    return fadigaBase;\n  };\n\n  function arredondarTempoDeVooEmMilissegundos(milissegundos) {\n    console.log('arredondando: '+milissegundos)\n    // Convertendo milissegundos para minutos e arredondando para cima\n    const minutos = (milissegundos / 60000);\n    console.log(minutos)\n    // Verificando se os minutos são múltiplos de 5\n    if (minutos % 5 === 0) {\n      return milissegundos;\n\n    } else {\n      // Arredondando para cima para torná-los múltiplos de 5\n      const minutosArredondados = Math.ceil(minutos / 5) * 5;\n      const milissegundosArredondados = minutosArredondados * 60000;\n      console.log('retornando: '+milissegundosArredondados)\n      return milissegundosArredondados;\n    }\n  }\n\n\n    const getPlanejamento = async () => {\n      let rota_split = rota.split(',')\n      let res = await Api.getPlanejamento({rota: rota_split})\n    \n      if (res.error) {\n        alert(res.error)\n        return\n      }\n    \n      // Iterar sobre os dados da rota e criar a tabela\n      const tabelaVoos = [];\n      let horaDecolagem = dataInicio;\n    \n      res.data.forEach((trecho, index) => {\n        const horaPouso = new Date(horaDecolagem.getTime() + trecho.tempo);\n        const tempoSoloMillis = 120 * 60 * 1000; // Tempo de solo inicial de 2 horas em milissegundos\n    \n        tabelaVoos.push({\n          data: horaDecolagem.toISOString().split('T')[0],\n          origem: trecho.origem,\n          destino: trecho.destino,\n          DEP: horaDecolagem.toISOString(),\n          ARR: horaPouso.toISOString(),\n          TEV: millisToHoursAndMinutes(arredondarTempoDeVooEmMilissegundos(trecho.tempo)),\n          tempoSolo: millisToHoursAndMinutes(tempoSoloMillis),\n        });\n    \n        horaDecolagem = new Date(horaPouso.getTime() + tempoSoloMillis); // Atualiza o horário de decolagem para o próximo trecho\n      });\n    \n      return(tabelaVoos)\n    }\n    \n\n    const getDados = async () => {\n      if (!rota) {\n        alert('Rota é obrigatória')\n        return\n      }\n      let rota_split = rota.split(',')\n\n      if(rota_split.length<=1) {\n        alert('Digite ao menos 2 ICAO')\n        return\n      }\n\n      const allICAOsValid = rota_split.every(it => it.length === 4);\n\n      if (!allICAOsValid) {\n        alert('Confira os ICAOS');\n        return;\n      }\n\n      if (!dataInicio) {\n        alert('Data Inicial é obrigatória')\n        return\n      }\n      if(!edit) {\n       let dados = await getPlanejamento()\n       dados.rota = rota\n       var planejamento_copy = [...planejamento]\n       planejamento_copy.push(dados)\n      } else {\n        let dados = await getPlanejamento()\n       dados.rota = rota\n       var planejamento_copy = [...planejamento]\n       planejamento_copy[indexEdit] = dados\n      }\n      setPlanejamento(planejamento_copy)\n      \n      setRota(rota_split[rota_split.length - 1])\n      setEdit(false)\n      setIndexEdit('')\n    }\n\n  useEffect(()=>{\n  },[])\n\n\n   const transformTime = (time) => {\n    let [hora, minuto, segundo] = time.split(':')\n    return hora+':'+minuto\n   }\n\n     \n  // Adicione esta constante para evitar repetição de cálculos\n  const parseHorasMinutosParaMillis = (tempo) => {\n    const [horas, minutos] = tempo.split(':');\n    return parseInt(horas) * 60 * 60 * 1000 + parseInt(minutos) * 60 * 1000;\n  };\n\n  const atualizarProximaDecolagem = (planejamento, indice, novoTempoSolo) => {\n    if (novoTempoSolo.length === 5) {\n      const novoTempoSoloMillis = parseHorasMinutosParaMillis(novoTempoSolo);\n      let horaProximaDecolagem = new Date(planejamento[indice - 1].ARR);\n\n      let time = ((horaProximaDecolagem.getTime()))\n      let mili = novoTempoSoloMillis\n      horaProximaDecolagem.setTime(time +  mili)\n\n      return horaProximaDecolagem\n    } else {\n      return planejamento[indice].DEP;\n    }\n  };\n  \n\n  \n\n   const inputStyle = {\n    padding: '5px',\n    borderRadius: '10px',\n    border: '1px solid #000',\n  };\n\n  const botaoStyle = {\n    backgroundColor: 'green',\n    color: 'white',\n    padding: '2px 20px',\n    borderRadius: '5px',\n    border: 'none',\n    cursor: 'pointer',\n    fontSize: 12,\n    marginBottom:5\n  };\n\n  const botaoStyleRed = {\n    backgroundColor: 'black',\n    color: 'white',\n    padding: '2px 20px',\n    borderRadius: '5px',\n    border: 'none',\n    cursor: 'pointer',\n    marginLeft:5,\n    fontSize: 12,\n    width:80\n  };\n\n  const inputStyleLow = {\n    width:500\n  };\n  \n   // Funções de ação para atualizar os estados quando os valores dos filtros mudarem\n   const handleChangeTrip = (e) => {\n    setTripulacao(e.target.value);\n  };\n\n  const handleKeyPress = (event) => {\n    if (event.key === 'Enter') {\n      // A tecla \"Enter\" foi pressionada, execute sua função aqui\n      getDados();\n    }\n  };\n\n  const handleRotaChange = (e) => {\n    setRota(e.target.value.toUpperCase());\n  };\n\n  function editTev(tempoDeVoo, aumentar) {\n    // Convertendo o tempo de voo para minutos\n    const partes = tempoDeVoo.split(':');\n    const horas = parseInt(partes[0]);\n    const minutos = parseInt(partes[1]);\n    let totalMinutos = horas * 60 + minutos;\n  \n    // Aumentar ou reduzir o tempo em 5 minutos\n    totalMinutos = aumentar ? totalMinutos + 5 : totalMinutos - 5;\n  \n    // Garantir que o resultado não seja negativo\n    totalMinutos = Math.max(0, totalMinutos);\n  \n    // Converter de volta para o formato \"hh:mm\"\n    const horasAjustadas = Math.floor(totalMinutos / 60);\n    const minutosAjustados = totalMinutos % 60;\n  \n    // Formatar as partes para garantir dois dígitos\n    const horasFormatadas = horasAjustadas.toString().padStart(2, '0');\n    const minutosFormatados = minutosAjustados.toString().padStart(2, '0');\n  \n    // Retornar o resultado no formato desejado\n    return `${horasFormatadas}:${minutosFormatados}`;\n  }\n\n  const handleChangeTev = (idx, index, increase)=> {\n    let planejamento_copy = [...planejamento]\n\n    planejamento_copy[idx][index].TEV = editTev(planejamento_copy[idx][index].TEV, increase)\n    \n    setPlanejamento(planejamento_copy)\n  }\n\n  const minutosParaHorasMinutos = (minutos) => {\n    const horas = Math.floor(minutos / 60);\n    const minutosRestantes = minutos % 60;\n    const horasFormatadas = horas.toString().padStart(2, '0');\n    const minutosFormatados = minutosRestantes.toString().padStart(2, '0');\n    return `${horasFormatadas}:${minutosFormatados}`;\n  }\n\n  const getArr = (dep, tev) => {\n \n    let data = new Date(dep)\n    let [hora, minuto] = tev.split(':')\n    let milisegundos = (parseInt(hora) * 3600000) + (parseInt(minuto) *60000)\n    data.setTime(data.getTime() + milisegundos)\n    return data\n  }\n\n  return (\n    <>\n      <CCard className=\"mb-6\" style={{flexDirection: 'column', overflowX: 'auto',minHeight: 500,  maxHeight:700 }}>\n      <div style={{ display: 'flex', alignItems: 'center', marginBottom: '20px', marginTop: '20px',  marginLeft:10, marginRight:10 }}>\n      {/* Filtro de Data */}\n      <div style={{ marginRight: '20px', display: 'flex', justifyContent: 'center', alignItems: 'center' }}>\n        <label>Data Início:</label>\n        <div className='input-obs' style={{marginLeft:5}}>                  \n                  {dataInicio.toLocaleString([], { year: 'numeric', month: '2-digit', day: '2-digit', hour: 'numeric', minute: 'numeric',  timeZone: 'UTC'})+'Z'}\n        </div>\n        <div style={{zIndex: 9999 }}>\n            <ReactDatePicker\n              selected={dataInicio}\n              onChange={(date) => {\n                if (date) {\n                  const dataInicioCopia = new Date(date);\n                  // Configura a hora diretamente como UTC\n                  dataInicioCopia.setMinutes(date.getMinutes() - date.getTimezoneOffset());\n                  setDataInicio(dataInicioCopia)\n                }\n              }}\n              customInput={<DateInput />}\n              showTimeSelect\n              timeFormat=\"HH:mm\"\n              timeIntervals={5}\n              dateFormat=\"LLL\"\n              timeZone=\"UTC\"\n              timeZoneData={[{ value: 'Etc/UTC', label: 'Zulu (GMT 0)' }]}\n              utcOffset={0} // Defina o offset UTC para 0\n              popperClassName=\"datePickerPopper\" // Adicione uma classe específica para personalizar o popper\n              calendarClassName=\"datePickerCalendar\" // Adicione uma classe específica para personalizar o calendário\n            />\n        </div>\n      </div>\n       {/* Filtro de ICAO */}\n       <div style={{ marginRight: '20px' }}>\n        <label style={{marginRight:5}}>ROTA:</label>\n        <input type=\"text\" value={rota} onKeyPress={handleKeyPress} onChange={handleRotaChange} style={inputStyleLow}/>\n      </div>\n        {/* Botão \"Pesquisar\" */}\n        <div className='buttons'>\n          <button style={botaoStyle} onClick={()=>getDados()}>{edit ? 'Editar' : 'Adicionar'}</button>\n        </div>\n\n    </div>\n    <div style={{ display: 'flex', alignItems: 'center', marginBottom: '20px',  marginLeft:10, marginRight:10 }}>\n\n              {/* Trip */}\n              <div style={{ marginRight: '20px' }}>\n        <label style={{marginRight:5}}>Tripulação:</label>\n        <select style={inputStyle} value={tripulacao} onChange={handleChangeTrip}>\n          <option value=\"\">Selecione</option>\n          {tripulacoes.map(i=>{\n            return (\n              <option value={i}>{i}</option>\n            )\n          })}\n        </select>\n      </div>\n      </div>\n          {\n            planejamento.map((item, idx)=>{\n              var limite_fadiga = new Date(item[0].DEP)\n              var dep_inicial = new Date(item[0].DEP)\n\n              if(tripulacao == 'Simples') {\n                limite_fadiga.setTime(limite_fadiga.getTime() + 43200000)\n              }\n              if(tripulacao == 'Composta') {\n                limite_fadiga.setTime(limite_fadiga.getTime() + 50400000)\n              }\n              if(tripulacao == 'Revezamento') {\n                limite_fadiga.setTime(limite_fadiga.getTime() + 61200000)\n              }\n\n              var inicio_loop = dep_inicial\n\n              while (limite_fadiga > inicio_loop) {\n\n                let horas = inicio_loop.getHours()\n                if (horas > 22 || horas < 6) {\n                    limite_fadiga.setMilliseconds(limite_fadiga.getMilliseconds() - 1800000)\n                } \n                inicio_loop.setMilliseconds(inicio_loop.getMilliseconds() + 3600000)\n            }\n              return (\n                <div style={{display: 'flex', flexDirection: 'column', justifyContent: 'center', alignItems: 'center'}}>\n                  <div style={{display: 'flex', justifyContent: 'center', alignItems: 'center', marginBottom: 10}}>\n                    <span style={{fontWeight: 'bold', marginRight: 10}}>DIA {idx + 1}</span>\n                    <img onClick={()=>{\n                      setEdit(true)\n                      setIndexEdit(idx)\n                      setRota(item.rota)\n                      let data = new Date(item[0].DEP)\n                      setDataInicio(data)\n                    }} width=\"15\" height=\"15\" src='https://www.1gtt.com.br/app/pen.png' />\n                  </div>\n              <table style={{marginBottom:20, zIndex: 2, width: '90%'}}>\n              <thead className='tabela-cabecalho'>\n                <tr>\n                  <th>Data</th>\n                  <th>Origem</th>\n                  <th>Destino</th>\n                  <th>DEP</th>\n                  <th>ARR</th>\n                  <th>TEV</th>\n                  <th>Tempo Solo</th>\n                </tr>\n              </thead>\n              {item.map((voo, index) => {\n            \n\n                try {\n                  if(index == 0) {\n                    var dep = voo.DEP\n                  } else {\n                    var tempos_solo = 0\n                    var tempos_voo = 0\n                    for(let i=0;i<index;i++) {\n                      tempos_voo+= parseHorasMinutosParaMillis(item[i].TEV)\n                      tempos_solo+= parseHorasMinutosParaMillis(item[i].tempoSolo)\n                    }\n                    var dep_date = new Date(item[0].DEP)\n                    dep_date.setTime(dep_date.getTime() + tempos_solo + tempos_voo)\n                    var dep = dep_date\n                  }\n                } catch(e) {\n                  var dep = '00:00'\n                }\n\n                let pouso_edit = getArr(dep, voo.TEV)\n                \n                var isFadiga = false\n\n                if(pouso_edit > limite_fadiga) {\n                  isFadiga = true\n                }\n\n                return (\n                <tr key={index} style={{color: isFadiga ? '#FF0000' : '#000'}}>\n                  <td style={{fontWeight: 'bold'}}>\n                  {voo.TEV.length == 5 ? isoDateToDate(dep) : ''}\n                    </td>\n                  <td>{voo.origem}</td>\n                  <td>{voo.destino}</td>\n                  <td>{voo.TEV.length == 5 ? isoDateToHourMinutes(dep) : ''}</td>\n                  <td>{voo.TEV.length == 5 ? isoDateToHourMinutes(pouso_edit) : ''}</td>\n                  <td>\n                    <div style={{display: 'flex'}}>\n                    {voo.TEV}\n                    <img width=\"20px\" height=\"20px\" src=\"https://www.1gtt.com.br/seta-cima.png\" onClick={()=>handleChangeTev(idx, index, true)} style={{marginLeft:5, marginRight:5, cursor: 'pointer'}} />\n                    <img width=\"20px\" height=\"20px\" src=\"https://www.1gtt.com.br/seta-baixo.png\"onClick={()=>handleChangeTev(idx, index, false)} style={{cursor: 'pointer'}} />\n                    </div>\n                  </td>\n                  <td>\n                  <input\n                      type=\"text\"\n                      value={voo.tempoSolo}\n                      onChange={(e) => {\n                        const novoValor = e.target.value;\n                        // Atualizar o valor de tempoSolo no estado\n                        let planejamento_copy = [...planejamento]\n                        let voo_map = item.map((it, i) => {\n                            if(i === index) {\n                              return { ...it, tempoSolo: novoValor }\n                            } else {\n                              return it\n                            }\n                          }\n                        )\n                        planejamento_copy[idx] = voo_map\n                        setPlanejamento(planejamento_copy)\n                      }\n                    }\n                    />\n                  </td>\n                </tr>\n              )\n            }\n              )}\n            </table>\n            <span style={{fontWeight: 'bold', marginBottom: 50}}>Limite da Fadiga: {isoDateToDate(limite_fadiga)+' '+isoDateToHourMinutes(limite_fadiga)}</span>\n            </div>\n            )\n            })\n          }\n       \n        {loading &&\n                <div  style={{\n                  position: 'absolute',\n                  left: '50%',\n                  top: '80%',\n                  transform: 'translate(-50%, -50%)',\n                  zIndex:99\n                }}>\n                  <LoadingSpinner black={true} width=\"50px\" />\n                </div>\n        }\n      </CCard>\n     \n    </>\n  )\n}\n\nexport default Etapas\n"],"names":["_useState","useState","_useState2","_slicedToArray","planejamento","setPlanejamento","_useState3","_useState4","rota","setRota","_useState5","Date","_useState6","dataInicio","setDataInicio","_useState7","_useState8","_useState9","_useState10","_useState11","_useState12","loading","_useState13","_useState14","tripulacao","setTripulacao","_useState15","_useState16","_useState17","_useState18","_useState19","_useState20","edit","setEdit","_useState21","_useState22","indexEdit","setIndexEdit","Api","useApi","DateInput","_ref","value","onClick","_jsx","style","cursor","marginLeft","src","width","millisToHoursAndMinutes","millis","isNaN","hours","Math","floor","minutes","formattedHours","String","padStart","formattedMinutes","concat","isoDateToHourMinutes","date","toISOString","_date$split","split","_date$split2","_horas$split","_horas$split2","hora","minuto","_unused","isoDateToDate","_date$split3","_date$split4","data","_data$split","_data$split2","ano","mes","_unused2","arredondarTempoDeVooEmMilissegundos","milissegundos","console","log","minutos","milissegundosArredondados","ceil","getPlanejamento","_ref2","_asyncToGenerator","_regeneratorRuntime","mark","_callee","rota_split","res","tabelaVoos","horaDecolagem","wrap","_context","prev","next","sent","error","alert","abrupt","forEach","trecho","index","horaPouso","getTime","tempo","tempoSoloMillis","push","origem","destino","DEP","ARR","TEV","tempoSolo","stop","apply","arguments","getDados","_ref3","_callee2","dados","planejamento_copy","_dados","_context2","length","every","it","_toConsumableArray","useEffect","parseHorasMinutosParaMillis","_tempo$split","_tempo$split2","horas","parseInt","handleChangeTev","idx","increase","tempoDeVoo","aumentar","partes","totalMinutos","minutosAjustados","max","horasFormatadas","toString","minutosFormatados","editTev","_Fragment","children","_jsxs","CCard","className","flexDirection","overflowX","minHeight","maxHeight","display","alignItems","marginBottom","marginTop","marginRight","justifyContent","toLocaleString","year","month","day","hour","minute","timeZone","zIndex","ReactDatePicker","selected","onChange","dataInicioCopia","setMinutes","getMinutes","getTimezoneOffset","customInput","showTimeSelect","timeFormat","timeIntervals","dateFormat","timeZoneData","label","utcOffset","popperClassName","calendarClassName","type","onKeyPress","event","key","e","target","toUpperCase","backgroundColor","color","padding","borderRadius","border","fontSize","map","i","item","limite_fadiga","dep_inicial","setTime","inicio_loop","getHours","setMilliseconds","getMilliseconds","fontWeight","height","voo","dep","tempos_solo","tempos_voo","dep_date","pouso_edit","tev","_tev$split","_tev$split2","milisegundos","getArr","isFadiga","novoValor","voo_map","_objectSpread","position","left","top","transform","LoadingSpinner","black"],"sourceRoot":""}