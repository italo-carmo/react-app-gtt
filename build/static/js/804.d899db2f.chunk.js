"use strict";(self.webpackChunkApp_GTT=self.webpackChunkApp_GTT||[]).push([[804],{49983:function(e,t,a){a.r(t),a.d(t,{default:function(){return C}});var s=a(93433),n=a(74165),r=a(1413),o=a(15861),i=a(29439),c=a(72791),l=a(78983),u=a(21933),d=a(59513),m=a.n(d),p=(a(68639),a(80184)),f=function(e){var t=e.maxLength,a=e.value,s=e.onChange,n=e.erro,r=e.onKeyPress,o=e.id,i=void 0===o?"":o;return(0,p.jsx)("input",{type:"text",id:i,value:a,onChange:function(e){var a=e.target.value.toUpperCase().replace(/[^A-Z]/g,"").substring(0,t);s(a)},maxLength:t,style:{border:n?"1px solid #ff0000":"1px solid #000"},onKeyPress:r})},v=function(e){var t=e.maxLength,a=e.value,s=e.onChange,n=e.erro,r=e.onKeyPress;return(0,p.jsx)("input",{type:"text",value:a,onChange:function(e){var a=e.target.value.toUpperCase().replace(/[^A-Z]/g,"").substring(0,t);s(a)},maxLength:t,style:{border:n?"1px solid #ff0000":"1px solid #000"},onKeyPress:r})},h=function(e){var t=e.value,a=e.onChange,s=e.disabled;return(0,p.jsx)("input",{type:"number",value:t,onChange:function(e){var t=e.target.value.toUpperCase().replace(/[^0-9]/g,"").substring(0,5);a(t)},maxLength:5,disabled:s,style:{border:"1px solid #000",backgroundColor:"#fff"}})},x=function(e){var t=e.value,a=e.onChange;return(0,p.jsx)("input",{type:"number",value:t,onChange:function(e){var t=e.target.value.toUpperCase().replace(/[^0-9]/g,"").substring(0,5);a(t)},maxLength:5,style:{border:"1px solid #000"}})},g=function(e){var t=e.value,a=e.onChange;return(0,p.jsx)("input",{type:"number",value:t,onChange:function(e){var t=e.target.value.toUpperCase().replace(/[^0-9]/g,"").substring(0,5);a(t)},maxLength:5,style:{border:"1px solid #000",width:80}})},j=function(e){var t=e.value,a=e.onChange;return(0,p.jsx)("input",{type:"text",value:t,onChange:function(e){var t=e.target.value;a(t)},maxLength:7,style:{border:"1px solid #000",width:80}})},Z=function(e){var t=e.value,a=e.onChange;return(0,p.jsx)("input",{type:"text",value:t,onChange:function(e){var t=e.target.value;a(t)},maxLength:255,style:{border:"1px solid #000"}})},b=function(e){var t=e.value,a=e.onChange;return(0,p.jsx)("textarea",{type:"text",value:t,onChange:function(e){var t=e.target.value;a(t)},maxLength:255,style:{border:"1px solid #000",borderRadius:10,width:"100%",marginTop:5}})},y=a(72426),w=a.n(y);a(73528);function S(e){var t=e.dep,a=e.pouso,s=e.alternativa,n=e.horaDep,r=e.horaPouso,o=e.index,i=e.edit,c=e.del,l=!1;return t&&a&&s&&n&&r&&""!=t&&""!=a&&""!=s&&""!=n&&""!=r&&(l=!0),(0,p.jsxs)("div",{className:l?"view-etapa complete":"view-etapa",children:[(0,p.jsxs)("div",{className:l?"complete-text":"",style:{color:"#000"},children:[o+1,"- ",n," ",t," - ",r," ",a]}),(0,p.jsxs)("div",{className:"botoes-etapa",children:[(0,p.jsx)("img",{src:l?"https://www.1gtt.com.br/app/pen-white.png":"https://www.1gtt.com.br/app/pen.png",onClick:i,width:20,height:20}),(0,p.jsx)("img",{src:l?"https://www.1gtt.com.br/app/close-white.png":"https://www.1gtt.com.br/app/close.png",onClick:c,width:20,height:20})]})]})}var N=a(5016);w().tz.setDefault("Etc/UTC");var C=function(){var e=(0,c.useState)([]),t=(0,i.Z)(e,2),a=t[0],d=t[1],y=(0,c.useState)([]),w=(0,i.Z)(y,2),C=w[0],k=w[1],I=(0,c.useState)([]),O=(0,i.Z)(I,2),D=O[0],T=O[1],M=(0,c.useState)(!1),L=(0,i.Z)(M,2),E=L[0],A=L[1],_=(0,c.useState)(!1),P=(0,i.Z)(_,2),F=P[0],U=P[1],z=(0,c.useState)(!1),H=(0,i.Z)(z,2),R=H[0],K=H[1],B=(0,c.useState)(!1),G=(0,i.Z)(B,2),X=G[0],Y=G[1],V=(0,c.useState)(!1),J=(0,i.Z)(V,2),q=J[0],Q=J[1],W=(0,c.useState)(!1),$=(0,i.Z)(W,2),ee=$[0],te=$[1],ae=(0,c.useState)([]),se=(0,i.Z)(ae,2),ne=se[0],re=se[1],oe=(0,c.useState)(new Date),ie=(0,i.Z)(oe,2),ce=ie[0],le=ie[1],ue=(0,c.useState)(new Date),de=(0,i.Z)(ue,2),me=de[0],pe=(de[1],(0,c.useState)({avioes:[]})),fe=(0,i.Z)(pe,2),ve=fe[0],he=fe[1],xe=(0,c.useState)(""),ge=(0,i.Z)(xe,2),je=ge[0],Ze=ge[1],be=(0,c.useState)(!1),ye=(0,i.Z)(be,2),we=ye[0],Se=ye[1],Ne=(0,c.useState)(""),Ce=(0,i.Z)(Ne,2),ke=Ce[0],Ie=Ce[1],Oe=(0,c.useState)(""),De=(0,i.Z)(Oe,2),Te=De[0],Me=De[1],Le=(0,c.useState)(""),Ee=(0,i.Z)(Le,2),Ae=Ee[0],_e=Ee[1],Pe=(0,c.useState)(""),Fe=(0,i.Z)(Pe,2),Ue=Fe[0],ze=Fe[1],He=(0,c.useState)(new Date),Re=(0,i.Z)(He,2),Ke=Re[0],Be=Re[1],Ge=(0,c.useState)(new Date),Xe=(0,i.Z)(Ge,2),Ye=Xe[0],Ve=Xe[1],Je=(0,c.useState)(!1),qe=(0,i.Z)(Je,2),Qe=qe[0],We=qe[1],$e=(0,c.useState)(!1),et=(0,i.Z)($e,2),tt=et[0],at=et[1],st=(0,c.useState)(!1),nt=(0,i.Z)(st,2),rt=nt[0],ot=nt[1],it=(0,c.useState)(""),ct=(0,i.Z)(it,2),lt=ct[0],ut=ct[1],dt=(0,c.useState)(!1),mt=(0,i.Z)(dt,2),pt=mt[0],ft=mt[1],vt=(0,c.useState)(!1),ht=(0,i.Z)(vt,2),xt=ht[0],gt=ht[1],jt=(0,c.useState)({aviao:"",eventos:[]}),Zt=(0,i.Z)(jt,2),bt=Zt[0],yt=Zt[1],wt=(0,c.useState)([]),St=(0,i.Z)(wt,2),Nt=St[0],Ct=St[1],kt=(0,c.useState)(""),It=(0,i.Z)(kt,2),Ot=It[0],Dt=It[1],Tt=(0,c.useState)([]),Mt=(0,i.Z)(Tt,2),Lt=Mt[0],Et=Mt[1],At=(0,c.useState)(!1),_t=(0,i.Z)(At,2),Pt=_t[0],Ft=_t[1],Ut=(0,c.useState)(!1),zt=(0,i.Z)(Ut,2),Ht=zt[0],Rt=zt[1],Kt=(0,c.useState)(!1),Bt=(0,i.Z)(Kt,2),Gt=Bt[0],Xt=Bt[1],Yt=(0,c.useState)(""),Vt=(0,i.Z)(Yt,2),Jt=Vt[0],qt=Vt[1],Qt=(0,c.useState)(""),Wt=(0,i.Z)(Qt,2),$t=Wt[0],ea=Wt[1],ta=(0,c.useState)(""),aa=(0,i.Z)(ta,2),sa=aa[0],na=aa[1],ra=(0,c.useState)(""),oa=(0,i.Z)(ra,2),ia=oa[0],ca=oa[1],la=(0,c.useState)(""),ua=(0,i.Z)(la,2),da=ua[0],ma=ua[1],pa=(0,c.useState)([]),fa=(0,i.Z)(pa,2),va=fa[0],ha=fa[1],xa=(0,c.useState)(0),ga=(0,i.Z)(xa,2),ja=ga[0],Za=ga[1],ba=(0,c.useState)(!0),ya=(0,i.Z)(ba,2),wa=ya[0],Sa=ya[1],Na=(0,c.useState)(!1),Ca=(0,i.Z)(Na,2),ka=Ca[0],Ia=Ca[1],Oa=(0,c.useState)(""),Da=(0,i.Z)(Oa,2),Ta=Da[0],Ma=Da[1],La=(0,c.useState)(""),Ea=(0,i.Z)(La,2),Aa=Ea[0],_a=Ea[1],Pa=(0,c.useState)(""),Fa=(0,i.Z)(Pa,2),Ua=Fa[0],za=Fa[1],Ha=(0,c.useState)(""),Ra=(0,i.Z)(Ha,2),Ka=Ra[0],Ba=Ra[1],Ga=(0,c.useState)(""),Xa=(0,i.Z)(Ga,2),Ya=Xa[0],Va=Xa[1],Ja=(0,c.useState)(""),qa=(0,i.Z)(Ja,2),Qa=qa[0],Wa=qa[1],$a=(0,c.useState)(""),es=(0,i.Z)($a,2),ts=es[0],as=es[1],ss=(0,c.useState)([]),ns=(0,i.Z)(ss,2),rs=ns[0],os=ns[1],is=(0,c.useState)(!1),cs=(0,i.Z)(is,2),ls=cs[0],us=cs[1],ds=(0,c.useState)(""),ms=(0,i.Z)(ds,2),ps=ms[0],fs=(ms[1],(0,c.useState)(!1)),vs=(0,i.Z)(fs,2),hs=vs[0],xs=vs[1],gs=(0,c.useState)(!1),js=(0,i.Z)(gs,2),Zs=js[0],bs=js[1],ys=(0,c.useState)(""),ws=(0,i.Z)(ys,2),Ss=ws[0],Ns=ws[1],Cs=(0,c.useState)(""),ks=(0,i.Z)(Cs,2),Is=ks[0],Os=ks[1],Ds=(0,c.useState)(new Date),Ts=(0,i.Z)(Ds,2),Ms=Ts[0],Ls=Ts[1],Es=(0,c.useState)(new Date),As=(0,i.Z)(Es,2),_s=As[0],Ps=As[1],Fs=(0,c.useState)(""),Us=(0,i.Z)(Fs,2),zs=Us[0],Hs=Us[1],Rs=(0,c.useRef)(null),Ks=(0,c.useRef)(null),Bs=(0,c.useRef)(null),Gs=(0,u.Z)(),Xs=function(){A(!1)},Ys=function(){A(!1)},Vs=function(){var e=(0,o.Z)((0,n.Z)().mark((function e(t,a){var s,o,i,c,l,u,m,p;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ft(!1),Rt(!1),Y(!0),Q(!1),s=a.missao.id_missao,qt(s),ma(t.eventos[0].id_documento),o=(0,r.Z)({},bt),i=[],a.missao.tripulacao.forEach((function(e){i.push(e)})),c=a.comentarios,ca(c),l=a.missao.omis,na(l),d(i),console.log(o),e.next=18,Gs.getMissoesAvioesId(s);case 18:u=e.sent,m=u.data.filter((function(e){if(e.eventos.length>0)return e})),console.log(m[0].eventos),console.log(t.eventos),o.eventos=m[0].eventos,yt(o),U(!0),Ct(t.aviao),(p=Lt.findIndex((function(e){return e.aeronave==t.aviao})))>=0&&Dt(Lt[p].id);case 28:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),Js=function(e){"Enter"===e.key&&(q?xn():qs())},qs=function(){var e=(0,o.Z)((0,n.Z)().mark((function e(){return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,gn();case 2:e.sent&&setTimeout((function(){var e=document.getElementById("icao-pouso");e&&e.focus()}),0);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Qs=function(){var e=(0,o.Z)((0,n.Z)().mark((function e(t){var r,o;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(gt(!1),"Enter"!==t.key){e.next=7;break}return r=(0,s.Z)(a),e.next=5,Gs.getTrigrama($t);case 5:(o=e.sent).error?gt(o.error):(r.push({id:o.data.id_user,trigrama:o.data.trigrama,funcao:o.data.Usuario.FuncoesAbordo.nome}),d(r),ea(""));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ws=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=new Date(e);a.setDate(a.getDate()-1);for(var s=[],n=0;n<=6;n++){if(0!=n)var r=a.setDate(a.getDate()+1);else r=a.setDate(a.getDate());var o=new Date(r),i=o.getDate(),c=o.getMonth()+1;i<=9&&(i="0"+i),c<=9&&(c="0"+c);var l=i+"/"+c+"/"+o.getFullYear();s.push(l)}re(s),an(s,t),$s(s)},$s=function(){var e=(0,o.Z)((0,n.Z)().mark((function e(t){var a,s,r;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t[0],s=t[6],e.next=4,Gs.getObservacoesData({inicio:a,fim:s});case 4:(r=e.sent).error||os(r.data);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),en=function(){var e=(0,o.Z)((0,n.Z)().mark((function e(){var t;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Gs.getOfrags();case 2:(t=e.sent).error||ha(t.data.reverse());case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),tn=function(){var e=(0,o.Z)((0,n.Z)().mark((function e(){var t,a,s,o;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(ze(""),ut(""),""!=Nt){e.next=5;break}return ut("A aeronave \xe9 obrigat\xf3ria"),e.abrupt("return");case 5:if(!X){e.next=8;break}return ut("Exclua essa OMIS e crie outra para cumprir com OFRAG"),e.abrupt("return");case 8:if(""==da){e.next=13;break}return e.next=11,Gs.getOfrag(da);case 11:(t=e.sent).error||(a=[],s=(0,r.Z)({},ve),t.data.missoes[0].rotaOfrag.etapas.forEach((function(e){var t=e.dataHoraDecolagem.split("T"),n=(0,i.Z)(t,2),r=n[0],o=n[1],c=r.split("-"),l=(0,i.Z)(c,3),u=l[0],d=l[1],m=l[2],p=o.split(":"),f=(0,i.Z)(p,3),v=f[0],h=f[1];f[2];if(e.dataHoraPouso){var x=e.dataHoraPouso.split("T"),g=(0,i.Z)(x,2),j=g[0],Z=g[1],b=j.split("-"),y=(0,i.Z)(b,3),w=(y[0],y[1],y[2],Z.split(":")),S=(0,i.Z)(w,3),N=S[0],C=S[1];S[2]}var k={data:"".concat(m,"/").concat(d,"/").concat(u),tipo:"missao",missao:{id:Math.floor(1e4*Math.random())+1,dep:e.codigoIcaoOrigem,horaDep:"".concat(v,":").concat(h,"Z"),pouso:e.codigoIcaoDestino,horaPouso:e.dataHoraPouso?"".concat(N,":").concat(C,"Z"):"",depISO:e.dataHoraDecolagem,pousoISO:e.dataHoraPouso,tripulacao:[],omis:"",edicao:!0},manutencao:null},I=s.avioes.findIndex((function(e){return e.aviao==Nt}));I>=0&&s.avioes[I].eventos.push(k),a.push(k)})),a.length>0&&((o=(0,r.Z)({},bt)).eventos=a,yt(o),ze(""),Xt(!1),ft(!0),he(s)));case 13:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),an=function(){var e=(0,o.Z)((0,n.Z)().mark((function e(t){var a,s,r,o,i,c,l=arguments;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=l.length>1&&void 0!==l[1]&&l[1],s=t[0],r=t[6],e.next=5,Gs.getMissoesAvioes({inicio:s,fim:r});case 5:(o=e.sent).error||(i=o.data,a||bt.eventos.length>0&&(c=i.findIndex((function(e){return e.aviao==Nt})))>=0&&bt.eventos.forEach((function(e){i[c].eventos.push(e)})),he({avioes:i}));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),sn=function(){var e=(0,o.Z)((0,n.Z)().mark((function e(){var t;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Gs.getAeronaves();case 2:(t=e.sent).error||Et(t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),nn=function(e,t){var a=new Date(ce);t?a.setDate(a.getDate()-e):a.setDate(a.getDate()+e),le(a)},rn=function(){var e=(0,o.Z)((0,n.Z)().mark((function e(){var t;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ft(!1),Rt(!1),Y(!1),U(!0),e.next=6,Gs.getUltimaMissao();case 6:(t=e.sent).error||na((parseInt(t.data[0].numero)+1).toString());case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),on=function(){var e=(0,o.Z)((0,n.Z)().mark((function e(){var t;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Ns(""),Os(""),(t=new Date).setHours(0,0,0,0),Ls(t),Ps(t),xs(!1),bs(!0);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),cn=function(){var e=(0,o.Z)((0,n.Z)().mark((function e(){var t,a,s,r,o;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""==Ke||""==Ye||4!=ke.length||4!=Te.length){e.next=9;break}return We(!1),at(!1),ot(!1),ze(""),e.next=7,Gs.getDistanciaAerodromos({origem:ke,destino:Te});case 7:(t=e.sent).error?(o=t.error,ze(t.error),o.includes(ke)&&We(!0),o.includes(Te)&&at(!0)):(a=t.data.distancia,s=Math.round(60*a/400),s=5*Math.ceil(s/5),(r=new Date(Ke)).setMinutes(r.getMinutes()+s),Ve(r));case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ln=function(e,t){Me(""),_e(""),Za(0);var a=new Date(t);a.setMinutes(a.getMinutes()+120);var s=a.getTimezoneOffset();a.setMinutes(a.getMinutes()+s),Be(a),Ie(e),Ve(a),Ks.current&&Rs.current.focus()},un=function(){var e=(0,o.Z)((0,n.Z)().mark((function e(){var t,s,r,i,c,l;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Rt(!0),""!=Nt&&0!=bt.eventos.length){e.next=5;break}return alert("Todos os campos s\xe3o obrigat\xf3rios!"),Rt(!1),e.abrupt("return");case 5:if(t=!1,bt.eventos.forEach((function(e){e.missao.pousoISO&&e.missao.depISO&&e.missao.alternativa&&""!=e.missao.alternativa||(t=!0)})),!t){e.next=11;break}return Rt(!1),alert("Hor\xe1rios de DEP e POUSO e ICAO de ALTERNATIVA s\xe3o obrigat\xf3rios!"),e.abrupt("return");case 11:if(X){e.next=31;break}return s={},""!=sa&&(s.numero=sa),""!=da&&(s.id_documento=da),e.next=17,Gs.createMissao(s);case 17:if((r=e.sent).error){e.next=29;break}return i=r.data.id,bt.eventos.forEach(function(){var e=(0,o.Z)((0,n.Z)().mark((function e(t,a){var s,o,c,l,u,d;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Gs.getAerodromo(t.missao.dep);case 2:return s=e.sent,e.next=5,Gs.getAerodromo(t.missao.pouso);case 5:if(o=e.sent,c=0,l=null,!t.missao.alternativa){e.next=17;break}return e.next=11,Gs.getAerodromo(t.missao.alternativa);case 11:return u=e.sent,l=u.data.id,e.next=15,Gs.getCombMinimo(t.missao.dep,t.missao.pouso,t.missao.alternativa);case 15:e.sent.error||(c=r.data.combustivel);case 17:return d={dep:t.missao.depISO,pouso:t.missao.pousoISO,id_missao:i,id_aeronave:Ot,id_dep:s.data.id,id_pouso:o.data.id,id_alternativa:l,combustivel_minimo:""!=t.missao.combustivel_minimo?t.missao.combustivel_minimo:c},e.next=20,Gs.createEtapa(d);case 20:if(!e.sent.error){e.next=26;break}return alert(r.etapa.error),e.abrupt("return");case 26:a==bt.eventos.length-1&&(U(!1),Rt(!1),setTimeout((function(){location.reload()}),"2000"));case 27:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()),c=[],a.forEach((function(e){c.push(e.id)})),l={id_missao:i,id_militares:c},e.next=26,Gs.createEscala(l);case 26:Rt(!1),e.next=31;break;case 29:Rt(!1),alert(r.error);case 31:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),dn=function(){var e=(0,o.Z)((0,n.Z)().mark((function e(){var t,a,s,r,c,l,u,d,m,p,f,v;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return m=function(e){var t=e%60,a=Math.floor(e/60).toString().padStart(2,"0"),s=t.toString().padStart(2,"0");return"".concat(a,":").concat(s)},u=function(){return(u=(0,o.Z)((0,n.Z)().mark((function e(){var t,o,l,u,d,m,p,f,v,h,x,g,j,Z,b,y,w;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:0,t=0;case 2:if(!(t<bt.eventos.length)){e.next=19;break}return o=bt.eventos[t],l="01:00",t!=bt.eventos.length-1&&(u=bt.eventos[t+1].missao.depISO,(d=new Date(u)-new Date(o.missao.pousoISO))<288e5&&(l=c(d))),m=s(o.missao.depISO),p=(0,i.Z)(m,2),f=p[0],v=p[1],h=s(o.missao.pousoISO),x=(0,i.Z)(h,2),x[0],g=x[1],j=c(new Date(o.missao.pousoISO)-new Date(o.missao.depISO)),Z="00:00",e.next=12,Gs.getDistanciaAerodromos({origem:o.missao.pouso,destino:o.missao.alternativa});case 12:(b=e.sent).error||(y=b.data.distancia,Z=r(y)),w={data:f,depIso:o.missao.depISO,horaDep:v,dep:o.missao.dep,horaPouso:g,pouso:o.missao.pouso,tev:j,solo:l,alternativa:o.missao.alternativa,tev_alt:Z,combustivel:o.missao.combustivel_minimo},a.push(w);case 16:t++,e.next=2;break;case 19:case"end":return e.stop()}}),e)})))).apply(this,arguments)},l=function(){return u.apply(this,arguments)},c=function(e){var t=Math.floor(e/36e5);t<=9&&(t="0"+t.toString());var a=Math.ceil(e%36e5/6e4);return a<=9&&(a="0"+a.toString()),t+":"+a},r=function(e){var t=e/400,a=Math.round(t%1*60);60===(a=5*Math.ceil(a/5))&&(t+=1,a=0);var s=Math.floor(t);return s<=9&&(s="0"+s.toString()),s+":"+(a<10?"0"+a:a)},t=[],bt.eventos[0].missao.tripulacao.forEach((function(e){t.push(e)})),a=[],s=function(e){var t=e.split("T"),a=(0,i.Z)(t,2),s=a[0],n=a[1],r=s.split("-"),o=(0,i.Z)(r,3),c=o[0],l=o[1],u=o[2],d=n.split(":"),m=(0,i.Z)(d,3),p=m[0],f=m[1];m[2];return[u+"/"+l+"/"+c,p+":"+f]},e.next=11,l();case 11:t.sort((function(e,t){return e.antiguidade-t.antiguidade})),d=0,a.forEach((function(e){var t=e.tev.split(":"),a=(0,i.Z)(t,2),s=a[0],n=a[1],r=60*parseInt(s)+parseInt(n);d+=r})),p={tripulacao:t,etapas:a,comandante:t[0].posto+" "+t[0].nome_guerra.toUpperCase(),data:a[0].data,aviao:Nt,omis:bt.eventos[0].missao.omis,ofrag:bt.eventos[0].ofrag,horas:m(d)},f=encodeURIComponent(JSON.stringify(p)),v="/omis?dados=".concat(f),window.open(v,"_blank");case 18:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),mn=function(){var e=(0,o.Z)((0,n.Z)().mark((function e(t,a,s){var r;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""==t||""==a||""==s||4!=t.length||4!=a.length||4!=s.length){e.next=5;break}return e.next=3,Gs.getCombMinimo({dep:t,pouso:a,alternativa:s});case 3:(r=e.sent).error||Za(r.data.combustivel);case 5:case"end":return e.stop()}}),e)})));return function(t,a,s){return e.apply(this,arguments)}}(),pn=function(){var e=(0,o.Z)((0,n.Z)().mark((function e(){var t,s,r,i,c,l,u,d;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Rt(!0),t=Jt,""==sa){e.next=8;break}return s={numero:sa},""!=da&&(s.id_documento=da),""!=ia&&(s.comentarios=ia),e.next=8,Gs.updateMissao(s,t);case 8:return r=bt.eventos.map(function(){var e=(0,o.Z)((0,n.Z)().mark((function e(t){var a,s,r,o,i;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={},e.next=3,Gs.getAerodromo(t.missao.dep);case 3:return s=e.sent,e.next=6,Gs.getAerodromo(t.missao.pouso);case 6:if(r=e.sent,o=null,!t.missao.alternativa){e.next=13;break}return e.next=11,Gs.getAerodromo(t.missao.alternativa);case 11:i=e.sent,o=i.data.id;case 13:return a.dep=t.missao.depISO,a.pouso=t.missao.pousoISO,a.id_aeronave=Ot,a.id_dep=s.data.id,a.id_pouso=r.data.id,a.id_alternativa=o,a.combustivel_minimo=t.missao.combustivel_minimo,t.missao.edicao?a.id=null:a.id=t.missao.id,e.abrupt("return",a);case 22:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=11,Promise.all(r);case 11:return i=e.sent,c={etapas:i,id_missao:t},e.next=15,Gs.updateEtapas(c);case 15:if(!(l=e.sent).error){e.next=22;break}return Rt(!1),alert(l.error),e.abrupt("return");case 22:return u=[],a.forEach((function(e){u.push(e.id)})),d={id_missao:t,id_militares:u},e.next=27,Gs.updateEscala(d);case 27:hn(),U(!1),Ws(ce,!0);case 30:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),fn=function(){var e=(0,o.Z)((0,n.Z)().mark((function e(){var t,a;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Ft(!0),!window.confirm("Deseja mesmo excluir essa miss\xe3o?")){e.next=16;break}return t=bt.eventos[0].missao.id_missao,e.next=6,Gs.deleteMissao(t);case 6:if(!(a=e.sent).error){e.next=11;break}return Ft(!1),alert(a.error),e.abrupt("return");case 11:Ft(!1),he({avioes:[]}),hn(),U(!1),Ws(ce,!0);case 16:Ft(!1);case 17:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),vn=function(e){var t=(0,s.Z)(a);t=t.filter((function(t){if(t.id!=e)return t})),d(t)},hn=function(){yt({aviao:"",eventos:[]});var e=(0,r.Z)({},ve);he(e),Me(""),Ie(""),_e(""),Be(new Date),Ve(new Date),Ct(""),ca(""),na(""),ma(""),Y(!1),Q(!1),d([]),Za(0),Ws(ce,!0)},xn=function(){var e=(0,o.Z)((0,n.Z)().mark((function e(){var t,a,s,o,c,l,u,d,m,p,f,v,h,x,g,j,Z,b,y,w,S,N,C,k,I,O,D,T,M,L,E,A,_;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(ze(""),""!=Te&&""!=ke&&""!=Ae&&""!=Ke&&""!=Ye){e.next=4;break}return ze("Todos os campos s\xe3o obrigat\xf3rios"),e.abrupt("return");case 4:if(""!=Nt){e.next=7;break}return ze("A aeronave \xe9 obrigat\xf3ria"),e.abrupt("return");case 7:return e.next=9,Gs.getAerodromo(Ae);case 9:if(!(t=e.sent).error){e.next=14;break}return ze(t.error),ot(!0),e.abrupt("return");case 14:ot(!1),a=Ke.getTimezoneOffset(),Ke.setMinutes(Ke.getMinutes()-a),s=Ye.getTimezoneOffset(),Ye.setMinutes(Ye.getMinutes()-s),o=Ke.toISOString(),c=Ye.toISOString(),l=o.split("T"),u=(0,i.Z)(l,2),d=u[0],m=u[1],p=c.split("T"),f=(0,i.Z)(p,2),f[0],v=f[1],h=d.split("-"),x=(0,i.Z)(h,3),g=x[0],j=x[1],Z=x[2],b=m.split(":"),y=(0,i.Z)(b,3),w=y[0],S=y[1],y[2],N=v.split(":"),C=(0,i.Z)(N,3),k=C[0],I=C[1],C[2],O=(0,r.Z)({},bt),D=(0,r.Z)({},ve),T=O.eventos[ee],M={data:"".concat(Z,"/").concat(j,"/").concat(g),tipo:"missao",missao:{id:T.missao.id,dep:ke,horaDep:"".concat(w,":").concat(S,"Z"),pouso:Te,horaPouso:"".concat(k,":").concat(I,"Z"),alternativa:Ae,depISO:Ke,pousoISO:Ye,tripulacao:[],omis:"",combustivel_minimo:ja,edicao:T.missao.edicao},manutencao:null},O.eventos[ee]=M,yt(O),(L=D.avioes.findIndex((function(e){return e.aviao==Nt})))>=0&&(E=D.avioes[L].eventos.findIndex((function(e){return e.missao.id==T.missao.id})))>=0&&(D.avioes[L].eventos[E]=M,he(D)),A=O.eventos[O.eventos.length-1].missao.pouso,_=O.eventos[O.eventos.length-1].missao.pousoISO,Q(!1),te(""),ln(A,_);case 39:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),gn=function(){var e=(0,o.Z)((0,n.Z)().mark((function e(){var t,a,s,o,c,l,u,d,m,p,f,v,h,x,g,j,Z,b,y,w,S,N,C,k,I,O,D,T,M;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(ze(""),""!=Te&&""!=ke&&""!=Ae&&""!=Ke&&""!=Ye){e.next=4;break}return ze("Todos os campos s\xe3o obrigat\xf3rios"),e.abrupt("return");case 4:if(""!=Nt){e.next=7;break}return ze("A aeronave \xe9 obrigat\xf3ria"),e.abrupt("return");case 7:return e.next=9,Gs.getAerodromo(Ae);case 9:if(!(t=e.sent).error){e.next=14;break}return ze(t.error),ot(!0),e.abrupt("return",null);case 14:return ot(!1),at(!1),a=Ke.getTimezoneOffset(),Ke.setMinutes(Ke.getMinutes()-a),s=Ye.getTimezoneOffset(),Ye.setMinutes(Ye.getMinutes()-s),o=Ke.toISOString(),c=Ye.toISOString(),l=o.split("T"),u=(0,i.Z)(l,2),d=u[0],m=u[1],p=c.split("T"),f=(0,i.Z)(p,2),f[0],v=f[1],h=d.split("-"),x=(0,i.Z)(h,3),g=x[0],j=x[1],Z=x[2],b=m.split(":"),y=(0,i.Z)(b,3),w=y[0],S=y[1],y[2],N=v.split(":"),C=(0,i.Z)(N,3),k=C[0],I=C[1],C[2],O={data:"".concat(Z,"/").concat(j,"/").concat(g),tipo:"missao",missao:{id:Math.floor(1e4*Math.random())+1,dep:ke,horaDep:"".concat(w,":").concat(S,"Z"),pouso:Te,horaPouso:"".concat(k,":").concat(I,"Z"),alternativa:Ae,depISO:Ke,pousoISO:Ye,tripulacao:[],omis:"",combustivel_minimo:ja,edicao:!0},manutencao:null},(D=(0,r.Z)({},bt)).eventos.push(O),T=(0,r.Z)({},ve),(M=T.avioes.findIndex((function(e){return e.aviao==Nt})))>=0&&T.avioes[M].eventos.push(O),he(T),yt(D),ln(Te,Ye),e.abrupt("return",!0);case 37:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),jn=function(){var e=(0,o.Z)((0,n.Z)().mark((function e(){var t,a;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!=Ka&&""!=Aa){e.next=3;break}return alert("Todos os campos s\xe3o obrigat\xf3rios"),e.abrupt("return");case 3:return t={situacao:Ka,ciclos:Ta,horas:Aa},e.next=6,Gs.updateAeronave(t,ts);case 6:if(!(a=e.sent).error){e.next=12;break}return alert(a.error),e.abrupt("return");case 12:as(""),Ma(""),_a(""),Ba(""),Ia(!1),alert(a.msg),location.reload();case 19:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Zn=function(){var e=(0,o.Z)((0,n.Z)().mark((function e(){var t,a,s,r;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t={titulo:Ss,observacoes:Is,inicio:Ms,fim:_s},!hs){e.next=9;break}return a=zs,e.next=5,Gs.updateObservacao(t,a);case 5:(s=e.sent).error||(Ns(""),Os(""),Ls(new Date),Ps(new Date),bs(!1),xs(!1),alert(s.msg),location.reload()),e.next=13;break;case 9:return e.next=11,Gs.createObservacao(t);case 11:(r=e.sent).error||(Ns(""),Os(""),Ls(new Date),Ps(new Date),bs(!1),xs(!1),alert(r.msg),location.reload());case 13:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),bn=function(){var e=(0,o.Z)((0,n.Z)().mark((function e(){var t,a;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=zs,e.next=3,Gs.deleteObservacao(t);case 3:if(!(a=e.sent).error){e.next=7;break}return alert(a.error),e.abrupt("return");case 7:Ns(""),Os(""),Ls(new Date),Ps(new Date),bs(!1),xs(!1),alert(a.msg),location.reload();case 15:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();(0,c.useEffect)((function(){!function(){if(bt.eventos.length>0){var e=(0,r.Z)({},ve);e.avioes.forEach((function(t,a){if(t.eventos.length>0){var s=t.eventos.filter((function(e){if(bt.eventos.findIndex((function(t){return t.missao.id==e.missao.id}))<0)return e}));e.avioes[a].eventos=s}}));var t=e.avioes.findIndex((function(e){return e.aviao==Nt}));t>=0&&bt.eventos.forEach((function(a){e.avioes[t].eventos.push(a)})),he(e)}}()}),[Nt]),(0,c.useEffect)((function(){cn()}),[Te,ke,Ke]),(0,c.useEffect)((function(){mn(ke,Te,Ae)}),[Te,ke,Ae]),(0,c.useEffect)((function(){sn(),en()}),[]),(0,c.useEffect)((function(){Ws(ce)}),[ce]);var yn=(0,c.forwardRef)((function(e,t){e.value;var a=e.onClick;return(0,p.jsx)("button",{className:"calendario",onClick:a,ref:t,children:ce.toLocaleString("pt-BR",{month:"long"}).toUpperCase()+"/"+ce.getFullYear()})})),wn=function(e){e.value;var t=e.onClick;return(0,p.jsx)("button",{className:"calendario",onClick:t,children:"+"})},Sn=function(e){e.value;var t=e.onClick;return(0,p.jsx)("button",{style:{backgroundColor:"#fff",color:"#000"},className:"calendario",onClick:t,children:"+"})};return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)(l.xH,{className:"mb-6",style:{flexDirection:"column"},children:[(0,p.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",padding:10},children:[(0,p.jsx)("div",{className:"",children:(0,p.jsx)(m(),{selected:ce,timeInputLabel:ce.toLocaleString("pt-BR",{month:"long"}).toUpperCase()+"/"+ce.getFullYear(),onChange:function(e){return le(e)},customInput:(0,p.jsx)(yn,{})})}),(0,p.jsxs)("div",{className:"botoes",children:[(0,p.jsx)("button",{className:"calendario",onClick:function(){return nn(7,!0)},children:"<<"}),(0,p.jsx)("button",{className:"calendario",onClick:function(){return nn(1,!0)},children:"<"}),(0,p.jsx)("button",{className:"calendario",onClick:function(){le(me)},children:"HOJE"}),(0,p.jsx)("button",{className:"calendario",onClick:function(){return nn(1,!1)},children:">"}),(0,p.jsx)("button",{className:"calendario",onClick:function(){return nn(7,!1)},children:">>"})]}),(0,p.jsxs)("div",{children:[(0,p.jsx)("button",{onClick:rn,className:"calendario",children:"Criar Miss\xe3o"}),(0,p.jsx)("button",{onClick:on,className:"calendario",children:"Criar OBS"})]})]}),(0,p.jsxs)("div",{style:{display:"flex",flexDirection:"column",width:"100%"},children:[(0,p.jsxs)("div",{className:"topo",children:[(0,p.jsx)("div",{className:"missao",children:"Avi\xe3o"}),ne.map((function(e,t){var a=me.getDate(),s=me.getMonth()+1;a<=9&&(a="0"+a),s<=9&&(s="0"+s);var n=a+"/"+s+"/"+me.getFullYear();return(0,p.jsx)("div",{className:"missao",style:{backgroundColor:n==e?"#46a31d":"#000"},children:e})}))]}),(0,p.jsxs)("div",{className:"missoes",children:[(0,p.jsxs)("div",{className:"missao-item",children:[(0,p.jsx)("div",{className:"missao aviao",children:"OBS"}),ne.map((function(e){return(0,p.jsx)("div",{className:"item-missao",children:rs.map((function(t){var a=e.split("/"),s=(0,i.Z)(a,3),n=s[0],r=s[1],o=s[2],c=new Date(o,r-1,n),l=new Date(t.inicio),u=new Date(t.fim);if(c.getTime()<=u.getTime()&&c.getTime()>=l.getTime())return(0,p.jsx)("div",{className:"missao-white white",onClick:function(){return e=t,xs(!0),Ns(e.titulo),Os(e.observacoes),Hs(e.id),Ls(new Date(e.inicio)),Ps(new Date(e.fim)),void bs(!0);var e},onMouseLeave:Ys,children:t.titulo})}))})}))]}),ve.avioes.length>0&&ve.avioes.map((function(e){return(0,p.jsxs)("div",{className:"missao-item",children:[(0,p.jsxs)("div",{className:"IN"==e.situacao||"IS"==e.situacao?"missao aviao in":"missao aviao",children:[(0,p.jsx)("span",{style:{cursor:"pointer"},onClick:function(){return function(e,t,a,s,n,r,o){Ma(a),_a(s),za(e),Ba(n),Va(r),as(t),Wa(function(e){var t=e.split("T"),a=(0,i.Z)(t,2),s=a[0],n=a[1],r=s.split("-"),o=(0,i.Z)(r,3),c=o[0],l=o[1],u=o[2],d=n.split(":"),m=(0,i.Z)(d,3),p=m[0],f=m[1];return m[2],u+"/"+l+"/"+c+" - "+p+":"+f}(o)),Ia(!0)}(e.aviao,e.id,e.ciclos,e.horas,e.situacao,e.atualizador,e.atualizado)},children:e.aviao}),(0,p.jsxs)("span",{className:"dados-aviao",children:["Situa\xe7\xe3o: ",e.situacao]}),(0,p.jsxs)("span",{className:"dados-aviao",children:["Ciclos: ",e.ciclos]}),(0,p.jsxs)("span",{className:"dados-aviao",children:["Horas: ",e.horas]})]}),ne.map((function(t){return(0,p.jsx)("div",{className:"item-missao",children:e.eventos.length>0&&e.eventos.map((function(a){if(a.data==t)return(0,p.jsxs)("div",{onClick:function(){return Vs(e,a)},className:"missao-white white",onMouseEnter:function(){return function(e,t){T(e);var a=t.tripulacao.map((function(e){return e.trigrama}));k(a.join("/")),Ze(t),A(!0)}(a.missao.id,a.missao)},onMouseLeave:Xs,children:[E&&D==a.missao.id&&null!=a.missao.id&&(0,p.jsxs)("div",{style:{position:"absolute",top:"100%",left:"0",background:"#000",color:"#fff",padding:"10px",border:"1px solid black",zIndex:1},children:[(0,p.jsxs)("p",{style:{fontSize:"1vw"},children:["OMIS: ",je.omis]}),(0,p.jsxs)("p",{style:{fontSize:"1vw"},children:["Tripula\xe7\xe3o: ",C]})]}),(0,p.jsxs)("div",{className:"text-missao",children:[a.missao.horaDep," ",a.missao.dep]}),(0,p.jsxs)("div",{className:"text-missao",children:[a.missao.horaPouso," ",a.missao.pouso," "]})]})}))})}))]})}))]})]}),(0,p.jsxs)("div",{ref:Bs,className:F?"modal-create-visible":"modal-create",children:[(0,p.jsx)("div",{style:{display:"flex",justifyContent:"flex-end",margin:10,cursor:"pointer"},children:(0,p.jsx)("div",{onClick:function(){window.confirm("Deseja mesmo sair? Todos os dados adicionados at\xe9 o momento ser\xe3o perdidos")&&(hn(),U(!1))},style:{color:"#fff"},children:"X"})}),(0,p.jsxs)("div",{className:"criar-div",children:[(0,p.jsxs)("h3",{style:{color:"#fff"},children:[X?"Editar":"Criar"," Miss\xe3o"]}),X?(0,p.jsx)("button",{className:"ver-omis",onClick:dn,children:"Ver OMIS"}):null]}),(0,p.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",marginTop:20,alignItems:"center"},children:[(0,p.jsx)("span",{style:{color:"#fff"},children:"Avi\xe3o:"}),Lt.map((function(e){return(0,p.jsx)("button",{onClick:function(){Ct(e.aeronave),Dt(e.id);var t=(0,r.Z)({},bt);t.aviao=e.aeronave,yt(t)},style:{backgroundColor:Nt==e.aeronave?"#28a745":"#FFF",color:Nt==e.aeronave?"#fff":"#000"},className:"botao-aviao",children:e.aeronave})}))]}),(0,p.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",marginTop:20,alignItems:"center"},children:[(0,p.jsx)("span",{style:{color:"#fff"},children:"OMIS:"}),(0,p.jsxs)("div",{style:{color:"#fff"},children:[(0,p.jsx)(h,{value:sa,onChange:na,disabled:wa}),wa&&(0,p.jsx)("button",{onClick:function(){return Sa(!1)},className:"cumprir",children:"Editar"}),!wa&&(0,p.jsx)("button",{onClick:function(){return Sa(!0)},className:"cumprir",children:"Salvar N\xfamero"})]})]}),(0,p.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",marginTop:20,alignItems:"center"},children:[(0,p.jsx)("span",{style:{color:"#fff"},children:"OFRAG:"}),(0,p.jsxs)("div",{style:{color:"#fff"},children:[(0,p.jsxs)("select",{id:"select-box",style:{borderRadius:5},value:da,onChange:function(e){ma(e.target.value)},children:[(0,p.jsx)("option",{value:"",children:"Selecione uma op\xe7\xe3o"}),va.length>0?va.map((function(e,t){return(0,p.jsx)("option",{style:{backgroundColor:"#fff"},value:e.id,children:e.numero},t)})):null]}),""==da||X||pt?null:Gt?(0,p.jsx)(N.Z,{}):(0,p.jsx)("button",{onClick:tn,className:"cumprir",children:"Cumprir"}),""!=lt&&(0,p.jsx)("div",{style:{marginTop:10},class:"alert alert-danger",role:"alert",children:lt})]})]}),(0,p.jsxs)("div",{className:"add-etapa",children:[(0,p.jsx)("span",{style:{color:"#fff"},children:"Etapas:"}),(0,p.jsx)("img",{onClick:function(){if(!q&&we&&Se(!1),!q&&!we&&(Se(!0),bt.eventos.length>0)){var e=bt.eventos[bt.eventos.length-1].missao.pouso,t=bt.eventos[bt.eventos.length-1].missao.pousoISO;ln(e,t)}q&&Q(!1)},style:{cursor:"pointer"},src:"https://www.1gtt.com.br/app/add-white.png",width:20,height:20})]}),(we||q)&&(0,p.jsxs)("div",{className:"form-area",children:[(0,p.jsxs)("div",{className:"form-add",children:[(0,p.jsx)("span",{style:{color:"#000"},children:"DEP: "}),(0,p.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[Ke.toLocaleString([],{year:"numeric",month:"2-digit",day:"2-digit",hour:"numeric",minute:"numeric"})+"Z",(0,p.jsx)("div",{className:"",style:{marginLeft:10},children:(0,p.jsx)(m(),{selected:Ke,timeInputLabel:Ke,onChange:function(e){Be(e)},customInput:(0,p.jsx)(wn,{}),showTimeSelect:!0,timeFormat:"HH:mm",timeIntervals:10,dateFormat:"LLL",timeZone:"Etc/UTC",timeZoneData:[{value:"Etc/UTC",label:"Zulu (GMT 0)"}]})})]})]}),(0,p.jsxs)("div",{className:"form-add",children:[(0,p.jsx)("span",{style:{color:"#000"},children:"ICAO de Origem: "}),(0,p.jsx)(f,{erro:Qe,maxLength:4,value:ke,onChange:Ie})]}),(0,p.jsxs)("div",{className:"form-add",children:[(0,p.jsx)("span",{style:{color:"#000"},children:"ICAO de Destino: "}),(0,p.jsx)(f,{ref:Rs,id:"icao-pouso",onKeyPress:Js,erro:tt,maxLength:4,value:Te,onChange:Me})]}),(0,p.jsxs)("div",{className:"form-add",children:[(0,p.jsx)("span",{style:{color:"#000"},children:"ICAO de Alternativa: "}),(0,p.jsx)(f,{ref:Ks,onKeyPress:Js,erro:rt,maxLength:4,value:Ae,onChange:_e})]}),(0,p.jsxs)("div",{className:"form-add",children:[(0,p.jsx)("span",{style:{color:"#000"},children:"Pouso: "}),(0,p.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[Ye.toLocaleString([],{year:"numeric",month:"2-digit",day:"2-digit",hour:"numeric",minute:"numeric"})+"Z",(0,p.jsx)("div",{className:"",style:{marginLeft:10},children:(0,p.jsx)(m(),{selected:Ye,timeInputLabel:Ye,onChange:function(e){Ve(e)},customInput:(0,p.jsx)(wn,{}),showTimeSelect:!0,timeFormat:"HH:mm",timeIntervals:10,dateFormat:"LLL"})})]})]}),(0,p.jsxs)("div",{className:"form-add",children:[(0,p.jsx)("span",{style:{color:"#000"},children:"COMB M\xednimo: "}),(0,p.jsx)(x,{onKeyPress:Js,value:ja,onChange:Za})]}),(0,p.jsxs)("div",{className:"botoes-add-etapa",children:[(0,p.jsx)("button",{onClick:function(){Ie(""),Me(""),Be(""),Ve(""),Se(!1),Q(!1)},className:"cancelar",children:"Cancelar"}),(0,p.jsx)("button",{className:"adicionar",onClick:q?xn:gn,children:q?"Editar":"Adicionar"})]}),""!=Ue&&(0,p.jsx)("div",{style:{marginTop:10},class:"alert alert-danger",role:"alert",children:Ue})]}),bt.eventos.map((function(e,t){return(0,p.jsx)(S,{edit:function(){te(t),Q(!0),function(e){var t=(0,r.Z)({},bt).eventos[e];Ie(t.missao.dep),Me(t.missao.pouso),_e(t.missao.alternativa?t.missao.alternativa:""),Za(t.missao.combustivel_minimo?t.missao.combustivel_minimo:0),"string"==typeof t.missao.depISO&&(t.missao.depISO=new Date(t.missao.depISO)),"string"==typeof t.missao.pousoISO&&(t.missao.pousoISO=new Date(t.missao.pousoISO));var a=t.missao.depISO.getTimezoneOffset();if(t.missao.depISO.setMinutes(t.missao.depISO.getMinutes()+a),t.missao.pousoISO){var s=t.missao.pousoISO.getTimezoneOffset();t.missao.pousoISO.setMinutes(t.missao.pousoISO.getMinutes()+s),Ve(t.missao.pousoISO)}else cn();Be(t.missao.depISO)}(t),Bs.current.scrollTop=0},del:function(){var e=(0,r.Z)({},bt),a=e.eventos.filter((function(e,a){if(a!=t)return e}));e.eventos=a,yt(e)},index:t,dep:e.missao.dep,pouso:e.missao.pouso,alternativa:e.missao.alternativa,horaDep:e.missao.horaDep,horaPouso:e.missao.horaPouso})})),(0,p.jsxs)("div",{className:"add-trip",children:[(0,p.jsx)("span",{style:{color:"#fff"},children:"Tripula\xe7\xe3o:"}),(0,p.jsx)(v,{maxLength:3,value:$t,onChange:ea,onKeyPress:Qs}),xt&&(0,p.jsx)("div",{style:{marginTop:10},class:"alert alert-danger",role:"alert",children:xt}),(0,p.jsx)("div",{className:"tripulante-row",children:(0,p.jsx)("span",{style:{color:"#fff"},className:"tripulante",children:"Pilotos:"})}),(0,p.jsx)("div",{className:"caixa-tripulante",children:a.map((function(e){if("Piloto"==e.funcao)return(0,p.jsxs)("div",{className:"tripulante-item",children:[e.trigrama,(0,p.jsx)("img",{style:{marginLeft:5,cursor:"pointer"},onClick:function(){return vn(e.id)},src:"https://www.1gtt.com.br/app/close.png",width:"15px"})]})}))}),(0,p.jsx)("div",{className:"tripulante-row",children:(0,p.jsx)("span",{style:{color:"#fff"},className:"tripulante",children:"Mec\xe2nicos:"})}),(0,p.jsx)("div",{className:"caixa-tripulante",children:a.map((function(e){if("Mec\xe2nico de Voo"==e.funcao)return(0,p.jsxs)("div",{className:"tripulante-item",children:[e.trigrama,(0,p.jsx)("img",{style:{marginLeft:5,cursor:"pointer"},onClick:function(){return vn(e.id)},src:"https://www.1gtt.com.br/app/close.png",width:"15px"})]})}))}),(0,p.jsx)("div",{className:"tripulante-row",children:(0,p.jsx)("span",{style:{color:"#fff"},className:"tripulante",children:"Loadmasters:"})}),(0,p.jsx)("div",{className:"caixa-tripulante",children:a.map((function(e){if("Loadmaster"==e.funcao)return(0,p.jsxs)("div",{className:"tripulante-item",children:[e.trigrama,(0,p.jsx)("img",{style:{marginLeft:5,cursor:"pointer"},onClick:function(){return vn(e.id)},src:"https://www.1gtt.com.br/app/close.png",width:"15px"})]})}))}),(0,p.jsx)("div",{className:"tripulante-row",children:(0,p.jsx)("span",{style:{color:"#fff"},className:"tripulante",children:"Comiss\xe1rios:"})}),(0,p.jsx)("div",{className:"caixa-tripulante",children:a.map((function(e){if("Comiss\xe1rio"==e.funcao)return(0,p.jsxs)("div",{className:"tripulante-item",children:[e.trigrama,(0,p.jsx)("img",{style:{marginLeft:5,cursor:"pointer"},onClick:function(){return vn(e.id)},src:"https://www.1gtt.com.br/app/close.png",width:"15px"})]})}))}),(0,p.jsx)("div",{className:"tripulante-row",children:(0,p.jsx)("span",{style:{color:"#fff"},className:"tripulante",children:"OE-3:"})}),(0,p.jsx)("div",{className:"caixa-tripulante",children:a.map((function(e){if("O3"==e.funcao)return(0,p.jsxs)("div",{className:"tripulante-item",children:[e.trigrama,(0,p.jsx)("img",{style:{marginLeft:5,cursor:"pointer"},onClick:function(){return vn(e.id)},src:"https://www.1gtt.com.br/app/close.png",width:"15px"})]})}))})]}),(0,p.jsxs)("div",{style:{marginTop:30,display:"flex",flexDirection:"column"},children:[(0,p.jsx)("span",{style:{color:"#fff"},children:"Coment\xe1rios: "}),(0,p.jsx)("textarea",{value:ia,onChange:function(e){return ca(e.target.value)},style:{borderRadius:10,padding:5}})]}),(0,p.jsxs)("div",{className:"botoes-add-etapa",style:{marginTop:30},children:[(0,p.jsx)("button",{className:"cancelar",style:{fontSize:"1vw"},onClick:hn,children:"Limpar"}),Ht?(0,p.jsx)(N.Z,{}):(0,p.jsx)("button",{className:"adicionar",style:{fontSize:"1vw"},onClick:X?pn:un,children:X?"Editar Miss\xe3o":"Criar Miss\xe3o"})]}),(0,p.jsxs)("div",{className:"botoes-add-etapa",style:{marginTop:30,justifyContent:"center"},children:[Pt&&(0,p.jsx)(N.Z,{}),X?(0,p.jsx)("button",{className:"cancelar",style:{fontSize:"1.3vw"},onClick:fn,children:"Excluir Miss\xe3o"}):(0,p.jsx)(p.Fragment,{})]})]})]}),ls&&(0,p.jsxs)("div",{className:"modal-aviao",style:{alignItems:"flex-end"},onMouseLeave:Ys,children:[(0,p.jsx)("span",{onClick:function(){us(!1)},className:"title-modal",style:{color:"#fff",cursor:"pointer"},children:"X"}),(0,p.jsx)("p",{style:{fontSize:"1vw",color:"#fff",marginTop:20},children:ps})]}),R&&(0,p.jsxs)("div",{className:"modal-aviao",style:{alignItems:"flex-end"},children:[(0,p.jsx)("span",{onClick:function(){K(!1)},className:"title-modal",style:{color:"#fff",cursor:"pointer"},children:"X"}),(0,p.jsxs)("div",{className:"modal-body",children:[(0,p.jsxs)("div",{className:"item-body-modal",children:[(0,p.jsx)("span",{className:"text-modal",style:{color:"#fff"},children:"T\xedtulo:"}),(0,p.jsx)(g,{value:Ta,onChange:Ma})]}),(0,p.jsxs)("div",{className:"item-body-modal",children:[(0,p.jsx)("span",{className:"text-modal",style:{color:"#fff"},children:"Observa\xe7\xe3o:"}),(0,p.jsx)(g,{value:Ta,onChange:Ma})]})]})]}),Zs&&(0,p.jsxs)("div",{className:"modal-aviao",style:{alignItems:"flex-end"},children:[(0,p.jsx)("span",{onClick:function(){bs(!1)},className:"title-modal",style:{color:"#fff",cursor:"pointer"},children:"X"}),(0,p.jsxs)("div",{className:"modal-body",children:[(0,p.jsxs)("div",{className:"item-body-modal",children:[(0,p.jsx)("span",{className:"text-modal",style:{color:"#fff"},children:"T\xedtulo:"}),(0,p.jsx)(Z,{value:Ss,onChange:Ns})]}),(0,p.jsx)("div",{className:"item-body-modal",children:(0,p.jsx)("span",{className:"text-modal",style:{color:"#fff"},children:"Coment\xe1rios:"})}),(0,p.jsx)(b,{linhas:4,value:Is,onChange:Os}),(0,p.jsxs)("div",{className:"item-modal-body",children:[(0,p.jsx)("span",{style:{color:"#fff",marginRight:10},children:"Inicio: "}),(0,p.jsxs)("div",{style:{display:"flex",color:"#fff",alignItems:"center"},children:[(0,p.jsx)("div",{className:"input-obs",children:Ms.toLocaleString([],{year:"numeric",month:"2-digit",day:"2-digit"})}),(0,p.jsx)("div",{className:"",style:{marginLeft:10},children:(0,p.jsx)(m(),{selected:Ms,timeInputLabel:Ms,onChange:function(e){Ls(e)},customInput:(0,p.jsx)(Sn,{}),timeIntervals:10,timeZone:"Etc/UTC",timeZoneData:[{value:"Etc/UTC",label:"Zulu (GMT 0)"}]})})]})]}),(0,p.jsxs)("div",{className:"item-modal-body",children:[(0,p.jsx)("span",{style:{color:"#fff",marginRight:10},children:"Fim: "}),(0,p.jsxs)("div",{style:{display:"flex",color:"#fff",alignItems:"center"},children:[(0,p.jsx)("div",{className:"input-obs",children:_s.toLocaleString([],{year:"numeric",month:"2-digit",day:"2-digit"})}),(0,p.jsx)("div",{className:"",style:{marginLeft:10},children:(0,p.jsx)(m(),{selected:_s,timeInputLabel:_s,onChange:function(e){Ps(e)},customInput:(0,p.jsx)(Sn,{}),timeFormat:"HH:mm",timeIntervals:10,dateFormat:"LLL",timeZone:"Etc/UTC",timeZoneData:[{value:"Etc/UTC",label:"Zulu (GMT 0)"}]})})]})]}),(0,p.jsx)("div",{className:"modal-bottom",children:(0,p.jsx)("button",{onClick:Zn,className:"salvar",children:hs?"Editar":"Salvar"})}),hs&&(0,p.jsx)("div",{className:"modal-bottom",children:(0,p.jsx)("button",{onClick:function(){window.confirm("Deseja mesmo excluir essa Observa\xe7\xe3o?")&&bn()},className:"excluir",children:"Excluir"})})]})]}),ka&&(0,p.jsxs)("div",{className:"modal-aviao",children:[(0,p.jsxs)("div",{className:"modal-topo",children:[(0,p.jsx)("div",{className:"nome-aviao",children:(0,p.jsxs)("span",{className:"title-modal",style:{color:"#fff"},children:["FAB ",Ua]})}),(0,p.jsx)("span",{onClick:function(){Ia(!1)},className:"title-modal",style:{color:"#fff",cursor:"pointer"},children:"X"})]}),(0,p.jsxs)("div",{className:"modal-body",children:[(0,p.jsxs)("div",{className:"item-body-modal",children:[(0,p.jsx)("span",{className:"text-modal",style:{color:"#fff"},children:"Ciclos:"}),(0,p.jsx)(g,{value:Ta,onChange:Ma})]}),(0,p.jsxs)("div",{className:"item-body-modal",children:[(0,p.jsx)("span",{className:"text-modal",style:{color:"#fff"},children:"Horas:"}),(0,p.jsx)(j,{value:Aa,onChange:_a})]}),(0,p.jsxs)("div",{className:"item-body-modal",children:[(0,p.jsx)("span",{className:"text-modal",style:{color:"#fff"},children:"Situa\xe7\xe3o:"}),(0,p.jsx)("select",{style:{borderRadius:10},value:Ka,onChange:function(e){Ba(e.target.value)},children:["DI","DO","IN","IS"].map((function(e,t){return(0,p.jsx)("option",{value:e,children:e},t)}))})]}),(0,p.jsx)("div",{className:"item-body-modal",children:(0,p.jsxs)("span",{className:"text-modal",style:{color:"#fff"},children:["Atualizado por: ",Ya]})}),(0,p.jsx)("div",{className:"item-body-modal",children:(0,p.jsxs)("span",{className:"text-modal",style:{color:"#fff"},children:["Em: ",Qa," Z"]})})]}),(0,p.jsx)("div",{className:"modal-bottom",children:(0,p.jsx)("button",{onClick:jn,className:"salvar",children:"Salvar"})})]})]})}}}]);
//# sourceMappingURL=804.d899db2f.chunk.js.map