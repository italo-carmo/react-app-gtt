{"version":3,"file":"static/js/158.44d6debf.chunk.js","mappings":"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","sources":["views/main/Main.js"],"sourcesContent":["import React, { useEffect, useState } from 'react'\nimport styles from './styles.css'\nimport {\n  CCard,\n\n} from '@coreui/react'\nimport { Alert } from '@coreui/coreui'\nimport useApi from 'src/services/Api'\n\n\nconst Dashboard = () => {\n\n  const [tripulacao,setTripulacao] = useState([])\n  const [id,setId] = useState([])\n  const [caixaVisible, setCaixaVisible] = useState(false)\n  const [caixaCreateVisible, setCaixaCreateVisible] = useState(false)\n  const [idEdit, setIdEdit] = useState('')\n  const [semana, setSemana] = useState([])\n  const [firstDay, setFirstDay] = useState(new Date())\n  const [hoje, setHoje] = useState(new Date())\n  const [data, setData] = useState({avioes:[]})\n  const [etapaToShow, setEtapaToShow] = useState('')\n\n  const Api = useApi()\n\n  let data2 = {\n    avioes:[\n      {\n        aviao: '2853',\n        eventos: [\n          {\n            data: '17/05/2023',\n            tipo: 'missao',\n            missao: {\n              id: 1,\n              dep: 'SBAN',\n              horaDep: '1200',\n              pouso: 'SBBR',\n              horaPouso: '1230',\n              tripulacao: ['ITL', 'AIS', 'WSL', 'OTO'],\n              omis:'001'\n            },\n            manutencao: null\n        },\n        {\n          data: '17/05/2023',\n          tipo: 'missao',\n          missao: {\n            id: 2,\n            dep: 'SBBR',\n            horaDep: '1430',\n            pouso: 'SBGL',\n            horaPouso: '1600',\n            tripulacao: ['TNT', 'GMR', 'THA', 'MRC'],\n            omis:'001'\n          },\n          manutencao: null\n      },\n      {\n        data: '17/05/2023',\n        tipo: 'missao',\n        missao: {\n          id: 2,\n          dep: 'SBGL',\n          horaDep: '1730',\n          pouso: 'SBAN',\n          horaPouso: '1900',\n          tripulacao: ['TNT', 'GMR', 'THA', 'MRC'],\n          omis:'001'\n        },\n        manutencao: null\n    },\n      ]\n      },\n      {\n        aviao: '2854',\n        eventos: [\n          {\n            data: '19/05/2023',\n            tipo: 'missao',\n            missao: {\n              id: 2,\n              dep: 'SBAN',\n              horaDep: '1200',\n              pouso: 'SBBR',\n              horaPouso: '1230',\n              tripulacao: ['TNT', 'GMR', 'THA', 'MRC'],\n              omis:'001'\n            },\n            manutencao: null\n        },\n        {\n          data: '19/05/2023',\n          tipo: 'missao',\n          missao: {\n            id: 2,\n            dep: 'SBBR',\n            horaDep: '1400',\n            pouso: 'SBAN',\n            horaPouso: '1430',\n            tripulacao: ['TNT', 'GMR', 'THA', 'MRC'],\n            omis:'001'\n          },\n          manutencao: null\n      },\n        ]\n      },\n      {\n        aviao: '2855',\n       eventos: [\n          {\n            data: '17/05/2023',\n            tipo: 'missao',\n            missao: {\n              id: 1,\n              dep: 'SBAN',\n              horaDep: '1200',\n              pouso: 'SBBR',\n              horaPouso: '1230',\n              tripulacao: ['ITL', 'AIS', 'WSL', 'OTO'],\n              omis:'001'\n            },\n            manutencao: null\n        },\n        {\n          data: '17/05/2023',\n          tipo: 'missao',\n          missao: {\n            id: 2,\n            dep: 'SBBR',\n            horaDep: '1430',\n            pouso: 'SBGL',\n            horaPouso: '1600',\n            tripulacao: ['TNT', 'GMR', 'THA', 'MRC'],\n            omis:'001'\n          },\n          manutencao: null\n      },\n      ]\n      },\n      {\n        aviao: '2856',\n        eventos: []\n      }\n    ]\n  }\n\n  const handleMouseEnter = (id,etapa) => {\n    setId(id)\n    setTripulacao(etapa.tripulacao.join('/'))\n    setEtapaToShow(etapa)\n    setCaixaVisible(true);\n  };\n\n  const handleMouseLeave = () => {\n    setCaixaVisible(false);\n  };\n\n  const handleEditMission = (id) => {\n    setIdEdit(id)\n    setCaixaCreateVisible(true)\n  }\n\n  const getDias = (hoje) => {\n    let hoje_copy = new Date(hoje)\n    hoje_copy.setDate(hoje_copy.getDate() - 3);\n    let dias = []\n    for(var i=0;i<=6;i++) {\n      if(i!=0){\n        var hoje_sum = hoje_copy.setDate(hoje_copy.getDate() + 1);\n      } else {\n        var hoje_sum = hoje_copy.setDate(hoje_copy.getDate());\n      }\n      let hoje_sum_date = new Date(hoje_sum)\n      let dia = hoje_sum_date.getDate()\n      let mes = (hoje_sum_date.getMonth()+1)\n      let ano = (hoje_sum_date.getFullYear())\n      if(dia<=9) {\n        dia= '0'+dia\n      }\n      if(mes<=9) {\n        mes= '0'+mes\n      }\n      let hoje_sum_formatted = dia+'/'+mes+'/'+ano\n      dias.push(hoje_sum_formatted)\n    }\n    setSemana(dias)\n    getMissoes(dias)\n  }\n\n  const getMissoes = async (dias) => {\n    let inicio = dias[0]\n    let fim = dias[6]\n    let res = await Api.getMissoesAvioes({inicio, fim})\n    if(!res.error) {\n      setData({avioes:res.data})\n    }\n  }\n\n  const editDates = (data) => {\n    let data_edit = new Date(data)\n    setFirstDay(data_edit)\n  }\n\n  const handleCheckDate = (numero, tipo) => {\n    let firstDayCopy = new Date(firstDay);\n    if(tipo) {\n      firstDayCopy.setDate(firstDayCopy.getDate() - numero);\n    } else {\n      firstDayCopy.setDate(firstDayCopy.getDate() + numero);\n    }\n    setFirstDay(firstDayCopy)\n  }\n\n  const getHoje = () => {\n    setFirstDay(hoje)\n  }\n\n  useEffect(()=>{\n    getDias(firstDay)\n  },[firstDay])\n\n  return (\n    <>\n      <CCard className=\"mb-6\" style={{flexDirection: 'column'}}>\n        <div style={{display:'flex', alignItems: 'center', justifyContent: 'center', padding:10}}>\n          <div className='calendario' style={{fontSize: '2vw'}}>\n            {(firstDay.toLocaleString('pt-BR', { month: 'long' }).toUpperCase())+'/'+(firstDay.getFullYear())}\n          </div>\n          <div className='botoes'>\n              <div className='item-botao' style={{fontSize: '2vw'}}  onClick={()=>handleCheckDate(7, true)}>&lt;&lt;</div>\n              <div className='item-botao' style={{fontSize: '2vw'}} onClick={()=>handleCheckDate(1, true)}>&lt;</div>\n              <div className='item-botao' style={{marginLeft:5, marginRight:5, fontSize: '2vw'}} onClick={getHoje}>HOJE</div>\n              <div className='item-botao' style={{fontSize: '2vw'}} onClick={()=>handleCheckDate(1, false)}>&gt;</div>\n              <div className='item-botao' style={{fontSize: '2vw'}} onClick={()=>handleCheckDate(7, false)}>&gt;&gt;</div>\n          </div>\n          </div>\n         <div style={{display: 'flex', flexDirection:'column', width:'100%'}}>\n          <div className='topo'>\n            <div className='missao'>Avião</div>\n            {semana.map((item,index)=>{\n                var hoje_dia = hoje.getDate()\n                let hoje_mes = (hoje.getMonth()+1)\n                let hoje_ano = hoje.getFullYear()\n                if(hoje_dia <=9) {\n                  hoje_dia = '0'+hoje_dia\n                }\n                if(hoje_mes <=9) {\n                  hoje_mes = '0'+hoje_mes\n                }\n                let hoje_string = hoje_dia+'/'+hoje_mes+'/'+hoje_ano\n\n                return <div  className='missao' style={{backgroundColor: hoje_string == item ? '#46a31d' : '#000'}}>{item}</div>\n            })}\n          </div>\n          <div className='missoes'>\n            \n\n            {(data.avioes.length > 0 ) && data.avioes.map(item=>{\n              return <div className='missao-item'>\n                <div className='missao aviao'>{item.aviao}</div>\n                {semana.map(i=>{\n                 return <div className='item-missao'>\n                      {item.eventos.length >0 && item.eventos.map(it=>{\n                          if(it.data == i) {\n                            return <div \n                            onClick={()=>setCaixaCreateVisible(true)} className='missao white'\n                            onMouseEnter={() => handleMouseEnter(it.missao.id, it.missao)}\n                            onMouseLeave={handleMouseLeave}\n                            >  \n                         {caixaVisible && (id ==it.missao.id)  &&  <div\n                            style={{\n                              position: 'absolute',\n                              top: '100%',\n                              left: '0',\n                              background: '#000',\n                              color: '#fff',\n                              padding: '10px',\n                              border: '1px solid black',\n                              zIndex: 1, // Definindo uma ordem de empilhamento maior para a div das informações\n                            }}\n                          >\n                            <p>OMIS: {etapaToShow.omis}</p>\n                            <p>Tripulação: {tripulacao}</p>\n                            \n                          </div>}\n                          {it.missao.horaDep} {it.missao.dep} - {it.missao.pouso} {it.missao.horaPouso}</div>\n                          }\n                      })}\n                    </div>\n                })}\n              </div>\n            })}\n            </div>\n         </div>\n        \n        {\n          caixaCreateVisible &&  <div className='modal-create'>\n            <div style={{display: 'flex', justifyContent:'flex-end',margin:10, cursor: 'pointer'}}>\n              <div onClick={()=>setCaixaCreateVisible(false)} style={{color:'#fff'}}>X</div>\n            </div>\n          OIIII\n        </div>\n        }\n       \n    \n      </CCard>\n\n\n     \n    </>\n  )\n}\n\nexport default Dashboard\n"],"names":["_useState","useState","_useState2","_slicedToArray","tripulacao","setTripulacao","_useState3","_useState4","id","setId","_useState5","_useState6","caixaVisible","setCaixaVisible","_useState7","_useState8","caixaCreateVisible","setCaixaCreateVisible","_useState9","_useState10","_useState11","_useState12","semana","setSemana","_useState13","Date","_useState14","firstDay","setFirstDay","_useState15","_useState16","hoje","_useState17","avioes","_useState18","data","setData","_useState19","_useState20","etapaToShow","setEtapaToShow","Api","useApi","handleMouseLeave","getMissoes","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","dias","inicio","fim","res","wrap","_context","prev","next","getMissoesAvioes","sent","error","stop","_x","apply","arguments","handleCheckDate","numero","tipo","firstDayCopy","setDate","getDate","useEffect","hoje_copy","i","hoje_sum","hoje_sum_date","dia","mes","getMonth","hoje_sum_formatted","getFullYear","push","getDias","_jsx","_Fragment","children","_jsxs","CCard","className","style","flexDirection","display","alignItems","justifyContent","padding","fontSize","toLocaleString","month","toUpperCase","onClick","marginLeft","marginRight","width","map","item","index","hoje_dia","hoje_mes","hoje_string","backgroundColor","length","aviao","eventos","it","onMouseEnter","etapa","join","handleMouseEnter","missao","onMouseLeave","position","top","left","background","color","border","zIndex","omis","horaDep","dep","pouso","horaPouso","margin","cursor"],"sourceRoot":""}