"use strict";(self.webpackChunkApp_GTT=self.webpackChunkApp_GTT||[]).push([[645],{69645:(e,t,a)=>{a.r(t),a.d(t,{default:()=>o});var r=a(69060),l=a(3084),n=a(36856),i=(a(94412),a(30260)),s=a(51560),d=(a(73380),a(36956),a(26292),a(82496));const o=()=>{(0,s.i6)();const[e,t]=(0,r.useState)([]),[a,o]=(0,r.useState)(!1),[c,u]=(0,r.useState)(""),[p,h]=(0,r.useState)(""),m=(0,n.c)(),g=e=>{let[t,a,r]=e.split("/");return r+"-"+a+"-"+t};(0,r.useEffect)((()=>{(async()=>{o(!0);let e=await m.getTurmas();if(e.error)return alert(e.error),void o(!1);e.data.map((e=>e.data_operacional?(e.data_operacional=(e=>{let[t,a,r]=e.split("-");return r+"/"+a+"/"+t})(e.data_operacional),e):(e.data_operacional="00/00/0000",e))),t(e.data),o(!1)})()}),[]);const x=e=>{const t=e.target.value.replace(/\D/g,"");let a="";return t.length>0&&(a+=t.substring(0,2),t.length>=3&&(a+="/"+t.substring(2,4),t.length>=5&&(a+="/"+t.substring(4,8)))),a},j=a=>{let r=[...e];r=r.map((e=>e.id==c.id?(e.data_operacional=x(a),e):e)),h(x(a)),t(r)};return(0,d.jsx)(d.Fragment,{children:(0,d.jsx)(l.u0,{className:"mb-6",style:{flexDirection:"column",minHeight:600},children:(0,d.jsx)("div",{class:"table-area",children:(0,d.jsxs)("table",{style:{marginBottom:20},children:[(0,d.jsxs)("tr",{children:[(0,d.jsx)("th",{children:"Trigrama"}),(0,d.jsx)("th",{children:"Nome de Guerra"}),(0,d.jsx)("th",{children:"Turma"}),(0,d.jsx)("th",{children:"Data Operacional"})]}),a&&(0,d.jsx)("div",{style:{position:"absolute",left:"50%",top:"40%",transform:"translate(-50%, -50%)"},children:(0,d.jsx)(i.c,{black:!0,width:"200px"})}),e.map(((e,t)=>(0,d.jsxs)("tr",{children:[(0,d.jsx)("td",{children:e.Trigrama.trigrama}),(0,d.jsx)("td",{children:e.Posto.nome+" "+e.nome_guerra}),(0,d.jsx)("td",{children:(0,d.jsx)("select",{value:e.turma,onChange:t=>(async(e,t)=>{let a=await m.updateTurma(t,{turma:e});return a.error?void alert(a.error):void alert(a.msg)})(Number(t.target.value),e.id),children:Array.from({length:30},((e,t)=>t+0)).map((e=>(0,d.jsx)("option",{value:e,children:e},e)))})}),(0,d.jsx)("td",{children:(0,d.jsxs)("div",{style:{display:"flex",justifycontent:"center",alignItems:"center",alignSelf:"center"},children:[(0,d.jsx)("input",{disabled:c.id!=e.id,value:e.data_operacional,onChange:j,maxLength:10,style:{border:"1px solid #000",width:100,textAlign:"center"}}),c.id==e.id?(0,d.jsx)("button",{onClick:()=>(async e=>{let t=await m.updateDataOperacional(e.id,{data_operacional:g(e.data_operacional)});return t.error?(alert(t.error),void u("")):void u("")})(e),style:{marginLeft:5},className:"botao-salvar",children:"Salvar"}):(0,d.jsx)("img",{onClick:()=>{u(e)},style:{marginLeft:3},src:"https://www.1gtt.com.br/app/pen.png",width:"20px"})]})})]})))]})})})})}}}]);
//# sourceMappingURL=645.f2867668.chunk.js.map