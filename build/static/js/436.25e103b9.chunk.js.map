{"version":3,"file":"static/js/436.25e103b9.chunk.js","mappings":"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","sources":["views/estatistica_carga_pax/Main.js"],"sourcesContent":["import React, { useEffect, useState, useRef } from 'react'\nimport styles from './styles.css'\nimport {\n  CButton,\n  CCard,\n\n} from '@coreui/react'\nimport useApi from 'src/services/Api'\nimport \"react-datepicker/dist/react-datepicker.css\";\nimport { forwardRef } from 'react'\nimport LoadingSpinner from 'src/components/Loading'\n\n\nconst Etapas = () => {\n\n  const [etapas, setEtapas] = useState([])\n  const [etapasFiltered, setEtapasFiltered] = useState([])\n  const [loading, setLoading] = useState(false)\n  const [limite, setLimite] = useState(100)\n  const [dados, setDados] = useState([])\n\n  let meses = [\"Janeiro\", \"Fevereiro\", \"Março\", \"Abril\", \"Maio\", \"Junho\", \"Julho\", \"Agosto\", \"Setembro\", \"Outubro\", \"Novembro\", \"Dezembro\"]\n\n  const Api = useApi()\n\n  function formatarNumero(numero) {\n    // Converte o número para uma string e substitui o ponto por vírgula\n    const numeroString = numero.toFixed(2).replace('.', ',');\n  \n    // Separa a parte inteira da parte decimal\n    const partes = numeroString.split(',');\n  \n    // Adiciona ponto como separador de milhares na parte inteira\n    partes[0] = partes[0].replace(/\\B(?=(\\d{3})+(?!\\d))/g, '.');\n  \n    // Junta as partes novamente\n    const numeroFormatado = partes.join(',');\n  \n    return numeroFormatado;\n  }\n\n  const getEtapas = async () => {\n    setLoading(true)\n    let res = await Api.getEtapas({limit:limite})\n    if(!res.error) {\n      const respostaQuery = res /* Sua resposta de query aqui */;\n      const voosPorMes = [];\n      \n      respostaQuery.data.reverse()\n\n      respostaQuery.data.forEach((voo) => {\n        const mesPartida = new Date(voo.dep).getMonth();\n        const mesExistente = voosPorMes.find((item) => item.mes === mesPartida);\n      \n        if (!mesExistente) {\n          // Se o mês ainda não existir no array, adicione-o\n          voosPorMes.push({\n            mes: mesPartida,\n            carga: voo.Cargas.reduce((total, carga) => total + carga.peso, 0) || 0,\n            pax: voo.pax || 0,\n            combustivel: voo.combustivel || 0,\n          });\n        } else {\n          // Se o mês já existir no array, atualize as estatísticas existentes\n          mesExistente.carga += voo.Cargas.reduce((total, carga) => total + carga.peso, 0) || 0;\n          mesExistente.pax += voo.pax || 0;\n          mesExistente.combustivel += voo.combustivel || 0;\n        }\n      });\n      \n\n    // Agora voosPorMes contém as estatísticas desejadas para cada mês\n    console.log(voosPorMes);\n   setDados(voosPorMes);\n\n    }\n    setLoading(false)\n  }\n  \n  useEffect(()=>{\n    getEtapas()\n  },[])\n\n\n  return (\n    <>\n      <CCard className=\"mb-6\" style={{flexDirection: 'column', overflowX: 'auto', maxHeight:700 }}>\n      <div style={{ display: 'flex', alignItems: 'center', marginBottom: '20px', marginLeft:10, marginRight:10 }}>\n\n    </div>\n    \n    <table>\n      <tr>\n        <th>\n          Mês\n        </th>\n        <th>\n          Carga - Kg\n        </th>\n        <th>\n          Pax\n        </th>\n        <th>\n          Combustível - Kg\n        </th>\n        <th>\n          Combustível - Lt\n        </th>\n      </tr>\n      {dados.map((item, index)=>{\n        return (\n          <tr>\n            <td>{meses[item.mes]}</td>\n            <td>{formatarNumero(item.carga)}</td>\n            <td>{item.pax}</td>\n            <td>{formatarNumero(item.combustivel)}</td>\n            <td>{formatarNumero(item.combustivel/0.8)}</td>\n          </tr>\n        )\n      })}\n    </table>\n\n        {loading &&\n                <div  style={{\n                  position: 'absolute',\n                  left: '50%',\n                  top: '80%',\n                  transform: 'translate(-50%, -50%)',\n                  zIndex:99\n                }}>\n                  <LoadingSpinner black={true} width=\"50px\" />\n                </div>\n        }\n      </CCard>\n     \n    </>\n  )\n}\n\nexport default Etapas\n"],"names":["_useState","useState","_useState2","_slicedToArray","_useState3","_useState4","_useState5","_useState6","loading","setLoading","_useState7","_useState8","limite","_useState9","_useState10","dados","setDados","meses","Api","useApi","formatarNumero","numero","partes","toFixed","replace","split","join","getEtapas","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","res","respostaQuery","voosPorMes","wrap","_context","prev","next","limit","sent","error","data","reverse","forEach","voo","mesPartida","Date","dep","getMonth","mesExistente","find","item","mes","carga","Cargas","reduce","total","peso","pax","combustivel","push","console","log","stop","apply","arguments","useEffect","_jsx","_Fragment","children","_jsxs","CCard","className","style","flexDirection","overflowX","maxHeight","display","alignItems","marginBottom","marginLeft","marginRight","map","index","position","left","top","transform","zIndex","LoadingSpinner","black","width"],"sourceRoot":""}