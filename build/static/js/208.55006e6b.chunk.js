"use strict";(self.webpackChunkApp_GTT=self.webpackChunkApp_GTT||[]).push([[208],{13208:(e,t,a)=>{a.r(t),a.d(t,{default:()=>g});var s=a(69060),r=a(50504),n=a(58364),o=a(82496);r.kR.register(r.gv,r.KW,r.YM,r.kX,r.kT,r.GW,r.o5,r.o9,n.c);const i=e=>{let{data:t,media:a}=e;const n=(0,s.useRef)(null);return(0,s.useEffect)((()=>{if(t&&t.length>0){const e=t.map((e=>e.trigrama));let s=[];t.forEach((e=>{s.push((e=>{if("00:00"!==e){const[t,a]=e.split(":");return parseInt(t,10)+parseInt(a,10)/60}return 0})(e.horas))}));const o=document.getElementById("bar-chart").getContext("2d"),i=new r.kR(o,{type:"bar",data:{labels:e,datasets:[{label:"Horas Voadas",data:s,backgroundColor:"rgba(75, 192, 192, 0.2)",borderColor:"rgba(75, 192, 192, 1)",borderWidth:1}]},options:{responsive:!0,scales:{y:{display:!0,title:{display:!0,text:"Horas Voadas"},suggestedMax:140,suggestedMin:0,ticks:{stepSize:10}},x:{display:!0,title:{display:!0,text:"Trigramas"}}},plugins:{annotation:{annotations:{line1:{type:"line",yMin:a,yMax:a,borderColor:"rgb(255, 99, 132)",borderWidth:2}}}}}});n.current=i}}),[t]),(0,o.jsx)("canvas",{id:"bar-chart",width:"400",height:"200"})};var l=a(30260),c=a(3084),d=(a(12819),a(36856));const g=()=>{const e=(0,d.c)(),[t,a]=(0,s.useState)([]),[r,n]=(0,s.useState)("Piloto"),[g,u]=(0,s.useState)(0),[h,p]=(0,s.useState)(0),[m,f]=(0,s.useState)(!1);var x={excessoes:[{trigrama:"LTE",horas:"20:00"},{trigrama:"FAC",horas:"20:00"},{trigrama:"PTS",horas:"60:00"}]},y=[.04,.08,.16,.24,.32,.4,.5,.61,.72,.82,.92,1][(new Date).getMonth()];const b=e=>{if("00:00"!==e){const[t,a]=e.split(":");return parseInt(t,10)+parseInt(a,10)/60}return 0},T=e=>{const t=Math.floor(e),a=Math.floor(60*(e-t));return"".concat(t.toString().padStart(2,"0"),":").concat(a.toString().padStart(2,"0"))};return(0,s.useEffect)((()=>{(async()=>{f(!0);let t=await e.getEsforcoAereo();var s=0;t.data.forEach((e=>{"TOTAL"==e.nome.trim()&&(s=e.alocado)}));let n=b(s),o=0,i=await e.getPauDeSebo(),l=[];i.error||(i.data.forEach((e=>{if(e.Funcao==r&&(console.log(e.Trigrama),l.push({trigrama:e.Trigrama,horas:e.Horas}),"Piloto"==r)){let t=x.excessoes.findIndex((t=>t.trigrama==e.Trigrama));t>=0&&(o+=b(x.excessoes[t].horas))}})),p((n-o)/((l.length-x.excessoes.length)/2)),u((n-o)/((l.length-x.excessoes.length)/2)*y),a(l),f(!1))})()}),[]),(0,o.jsx)(o.Fragment,{children:(0,o.jsxs)(c.u0,{className:"mb-6",style:{flexDirection:"column"},children:[m&&(0,o.jsx)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",marginTop:50},children:(0,o.jsx)(l.c,{width:"150px",black:!0})}),(0,o.jsx)(i,{data:t,media:g}),(0,o.jsxs)("div",{className:"point-info",style:{display:"flex",flexDirection:"column",alignItens:"center",justifyContent:"center",marginTop:10,marginBottom:10},children:[(0,o.jsxs)("span",{style:{display:"flex",alignItems:"center",justifyContent:"center"},children:["M\xe9dia de horas anuais: ",T(h)]}),(0,o.jsxs)("span",{style:{display:"flex",alignItems:"center",justifyContent:"center"},children:["M\xe9dia de horas esse m\xeas: ",T(g)]})]})]})})}}}]);
//# sourceMappingURL=208.55006e6b.chunk.js.map