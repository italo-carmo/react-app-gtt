"use strict";(self.webpackChunkApp_GTT=self.webpackChunkApp_GTT||[]).push([[653],{77653:function(r,t,e){e.r(t),e.d(t,{default:function(){return f}});var n=e(93433),a=e(74165),i=e(15861),u=e(29439),s=e(72791),c=e(78983),o=e(21933),l=(e(68639),e(5016)),d=e(57689),p=(e(72426),e(41667),e(26584),e(80184)),f=function(){(0,d.s0)();var r=(0,s.useState)([]),t=(0,u.Z)(r,2),e=t[0],f=t[1],h=(0,s.useState)(!1),x=(0,u.Z)(h,2),m=x[0],g=x[1],v=(0,s.useState)(""),b=(0,u.Z)(v,2),j=b[0],Z=b[1],k=(0,s.useState)(""),w=(0,u.Z)(k,2),y=(w[0],w[1]),_=(0,o.Z)(),T=function(r){var t=r.split("-"),e=(0,u.Z)(t,3),n=e[0],a=e[1];return e[2]+"/"+a+"/"+n},C=function(r){var t=r.split("/"),e=(0,u.Z)(t,3),n=e[0],a=e[1];return e[2]+"-"+a+"-"+n},S=function(){var r=(0,i.Z)((0,a.Z)().mark((function r(){var t;return(0,a.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return g(!0),r.next=3,_.getTurmas();case 3:if((t=r.sent).error){r.next=10;break}t.data.map((function(r){return r.data_operacional?(r.data_operacional=T(r.data_operacional),r):(r.data_operacional="00/00/0000",r)})),f(t.data),g(!1),r.next=13;break;case 10:return alert(t.error),g(!1),r.abrupt("return");case 13:case"end":return r.stop()}}),r)})));return function(){return r.apply(this,arguments)}}();(0,s.useEffect)((function(){S()}),[]);var A=function(){var r=(0,i.Z)((0,a.Z)().mark((function r(t,e){var n;return(0,a.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,_.updateTurma(e,{turma:t});case 2:if(!(n=r.sent).error){r.next=8;break}return alert(n.error),r.abrupt("return");case 8:return alert(n.msg),r.abrupt("return");case 10:case"end":return r.stop()}}),r)})));return function(t,e){return r.apply(this,arguments)}}(),D=function(r){var t=r.target.value.replace(/\D/g,""),e="";return t.length>0&&(e+=t.substring(0,2),t.length>=3&&(e+="/"+t.substring(2,4),t.length>=5&&(e+="/"+t.substring(4,8)))),e},N=function(r){var t=(0,n.Z)(e);t=t.map((function(t){return t.id==j.id?(t.data_operacional=D(r),t):t})),y(D(r)),f(t)},G=function(){var r=(0,i.Z)((0,a.Z)().mark((function r(t){var e;return(0,a.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,_.updateDataOperacional(t.id,{data_operacional:C(t.data_operacional)});case 2:if(!(e=r.sent).error){r.next=9;break}return alert(e.error),Z(""),r.abrupt("return");case 9:return Z(""),r.abrupt("return");case 11:case"end":return r.stop()}}),r)})));return function(t){return r.apply(this,arguments)}}();return(0,p.jsx)(p.Fragment,{children:(0,p.jsx)(c.xH,{className:"mb-6",style:{flexDirection:"column",minHeight:600},children:(0,p.jsx)("div",{class:"table-area",children:(0,p.jsxs)("table",{style:{marginBottom:20},children:[(0,p.jsxs)("tr",{children:[(0,p.jsx)("th",{children:"Trigrama"}),(0,p.jsx)("th",{children:"Nome de Guerra"}),(0,p.jsx)("th",{children:"Turma"}),(0,p.jsx)("th",{children:"Data Operacional"})]}),m&&(0,p.jsx)("div",{style:{position:"absolute",left:"50%",top:"40%",transform:"translate(-50%, -50%)"},children:(0,p.jsx)(l.Z,{black:!0,width:"200px"})}),e.map((function(r,t){return(0,p.jsxs)("tr",{children:[(0,p.jsx)("td",{children:r.Trigrama.trigrama}),(0,p.jsx)("td",{children:r.Posto.nome+" "+r.nome_guerra}),(0,p.jsx)("td",{children:(0,p.jsx)("select",{value:r.turma,onChange:function(t){return A(Number(t.target.value),r.id)},children:Array.from({length:30},(function(r,t){return t+0})).map((function(r){return(0,p.jsx)("option",{value:r,children:r},r)}))})}),(0,p.jsx)("td",{children:(0,p.jsxs)("div",{style:{display:"flex",justifycontent:"center",alignItems:"center",alignSelf:"center"},children:[(0,p.jsx)("input",{disabled:j.id!=r.id,value:r.data_operacional,onChange:N,maxLength:10,style:{border:"1px solid #000",width:100,textAlign:"center"}}),j.id==r.id?(0,p.jsx)("button",{onClick:function(){return G(r)},style:{marginLeft:5},className:"botao-salvar",children:"Salvar"}):(0,p.jsx)("img",{onClick:function(){Z(r)},style:{marginLeft:3},src:"https://www.1gtt.com.br/app/pen.png",width:"20px"})]})})]})}))]})})})})}}}]);
//# sourceMappingURL=653.51946b95.chunk.js.map