{"version":3,"file":"static/js/653.51946b95.chunk.js","mappings":"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","sources":["views/turmas-de-chegada/Main.js"],"sourcesContent":["import React, { useEffect, useState, useRef } from 'react'\nimport styles from './styles.css'\nimport {\n  CButton,\n  CCard,\n\n} from '@coreui/react'\nimport useApi from 'src/services/Api'\nimport \"react-datepicker/dist/react-datepicker.css\";\nimport { forwardRef } from 'react'\nimport LoadingSpinner from 'src/components/Loading'\nimport { useNavigate, useSearchParams } from 'react-router-dom';\nimport moment from 'moment'\nimport { usePDF } from 'react-to-pdf';\nimport MaskedObsTextArea from '../../components/masked-inpput-text-obs-textarea'\n\nconst ListaQuadrinhos = () => {\n  const navigate = useNavigate()\n  const [dados, setDados] = useState([])\n  const [loading, setLoading] = useState(false)\n  const [dataEdit, setDataEdit] = useState('')\n  const [dataEditInput, setDataEditInput] = useState('')\n  \n  const Api = useApi()\n\n\n  const editFormatData = (data) => {\n\n    let [ano, mes, dia] = data.split('-')\n    return dia+'/'+mes+'/'+ano\n  }\n\n  const editFormatDataBack = (data) => {\n\n    let [dia, mes, ano] = data.split('/')\n    return ano+'-'+mes+'-'+dia\n  }\n\n  const getDados = async () => {\n    setLoading(true)\n    let res = await Api.getTurmas()\n    if(!res.error) {\n      let dados_get = res.data.map(item=>{\n        if(item.data_operacional) {\n          item.data_operacional = editFormatData(item.data_operacional)\n          return item\n        } else {\n          item.data_operacional = '00/00/0000'\n          return item\n        }\n      })\n      setDados(res.data)\n      setLoading(false)\n    } else {\n      alert(res.error)\n      setLoading(false)\n      return\n    }\n  }\n  \n  useEffect(()=>{\n    getDados()\n  },[])\n\n\n  const inputStyle = {\n    padding: '5px',\n    borderRadius: '10px',\n    border: '1px solid #000',\n  };\n\n  const handleChangeItem = async (turma, id) => {\n    let res = await Api.updateTurma(id, {turma})\n    if(res.error) {\n      alert(res.error)\n      return\n    } else {\n      alert(res.msg)\n      return\n    }\n\n  }\n\n  const editData = (event) => {\n    const inputValue = event.target.value;\n\n    // Remove caracteres não numéricos\n    const numericValue = inputValue.replace(/\\D/g, '');\n\n    // Formata o valor no formato de data\n    let formattedValue = '';\n    if (numericValue.length > 0) {\n      formattedValue += numericValue.substring(0, 2);\n      if (numericValue.length >= 3) {\n        formattedValue += '/' + numericValue.substring(2, 4);\n        if (numericValue.length >= 5) {\n          formattedValue += '/' + numericValue.substring(4, 8);\n        }\n      }\n    }\n\n    return(formattedValue);\n  };\n  \n\n  const handleChangeDataItem = (event) => {\n\n    let dados_copy = [...dados] \n    dados_copy = dados_copy.map(item=>{\n      if(item.id == dataEdit.id) {\n        item.data_operacional = editData(event)\n        return item\n      } else {\n        return item\n      }\n    })\n    setDataEditInput(editData(event))\n    setDados(dados_copy)\n\n  }\n\n  const handleClickEdit = (item) => {\n    setDataEdit(item)\n  }\n\n  const handleSalvar = async (item) => {\n    let res = await Api.updateDataOperacional(item.id, {data_operacional: editFormatDataBack(item.data_operacional)})\n    if(res.error) {\n      alert(res.error)\n      setDataEdit('')\n      return\n    } else {\n      setDataEdit('')\n      return\n    }\n  }\n\n  return (\n    <>\n      <CCard className=\"mb-6\" style={{flexDirection: 'column', minHeight:600 }}>\n      <div  class=\"table-area\">\n          <table style={{marginBottom:20}}>\n          <tr>\n            <th>Trigrama</th>\n            <th>Nome de Guerra</th>\n            <th>Turma</th>\n            <th>Data Operacional</th>\n          </tr>\n          {loading &&\n                  <div  style={{\n                    position: 'absolute',\n                    left: '50%',\n                    top: '40%',\n                    transform: 'translate(-50%, -50%)',\n                  }}>\n                    <LoadingSpinner black={true} width=\"200px\" />\n                  </div>\n          }\n            {\n              dados.map((it, idx)=>{\n                return (\n                  <tr>\n                    <td>{it.Trigrama.trigrama}</td>\n                    <td>{it.Posto.nome+' '+it.nome_guerra}</td>\n                    <td>\n                    <select\n                value={it.turma}\n                onChange={(e) =>\n                  handleChangeItem(Number(e.target.value), it.id)\n                }\n              >\n                {Array.from({ length: 30 }, (_, i) => i + 0).map((num) => (\n                  <option key={num} value={num}>\n                    {num}\n                  </option>\n                ))}\n              </select>\n                    </td>\n                    <td>\n                      <div style={{display: 'flex', justifycontent:'center', alignItems: 'center', alignSelf: 'center'}}>\n                    <input\n                      disabled={dataEdit.id == it.id ? false : true}\n                      value={it.data_operacional}\n                      onChange={handleChangeDataItem}\n                      maxLength={10}\n                      style={{border: '1px solid #000', width:100, textAlign: 'center'}}\n                    />\n                    {\n                      dataEdit.id == it.id ? \n                      <button onClick={()=>handleSalvar(it)}  style={{marginLeft:5}} className='botao-salvar'>Salvar</button>\n                      :\n                      <img onClick={()=>handleClickEdit(it)} style={{marginLeft:3}} src=\"https://www.1gtt.com.br/app/pen.png\" width=\"20px\" />\n                    }\n                    </div>\n                    </td>\n                  </tr>\n                )\n              })\n            }\n          </table> \n     \n      </div>\n      </CCard>\n    </>\n  )\n}\n\nexport default ListaQuadrinhos\n"],"names":["useNavigate","_useState","useState","_useState2","_slicedToArray","dados","setDados","_useState3","_useState4","loading","setLoading","_useState5","_useState6","dataEdit","setDataEdit","_useState7","_useState8","setDataEditInput","Api","useApi","editFormatData","data","_data$split","split","_data$split2","ano","mes","editFormatDataBack","_data$split3","_data$split4","dia","getDados","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","res","wrap","_context","prev","next","getTurmas","sent","error","map","item","data_operacional","alert","abrupt","stop","apply","arguments","useEffect","handleChangeItem","_ref2","_callee2","turma","id","_context2","updateTurma","msg","_x","_x2","editData","event","numericValue","target","value","replace","formattedValue","length","substring","handleChangeDataItem","dados_copy","_toConsumableArray","handleSalvar","_ref3","_callee3","_context3","updateDataOperacional","_x3","_jsx","_Fragment","children","CCard","className","style","flexDirection","minHeight","class","_jsxs","marginBottom","position","left","top","transform","LoadingSpinner","black","width","it","idx","Trigrama","trigrama","Posto","nome","nome_guerra","onChange","e","Number","Array","from","_","i","num","display","justifycontent","alignItems","alignSelf","disabled","maxLength","border","textAlign","onClick","marginLeft","src"],"sourceRoot":""}