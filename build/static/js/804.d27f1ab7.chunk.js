"use strict";(self.webpackChunkApp_GTT=self.webpackChunkApp_GTT||[]).push([[804],{49983:function(e,t,a){a.r(t),a.d(t,{default:function(){return C}});var n=a(93433),s=a(74165),r=a(1413),o=a(15861),i=a(29439),c=a(72791),l=a(78983),u=a(21933),d=a(59513),m=a.n(d),f=(a(68639),a(80184)),p=function(e){var t=e.maxLength,a=e.value,n=e.onChange,s=e.erro,r=e.onKeyPress,o=e.id,i=void 0===o?"":o;return(0,f.jsx)("input",{type:"text",id:i,value:a,onChange:function(e){var a=e.target.value.toUpperCase().replace(/[^A-Z]/g,"").substring(0,t);n(a)},maxLength:t,style:{border:s?"1px solid #ff0000":"1px solid #000"},onKeyPress:r})},v=function(e){var t=e.maxLength,a=e.value,n=e.onChange,s=e.erro,r=e.onKeyPress;return(0,f.jsx)("input",{type:"text",value:a,onChange:function(e){var a=e.target.value.toUpperCase().replace(/[^A-Z]/g,"").substring(0,t);n(a)},maxLength:t,style:{border:s?"1px solid #ff0000":"1px solid #000"},onKeyPress:r})},h=function(e){var t=e.value,a=e.onChange,n=e.disabled;return(0,f.jsx)("input",{type:"number",value:t,onChange:function(e){var t=e.target.value.toUpperCase().replace(/[^0-9]/g,"").substring(0,5);a(t)},maxLength:5,disabled:n,style:{border:"1px solid #000",backgroundColor:"#fff"}})},x=function(e){var t=e.value,a=e.onChange;return(0,f.jsx)("input",{type:"number",value:t,onChange:function(e){var t=e.target.value.toUpperCase().replace(/[^0-9]/g,"").substring(0,5);a(t)},maxLength:5,style:{border:"1px solid #000"}})},g=function(e){var t=e.value,a=e.onChange;return(0,f.jsx)("input",{type:"number",value:t,onChange:function(e){var t=e.target.value.toUpperCase().replace(/[^0-9]/g,"").substring(0,5);a(t)},maxLength:5,style:{border:"1px solid #000",width:80}})},j=function(e){var t=e.value,a=e.onChange;return(0,f.jsx)("input",{type:"text",value:t,onChange:function(e){var t=e.target.value;a(t)},maxLength:7,style:{border:"1px solid #000",width:80}})},Z=function(e){var t=e.value,a=e.onChange;return(0,f.jsx)("input",{type:"text",value:t,onChange:function(e){var t=e.target.value;a(t)},maxLength:255,style:{border:"1px solid #000"}})},b=function(e){var t=e.value,a=e.onChange;return(0,f.jsx)("textarea",{type:"text",value:t,onChange:function(e){var t=e.target.value;a(t)},maxLength:255,style:{border:"1px solid #000",borderRadius:10,width:"100%",marginTop:5}})},y=a(72426),w=a.n(y);a(73528);function S(e){var t=e.dep,a=e.pouso,n=e.alternativa,s=e.horaDep,r=e.horaPouso,o=e.index,i=e.edit,c=e.del,l=!1;return t&&a&&n&&s&&r&&""!=t&&""!=a&&""!=n&&""!=s&&""!=r&&(l=!0),(0,f.jsxs)("div",{className:l?"view-etapa complete":"view-etapa",children:[(0,f.jsxs)("div",{className:l?"complete-text":"",style:{color:"#000"},children:[o+1,"- ",s," ",t," - ",r," ",a]}),(0,f.jsxs)("div",{className:"botoes-etapa",children:[(0,f.jsx)("img",{src:l?"https://www.1gtt.com.br/app/pen-white.png":"https://www.1gtt.com.br/app/pen.png",onClick:i,width:20,height:20}),(0,f.jsx)("img",{src:l?"https://www.1gtt.com.br/app/close-white.png":"https://www.1gtt.com.br/app/close.png",onClick:c,width:20,height:20})]})]})}var N=a(5016);w().tz.setDefault("Etc/UTC");var C=function(){var e=(0,c.useState)([]),t=(0,i.Z)(e,2),a=t[0],d=t[1],y=(0,c.useState)([]),w=(0,i.Z)(y,2),C=w[0],k=w[1],I=(0,c.useState)([]),D=(0,i.Z)(I,2),O=D[0],T=D[1],M=(0,c.useState)(!1),L=(0,i.Z)(M,2),E=L[0],A=L[1],_=(0,c.useState)(!1),F=(0,i.Z)(_,2),P=F[0],U=F[1],z=(0,c.useState)(!1),H=(0,i.Z)(z,2),R=H[0],G=H[1],K=(0,c.useState)(!1),B=(0,i.Z)(K,2),X=B[0],Y=B[1],V=(0,c.useState)(!1),J=(0,i.Z)(V,2),q=J[0],Q=J[1],W=(0,c.useState)(!1),$=(0,i.Z)(W,2),ee=$[0],te=$[1],ae=(0,c.useState)([]),ne=(0,i.Z)(ae,2),se=ne[0],re=ne[1],oe=(0,c.useState)(new Date),ie=(0,i.Z)(oe,2),ce=ie[0],le=ie[1],ue=(0,c.useState)(new Date),de=(0,i.Z)(ue,2),me=de[0],fe=(de[1],(0,c.useState)({avioes:[]})),pe=(0,i.Z)(fe,2),ve=pe[0],he=pe[1],xe=(0,c.useState)(""),ge=(0,i.Z)(xe,2),je=ge[0],Ze=ge[1],be=(0,c.useState)(!1),ye=(0,i.Z)(be,2),we=ye[0],Se=ye[1],Ne=(0,c.useState)(""),Ce=(0,i.Z)(Ne,2),ke=Ce[0],Ie=Ce[1],De=(0,c.useState)(""),Oe=(0,i.Z)(De,2),Te=Oe[0],Me=Oe[1],Le=(0,c.useState)(""),Ee=(0,i.Z)(Le,2),Ae=Ee[0],_e=Ee[1],Fe=(0,c.useState)(""),Pe=(0,i.Z)(Fe,2),Ue=Pe[0],ze=Pe[1],He=(0,c.useState)(new Date),Re=(0,i.Z)(He,2),Ge=Re[0],Ke=Re[1],Be=(0,c.useState)(new Date),Xe=(0,i.Z)(Be,2),Ye=Xe[0],Ve=Xe[1],Je=(0,c.useState)(!1),qe=(0,i.Z)(Je,2),Qe=qe[0],We=qe[1],$e=(0,c.useState)(!1),et=(0,i.Z)($e,2),tt=et[0],at=et[1],nt=(0,c.useState)(!1),st=(0,i.Z)(nt,2),rt=st[0],ot=st[1],it=(0,c.useState)(""),ct=(0,i.Z)(it,2),lt=ct[0],ut=ct[1],dt=(0,c.useState)(!1),mt=(0,i.Z)(dt,2),ft=mt[0],pt=mt[1],vt=(0,c.useState)(!1),ht=(0,i.Z)(vt,2),xt=ht[0],gt=ht[1],jt=(0,c.useState)({aviao:"",eventos:[]}),Zt=(0,i.Z)(jt,2),bt=Zt[0],yt=Zt[1],wt=(0,c.useState)([]),St=(0,i.Z)(wt,2),Nt=St[0],Ct=St[1],kt=(0,c.useState)(""),It=(0,i.Z)(kt,2),Dt=It[0],Ot=It[1],Tt=(0,c.useState)([]),Mt=(0,i.Z)(Tt,2),Lt=Mt[0],Et=Mt[1],At=(0,c.useState)(!1),_t=(0,i.Z)(At,2),Ft=_t[0],Pt=_t[1],Ut=(0,c.useState)(!1),zt=(0,i.Z)(Ut,2),Ht=zt[0],Rt=zt[1],Gt=(0,c.useState)(!1),Kt=(0,i.Z)(Gt,2),Bt=Kt[0],Xt=Kt[1],Yt=(0,c.useState)(""),Vt=(0,i.Z)(Yt,2),Jt=Vt[0],qt=Vt[1],Qt=(0,c.useState)(""),Wt=(0,i.Z)(Qt,2),$t=Wt[0],ea=Wt[1],ta=(0,c.useState)(""),aa=(0,i.Z)(ta,2),na=aa[0],sa=aa[1],ra=(0,c.useState)(""),oa=(0,i.Z)(ra,2),ia=oa[0],ca=oa[1],la=(0,c.useState)(""),ua=(0,i.Z)(la,2),da=ua[0],ma=ua[1],fa=(0,c.useState)([]),pa=(0,i.Z)(fa,2),va=pa[0],ha=pa[1],xa=(0,c.useState)(0),ga=(0,i.Z)(xa,2),ja=ga[0],Za=ga[1],ba=(0,c.useState)(!0),ya=(0,i.Z)(ba,2),wa=ya[0],Sa=ya[1],Na=(0,c.useState)(!1),Ca=(0,i.Z)(Na,2),ka=Ca[0],Ia=Ca[1],Da=(0,c.useState)(""),Oa=(0,i.Z)(Da,2),Ta=Oa[0],Ma=Oa[1],La=(0,c.useState)(""),Ea=(0,i.Z)(La,2),Aa=Ea[0],_a=Ea[1],Fa=(0,c.useState)(""),Pa=(0,i.Z)(Fa,2),Ua=Pa[0],za=Pa[1],Ha=(0,c.useState)(""),Ra=(0,i.Z)(Ha,2),Ga=Ra[0],Ka=Ra[1],Ba=(0,c.useState)(""),Xa=(0,i.Z)(Ba,2),Ya=Xa[0],Va=Xa[1],Ja=(0,c.useState)(""),qa=(0,i.Z)(Ja,2),Qa=qa[0],Wa=qa[1],$a=(0,c.useState)(""),en=(0,i.Z)($a,2),tn=en[0],an=en[1],nn=(0,c.useState)([]),sn=(0,i.Z)(nn,2),rn=sn[0],on=sn[1],cn=(0,c.useState)(!1),ln=(0,i.Z)(cn,2),un=ln[0],dn=ln[1],mn=(0,c.useState)(""),fn=(0,i.Z)(mn,2),pn=fn[0],vn=(fn[1],(0,c.useState)(!1)),hn=(0,i.Z)(vn,2),xn=hn[0],gn=hn[1],jn=(0,c.useState)(!1),Zn=(0,i.Z)(jn,2),bn=Zn[0],yn=Zn[1],wn=(0,c.useState)(""),Sn=(0,i.Z)(wn,2),Nn=Sn[0],Cn=Sn[1],kn=(0,c.useState)(""),In=(0,i.Z)(kn,2),Dn=In[0],On=In[1],Tn=(0,c.useState)(new Date),Mn=(0,i.Z)(Tn,2),Ln=Mn[0],En=Mn[1],An=(0,c.useState)(new Date),_n=(0,i.Z)(An,2),Fn=_n[0],Pn=_n[1],Un=(0,c.useState)(""),zn=(0,i.Z)(Un,2),Hn=zn[0],Rn=zn[1],Gn=(0,c.useState)([]),Kn=(0,i.Z)(Gn,2),Bn=Kn[0],Xn=Kn[1],Yn=(0,c.useState)(!1),Vn=(0,i.Z)(Yn,2),Jn=Vn[0],qn=Vn[1],Qn=(0,c.useState)(!1),Wn=(0,i.Z)(Qn,2),$n=Wn[0],es=Wn[1],ts=(0,c.useState)(""),as=(0,i.Z)(ts,2),ns=as[0],ss=as[1],rs=(0,c.useState)(""),os=(0,i.Z)(rs,2),is=os[0],cs=os[1],ls=(0,c.useState)(new Date),us=(0,i.Z)(ls,2),ds=us[0],ms=us[1],fs=(0,c.useState)(new Date),ps=(0,i.Z)(fs,2),vs=ps[0],hs=ps[1],xs=(0,c.useState)(""),gs=(0,i.Z)(xs,2),js=gs[0],Zs=gs[1],bs=(0,c.useState)(""),ys=(0,i.Z)(bs,2),ws=ys[0],Ss=ys[1],Ns=(0,c.useState)(""),Cs=(0,i.Z)(Ns,2),ks=Cs[0],Is=Cs[1],Ds=(0,c.useRef)(null),Os=(0,c.useRef)(null),Ts=(0,c.useRef)(null),Ms=(0,u.Z)(),Ls=function(){A(!1)},Es=function(){A(!1)},As=function(){var e=(0,o.Z)((0,s.Z)().mark((function e(t,a){var n,o,i,c,l,u,m,f;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Pt(!1),Rt(!1),Y(!0),Q(!1),n=a.missao.id_missao,qt(n),ma(t.eventos[0].id_documento),o=(0,r.Z)({},bt),i=[],a.missao.tripulacao.forEach((function(e){i.push(e)})),c=a.comentarios,ca(c),l=a.missao.omis,sa(l),d(i),e.next=17,Ms.getMissoesAvioesId(n);case 17:u=e.sent,m=u.data.filter((function(e){if(e.eventos.length>0)return e})),o.eventos=m[0].eventos,yt(o),U(!0),Ct(t.aviao),(f=Lt.findIndex((function(e){return e.aeronave==t.aviao})))>=0&&Ot(Lt[f].id);case 25:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),_s=function(e){"Enter"===e.key&&(q?rr():Fs())},Fs=function(){var e=(0,o.Z)((0,s.Z)().mark((function e(){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,or();case 2:e.sent&&setTimeout((function(){var e=document.getElementById("icao-pouso");e&&e.focus()}),0);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ps=function(){var e=(0,o.Z)((0,s.Z)().mark((function e(t){var r,o;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(gt(!1),"Enter"!==t.key){e.next=7;break}return r=(0,n.Z)(a),e.next=5,Ms.getTrigrama($t);case 5:(o=e.sent).error?gt(o.error):(r.push({id:o.data.id_user,trigrama:o.data.trigrama,funcao:o.data.Usuario.FuncoesAbordo.nome}),d(r),ea(""));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Us=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=new Date(e);a.setDate(a.getDate()-1);for(var n=[],s=0;s<=6;s++){if(0!=s)var r=a.setDate(a.getDate()+1);else r=a.setDate(a.getDate());var o=new Date(r),i=o.getDate(),c=o.getMonth()+1;i<=9&&(i="0"+i),c<=9&&(c="0"+c);var l=i+"/"+c+"/"+o.getFullYear();n.push(l)}re(n),Ks(n,t),zs(n),Hs(n)},zs=function(){var e=(0,o.Z)((0,s.Z)().mark((function e(t){var a,n,r;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t[0],n=t[6],e.next=4,Ms.getObservacoesData({inicio:a,fim:n});case 4:(r=e.sent).error||on(r.data);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Hs=function(){var e=(0,o.Z)((0,s.Z)().mark((function e(t){var a,n,r;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t[0],n=t[6],e.next=4,Ms.getManutencoesAvioes({inicio:a,fim:n});case 4:(r=e.sent).error||(Xn(r.data),console.log(r));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Rs=function(){var e=(0,o.Z)((0,s.Z)().mark((function e(){var t;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ms.getOfrags();case 2:(t=e.sent).error||ha(t.data.reverse());case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Gs=function(){var e=(0,o.Z)((0,s.Z)().mark((function e(){var t,a,n,o;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(ze(""),ut(""),""!=Nt){e.next=5;break}return ut("A aeronave \xe9 obrigat\xf3ria"),e.abrupt("return");case 5:if(!X){e.next=8;break}return ut("Exclua essa OMIS e crie outra para cumprir com OFRAG"),e.abrupt("return");case 8:if(""==da){e.next=13;break}return e.next=11,Ms.getOfrag(da);case 11:(t=e.sent).error||(a=[],n=(0,r.Z)({},ve),t.data.missoes[0].rotaOfrag.etapas.forEach((function(e){var t=e.dataHoraDecolagem.split("T"),s=(0,i.Z)(t,2),r=s[0],o=s[1],c=r.split("-"),l=(0,i.Z)(c,3),u=l[0],d=l[1],m=l[2],f=o.split(":"),p=(0,i.Z)(f,3),v=p[0],h=p[1];p[2];if(e.dataHoraPouso){var x=e.dataHoraPouso.split("T"),g=(0,i.Z)(x,2),j=g[0],Z=g[1],b=j.split("-"),y=(0,i.Z)(b,3),w=(y[0],y[1],y[2],Z.split(":")),S=(0,i.Z)(w,3),N=S[0],C=S[1];S[2]}var k={data:"".concat(m,"/").concat(d,"/").concat(u),tipo:"missao",missao:{id:Math.floor(1e4*Math.random())+1,dep:e.codigoIcaoOrigem,horaDep:"".concat(v,":").concat(h,"Z"),pouso:e.codigoIcaoDestino,horaPouso:e.dataHoraPouso?"".concat(N,":").concat(C,"Z"):"",depISO:e.dataHoraDecolagem,pousoISO:e.dataHoraPouso,tripulacao:[],omis:"",edicao:!0},manutencao:null},I=n.avioes.findIndex((function(e){return e.aviao==Nt}));I>=0&&n.avioes[I].eventos.push(k),a.push(k)})),a.length>0&&((o=(0,r.Z)({},bt)).eventos=a,yt(o),ze(""),Xt(!1),pt(!0),he(n)));case 13:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ks=function(){var e=(0,o.Z)((0,s.Z)().mark((function e(t){var a,n,r,o,i,c,l=arguments;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=l.length>1&&void 0!==l[1]&&l[1],n=t[0],r=t[6],e.next=5,Ms.getMissoesAvioes({inicio:n,fim:r});case 5:(o=e.sent).error||(i=o.data,a||bt.eventos.length>0&&(c=i.findIndex((function(e){return e.aviao==Nt})))>=0&&bt.eventos.forEach((function(e){i[c].eventos.push(e)})),he({avioes:i}));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Bs=function(){var e=(0,o.Z)((0,s.Z)().mark((function e(){var t;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ms.getAeronaves();case 2:(t=e.sent).error||Et(t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Xs=function(e,t){var a=new Date(ce);t?a.setDate(a.getDate()-e):a.setDate(a.getDate()+e),le(a)},Ys=function(){var e=(0,o.Z)((0,s.Z)().mark((function e(){var t;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Pt(!1),Rt(!1),Y(!1),U(!0),e.next=6,Ms.getUltimaMissao();case 6:(t=e.sent).error||sa((parseInt(t.data[0].numero)+1).toString());case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Vs=function(){var e=(0,o.Z)((0,s.Z)().mark((function e(){var t;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Cn(""),On(""),(t=new Date).setHours(0,0,0,0),En(t),Pn(t),gn(!1),yn(!0);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Js=function(){var e=(0,o.Z)((0,s.Z)().mark((function e(){var t;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:ss(""),cs(""),t=new Date,ms(t),hs(t),qn(!1),es(!0);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),qs=function(){var e=(0,o.Z)((0,s.Z)().mark((function e(){var t,a,n,r,o;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""==Ge||""==Ye||4!=ke.length||4!=Te.length){e.next=9;break}return We(!1),at(!1),ot(!1),ze(""),e.next=7,Ms.getDistanciaAerodromos({origem:ke,destino:Te});case 7:(t=e.sent).error?(o=t.error,ze(t.error),o.includes(ke)&&We(!0),o.includes(Te)&&at(!0)):(a=t.data.distancia,n=Math.round(60*a/400),n=5*Math.ceil(n/5),(r=new Date(Ge)).setMinutes(r.getMinutes()+n),Ve(r));case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Qs=function(e,t){Me(""),_e(""),Za(0);var a=new Date(t);a.setMinutes(a.getMinutes()+120);var n=a.getTimezoneOffset();a.setMinutes(a.getMinutes()+n),Ke(a),Ie(e),Ve(a),Os.current&&Ds.current.focus()},Ws=function(){var e=(0,o.Z)((0,s.Z)().mark((function e(){var t,n,r,i,c,l;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Rt(!0),""!=Nt&&0!=bt.eventos.length){e.next=5;break}return alert("Todos os campos s\xe3o obrigat\xf3rios!"),Rt(!1),e.abrupt("return");case 5:if(t=!1,bt.eventos.forEach((function(e){e.missao.pousoISO&&e.missao.depISO&&e.missao.alternativa&&""!=e.missao.alternativa||(t=!0)})),!t){e.next=11;break}return Rt(!1),alert("Hor\xe1rios de DEP e POUSO e ICAO de ALTERNATIVA s\xe3o obrigat\xf3rios!"),e.abrupt("return");case 11:if(X){e.next=31;break}return n={},""!=na&&(n.numero=na),""!=da&&(n.id_documento=da),e.next=17,Ms.createMissao(n);case 17:if((r=e.sent).error){e.next=29;break}return i=r.data.id,bt.eventos.forEach(function(){var e=(0,o.Z)((0,s.Z)().mark((function e(t,a){var n,o,c,l,u,d;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ms.getAerodromo(t.missao.dep);case 2:return n=e.sent,e.next=5,Ms.getAerodromo(t.missao.pouso);case 5:if(o=e.sent,c=0,l=null,!t.missao.alternativa){e.next=17;break}return e.next=11,Ms.getAerodromo(t.missao.alternativa);case 11:return u=e.sent,l=u.data.id,e.next=15,Ms.getCombMinimo(t.missao.dep,t.missao.pouso,t.missao.alternativa);case 15:e.sent.error||(c=r.data.combustivel);case 17:return d={dep:t.missao.depISO,pouso:t.missao.pousoISO,id_missao:i,id_aeronave:Dt,id_dep:n.data.id,id_pouso:o.data.id,id_alternativa:l,combustivel_minimo:""!=t.missao.combustivel_minimo?t.missao.combustivel_minimo:c},e.next=20,Ms.createEtapa(d);case 20:if(!e.sent.error){e.next=26;break}return alert(r.etapa.error),e.abrupt("return");case 26:a==bt.eventos.length-1&&(U(!1),Rt(!1),setTimeout((function(){location.reload()}),"2000"));case 27:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()),c=[],a.forEach((function(e){c.push(e.id)})),l={id_missao:i,id_militares:c},e.next=26,Ms.createEscala(l);case 26:Rt(!1),e.next=31;break;case 29:Rt(!1),alert(r.error);case 31:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),$s=function(){var e=(0,o.Z)((0,s.Z)().mark((function e(){var t,a,n,r,c,l,u,d,m,f,p,v,h;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return f=function(e){var t=e%60,a=Math.floor(e/60).toString().padStart(2,"0"),n=t.toString().padStart(2,"0");return"".concat(a,":").concat(n)},d=function(){return(d=(0,o.Z)((0,s.Z)().mark((function e(){var t,a,o,u,d,m,f,p,v,h,x,g,j,Z,b,y,w;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:0,t=0;case 2:if(!(t<bt.eventos.length)){e.next=19;break}return a=bt.eventos[t],o="01:00",t!=bt.eventos.length-1&&(u=bt.eventos[t+1].missao.depISO,(d=new Date(u)-new Date(a.missao.pousoISO))<288e5&&(o=l(d))),m=r(a.missao.depISO),f=(0,i.Z)(m,2),p=f[0],v=f[1],h=r(a.missao.pousoISO),x=(0,i.Z)(h,2),x[0],g=x[1],j=l(new Date(a.missao.pousoISO)-new Date(a.missao.depISO)),Z="00:00",e.next=12,Ms.getDistanciaAerodromos({origem:a.missao.pouso,destino:a.missao.alternativa});case 12:(b=e.sent).error||(y=b.data.distancia,Z=c(y)),w={data:p,depIso:a.missao.depISO,horaDep:v,dep:a.missao.dep,horaPouso:g,pouso:a.missao.pouso,tev:j,solo:o,alternativa:a.missao.alternativa,tev_alt:Z,combustivel:a.missao.combustivel_minimo},n.push(w);case 16:t++,e.next=2;break;case 19:case"end":return e.stop()}}),e)})))).apply(this,arguments)},u=function(){return d.apply(this,arguments)},l=function(e){var t=Math.floor(e/36e5);t<=9&&(t="0"+t.toString());var a=Math.ceil(e%36e5/6e4);return a<=9&&(a="0"+a.toString()),t+":"+a},c=function(e){var t=e/400,a=Math.round(t%1*60);60===(a=5*Math.ceil(a/5))&&(t+=1,a=0);var n=Math.floor(t);return n<=9&&(n="0"+n.toString()),n+":"+(a<10?"0"+a:a)},t=bt.eventos[0].comentarios,a=[],bt.eventos[0].missao.tripulacao.forEach((function(e){a.push(e)})),n=[],r=function(e){var t=e.split("T"),a=(0,i.Z)(t,2),n=a[0],s=a[1],r=n.split("-"),o=(0,i.Z)(r,3),c=o[0],l=o[1],u=o[2],d=s.split(":"),m=(0,i.Z)(d,3),f=m[0],p=m[1];m[2];return[u+"/"+l+"/"+c,f+":"+p]},e.next=12,u();case 12:a.sort((function(e,t){return e.antiguidade-t.antiguidade})),m=0,n.forEach((function(e){var t=e.tev.split(":"),a=(0,i.Z)(t,2),n=a[0],s=a[1],r=60*parseInt(n)+parseInt(s);m+=r})),p={tripulacao:a,etapas:n,comandante:a[0].posto+" "+a[0].nome_guerra.toUpperCase(),data:n[0].data,aviao:Nt,omis:bt.eventos[0].missao.omis,ofrag:bt.eventos[0].ofrag,comentarios:t,horas:f(m)},v=encodeURIComponent(JSON.stringify(p)),h="/omis?dados=".concat(v),window.open(h,"_blank");case 19:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),er=function(){var e=(0,o.Z)((0,s.Z)().mark((function e(t,a,n){var r;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""==t||""==a||""==n||4!=t.length||4!=a.length||4!=n.length){e.next=5;break}return e.next=3,Ms.getCombMinimo({dep:t,pouso:a,alternativa:n});case 3:(r=e.sent).error||Za(r.data.combustivel);case 5:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),tr=function(){var e=(0,o.Z)((0,s.Z)().mark((function e(){var t,n,r,i,c,l,u,d;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Rt(!0),t=Jt,""==na){e.next=8;break}return n={numero:na},""!=da&&(n.id_documento=da),n.comentarios=""!=ia?ia:"NIL",e.next=8,Ms.updateMissao(n,t);case 8:return r=bt.eventos.map(function(){var e=(0,o.Z)((0,s.Z)().mark((function e(t){var a,n,r,o,i;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={},e.next=3,Ms.getAerodromo(t.missao.dep);case 3:return n=e.sent,e.next=6,Ms.getAerodromo(t.missao.pouso);case 6:if(r=e.sent,o=null,!t.missao.alternativa){e.next=13;break}return e.next=11,Ms.getAerodromo(t.missao.alternativa);case 11:i=e.sent,o=i.data.id;case 13:return a.dep=t.missao.depISO,a.pouso=t.missao.pousoISO,a.id_aeronave=Dt,a.id_dep=n.data.id,a.id_pouso=r.data.id,a.id_alternativa=o,a.combustivel_minimo=t.missao.combustivel_minimo,t.missao.edicao?a.id=null:a.id=t.missao.id,e.abrupt("return",a);case 22:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=11,Promise.all(r);case 11:return i=e.sent,c={etapas:i,id_missao:t},e.next=15,Ms.updateEtapas(c);case 15:if(!(l=e.sent).error){e.next=22;break}return Rt(!1),alert(l.error),e.abrupt("return");case 22:return u=[],a.forEach((function(e){u.push(e.id)})),d={id_missao:t,id_militares:u},e.next=27,Ms.updateEscala(d);case 27:sr(),U(!1),Us(ce,!0);case 30:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ar=function(){var e=(0,o.Z)((0,s.Z)().mark((function e(){var t,a;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Pt(!0),!window.confirm("Deseja mesmo excluir essa miss\xe3o?")){e.next=16;break}return t=bt.eventos[0].missao.id_missao,e.next=6,Ms.deleteMissao(t);case 6:if(!(a=e.sent).error){e.next=11;break}return Pt(!1),alert(a.error),e.abrupt("return");case 11:Pt(!1),he({avioes:[]}),sr(),U(!1),Us(ce,!0);case 16:Pt(!1);case 17:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),nr=function(e){var t=(0,n.Z)(a);t=t.filter((function(t){if(t.id!=e)return t})),d(t)},sr=function(){yt({aviao:"",eventos:[]});var e=(0,r.Z)({},ve);he(e),Me(""),Ie(""),_e(""),Ke(new Date),Ve(new Date),Ct(""),ca(""),sa(""),ma(""),Y(!1),Q(!1),d([]),Za(0),Us(ce,!0)},rr=function(){var e=(0,o.Z)((0,s.Z)().mark((function e(){var t,a,n,o,c,l,u,d,m,f,p,v,h,x,g,j,Z,b,y,w,S,N,C,k,I,D,O,T,M,L,E,A,_;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(ze(""),""!=Te&&""!=ke&&""!=Ae&&""!=Ge&&""!=Ye){e.next=4;break}return ze("Todos os campos s\xe3o obrigat\xf3rios"),e.abrupt("return");case 4:if(""!=Nt){e.next=7;break}return ze("A aeronave \xe9 obrigat\xf3ria"),e.abrupt("return");case 7:return e.next=9,Ms.getAerodromo(Ae);case 9:if(!(t=e.sent).error){e.next=14;break}return ze(t.error),ot(!0),e.abrupt("return");case 14:ot(!1),a=Ge.getTimezoneOffset(),Ge.setMinutes(Ge.getMinutes()-a),n=Ye.getTimezoneOffset(),Ye.setMinutes(Ye.getMinutes()-n),o=Ge.toISOString(),c=Ye.toISOString(),l=o.split("T"),u=(0,i.Z)(l,2),d=u[0],m=u[1],f=c.split("T"),p=(0,i.Z)(f,2),p[0],v=p[1],h=d.split("-"),x=(0,i.Z)(h,3),g=x[0],j=x[1],Z=x[2],b=m.split(":"),y=(0,i.Z)(b,3),w=y[0],S=y[1],y[2],N=v.split(":"),C=(0,i.Z)(N,3),k=C[0],I=C[1],C[2],D=(0,r.Z)({},bt),O=(0,r.Z)({},ve),T=D.eventos[ee],M={data:"".concat(Z,"/").concat(j,"/").concat(g),tipo:"missao",missao:{id:T.missao.id,dep:ke,horaDep:"".concat(w,":").concat(S,"Z"),pouso:Te,horaPouso:"".concat(k,":").concat(I,"Z"),alternativa:Ae,depISO:Ge,pousoISO:Ye,tripulacao:[],omis:"",combustivel_minimo:ja,edicao:T.missao.edicao},manutencao:null},D.eventos[ee]=M,yt(D),(L=O.avioes.findIndex((function(e){return e.aviao==Nt})))>=0&&(E=O.avioes[L].eventos.findIndex((function(e){return e.missao.id==T.missao.id})))>=0&&(O.avioes[L].eventos[E]=M,he(O)),A=D.eventos[D.eventos.length-1].missao.pouso,_=D.eventos[D.eventos.length-1].missao.pousoISO,Q(!1),te(""),Qs(A,_);case 39:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),or=function(){var e=(0,o.Z)((0,s.Z)().mark((function e(){var t,a,n,o,c,l,u,d,m,f,p,v,h,x,g,j,Z,b,y,w,S,N,C,k,I,D,O,T,M;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(ze(""),""!=Te&&""!=ke&&""!=Ae&&""!=Ge&&""!=Ye){e.next=4;break}return ze("Todos os campos s\xe3o obrigat\xf3rios"),e.abrupt("return");case 4:if(""!=Nt){e.next=7;break}return ze("A aeronave \xe9 obrigat\xf3ria"),e.abrupt("return");case 7:return e.next=9,Ms.getAerodromo(Ae);case 9:if(!(t=e.sent).error){e.next=14;break}return ze(t.error),ot(!0),e.abrupt("return",null);case 14:return ot(!1),at(!1),a=Ge.getTimezoneOffset(),Ge.setMinutes(Ge.getMinutes()-a),n=Ye.getTimezoneOffset(),Ye.setMinutes(Ye.getMinutes()-n),o=Ge.toISOString(),c=Ye.toISOString(),l=o.split("T"),u=(0,i.Z)(l,2),d=u[0],m=u[1],f=c.split("T"),p=(0,i.Z)(f,2),p[0],v=p[1],h=d.split("-"),x=(0,i.Z)(h,3),g=x[0],j=x[1],Z=x[2],b=m.split(":"),y=(0,i.Z)(b,3),w=y[0],S=y[1],y[2],N=v.split(":"),C=(0,i.Z)(N,3),k=C[0],I=C[1],C[2],D={data:"".concat(Z,"/").concat(j,"/").concat(g),tipo:"missao",missao:{id:Math.floor(1e4*Math.random())+1,dep:ke,horaDep:"".concat(w,":").concat(S,"Z"),pouso:Te,horaPouso:"".concat(k,":").concat(I,"Z"),alternativa:Ae,depISO:Ge,pousoISO:Ye,tripulacao:[],omis:"",combustivel_minimo:ja,edicao:!0},manutencao:null},(O=(0,r.Z)({},bt)).eventos.push(D),T=(0,r.Z)({},ve),(M=T.avioes.findIndex((function(e){return e.aviao==Nt})))>=0&&T.avioes[M].eventos.push(D),he(T),yt(O),Qs(Te,Ye),e.abrupt("return",!0);case 37:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ir=function(){var e=(0,o.Z)((0,s.Z)().mark((function e(){var t,a;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!=Ga&&""!=Aa){e.next=3;break}return alert("Todos os campos s\xe3o obrigat\xf3rios"),e.abrupt("return");case 3:return t={situacao:Ga,ciclos:Ta,horas:Aa},e.next=6,Ms.updateAeronave(t,tn);case 6:if(!(a=e.sent).error){e.next=12;break}return alert(a.error),e.abrupt("return");case 12:an(""),Ma(""),_a(""),Ka(""),Ia(!1),alert(a.msg),location.reload();case 19:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),cr=function(){var e=(0,o.Z)((0,s.Z)().mark((function e(){var t,a,n,r;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t={titulo:Nn,observacoes:Dn,inicio:Ln,fim:Fn},!xn){e.next=9;break}return a=Hn,e.next=5,Ms.updateObservacao(t,a);case 5:(n=e.sent).error||(Cn(""),On(""),En(new Date),Pn(new Date),yn(!1),gn(!1),alert(n.msg),location.reload()),e.next=13;break;case 9:return e.next=11,Ms.createObservacao(t);case 11:(r=e.sent).error||(Cn(""),On(""),En(new Date),Pn(new Date),yn(!1),gn(!1),alert(r.msg),location.reload());case 13:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),lr=function(){var e=(0,o.Z)((0,s.Z)().mark((function e(){var t,a,n,r,o,i,c,l;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(ks&&""!=ks){e.next=3;break}return alert("A Aeronave \xe9 obrigat\xf3ria"),e.abrupt("return");case 3:if(ns&&""!=ns&&is&&""!=is){e.next=6;break}return alert("O T\xedtulo e descri\xe7\xe3o s\xe3o obrigat\xf3rios"),e.abrupt("return");case 6:if(t=new Date(ds),a=new Date(vs),!(t.getTime()>a.getTime())){e.next=11;break}return alert("Data de t\xe9rmino menor do que a de in\xedcio"),e.abrupt("return");case 11:if(n=t.getTimezoneOffset(),t.setMinutes(t.getMinutes()-n),r=a.getTimezoneOffset(),a.setMinutes(a.getMinutes()-r),o={titulo:ns,descricao:is,inicio:t.toISOString(),fim:a.toISOString(),id_aviao:js},!Jn){e.next=34;break}return i=ws,e.next=20,Ms.updateManutencao(o,i);case 20:if(!(c=e.sent).error){e.next=24;break}return alert(c.error),e.abrupt("return");case 24:ss(""),cs(""),ms(new Date),hs(new Date),es(!1),qn(!1),alert(c.msg),location.reload(),e.next=38;break;case 34:return e.next=36,Ms.createManutencao(o);case 36:(l=e.sent).error||(ss(""),cs(""),ms(new Date),hs(new Date),es(!1),qn(!1),alert(l.msg),location.reload());case 38:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ur=function(){var e=(0,o.Z)((0,s.Z)().mark((function e(){var t,a;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Hn,e.next=3,Ms.deleteObservacao(t);case 3:if(!(a=e.sent).error){e.next=7;break}return alert(a.error),e.abrupt("return");case 7:Cn(""),On(""),En(new Date),Pn(new Date),yn(!1),gn(!1),alert(a.msg),location.reload();case 15:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),dr=function(){var e=(0,o.Z)((0,s.Z)().mark((function e(){var t,a;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=ws,e.next=3,Ms.deleteManutencao(t);case 3:if(!(a=e.sent).error){e.next=7;break}return alert(a.error),e.abrupt("return");case 7:ss(""),cs(""),ms(new Date),hs(new Date),es(!1),qn(!1),alert(a.msg),location.reload();case 15:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();(0,c.useEffect)((function(){!function(){if(bt.eventos.length>0){var e=(0,r.Z)({},ve);e.avioes.forEach((function(t,a){if(t.eventos.length>0){var n=t.eventos.filter((function(e){if(bt.eventos.findIndex((function(t){return t.missao.id==e.missao.id}))<0)return e}));e.avioes[a].eventos=n}}));var t=e.avioes.findIndex((function(e){return e.aviao==Nt}));t>=0&&bt.eventos.forEach((function(a){e.avioes[t].eventos.push(a)})),he(e)}}()}),[Nt]),(0,c.useEffect)((function(){qs()}),[Te,ke,Ge]),(0,c.useEffect)((function(){er(ke,Te,Ae)}),[Te,ke,Ae]),(0,c.useEffect)((function(){Bs(),Rs()}),[]),(0,c.useEffect)((function(){Us(ce)}),[ce]);var mr=(0,c.forwardRef)((function(e,t){e.value;var a=e.onClick;return(0,f.jsx)("button",{className:"calendario",onClick:a,ref:t,children:ce.toLocaleString("pt-BR",{month:"long"}).toUpperCase()+"/"+ce.getFullYear()})})),fr=function(e){e.value;var t=e.onClick;return(0,f.jsx)("button",{className:"calendario",onClick:t,children:"+"})},pr=function(e){e.value;var t=e.onClick;return(0,f.jsx)("button",{style:{backgroundColor:"#fff",color:"#000"},className:"calendario",onClick:t,children:"+"})};return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsxs)(l.xH,{className:"mb-6",style:{flexDirection:"column"},children:[(0,f.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",padding:10},children:[(0,f.jsx)("div",{className:"",children:(0,f.jsx)(m(),{selected:ce,timeInputLabel:ce.toLocaleString("pt-BR",{month:"long"}).toUpperCase()+"/"+ce.getFullYear(),onChange:function(e){return le(e)},customInput:(0,f.jsx)(mr,{})})}),(0,f.jsxs)("div",{className:"botoes",children:[(0,f.jsx)("button",{className:"calendario",onClick:function(){return Xs(7,!0)},children:"<<"}),(0,f.jsx)("button",{className:"calendario",onClick:function(){return Xs(1,!0)},children:"<"}),(0,f.jsx)("button",{className:"calendario",onClick:function(){le(me)},children:"HOJE"}),(0,f.jsx)("button",{className:"calendario",onClick:function(){return Xs(1,!1)},children:">"}),(0,f.jsx)("button",{className:"calendario",onClick:function(){return Xs(7,!1)},children:">>"})]}),(0,f.jsxs)("div",{children:[(0,f.jsx)("button",{onClick:Ys,className:"calendario",children:"Criar Miss\xe3o"}),(0,f.jsx)("button",{onClick:Vs,className:"calendario",children:"Criar OBS"}),(0,f.jsx)("button",{onClick:Js,className:"calendario",children:"Criar Manuten\xe7\xe3o"})]})]}),(0,f.jsxs)("div",{style:{display:"flex",flexDirection:"column",width:"100%"},children:[(0,f.jsxs)("div",{className:"topo",children:[(0,f.jsx)("div",{className:"missao",children:"Avi\xe3o"}),se.map((function(e,t){var a=me.getDate(),n=me.getMonth()+1;a<=9&&(a="0"+a),n<=9&&(n="0"+n);var s=a+"/"+n+"/"+me.getFullYear();return(0,f.jsx)("div",{className:"missao",style:{backgroundColor:s==e?"#46a31d":"#000"},children:e})}))]}),(0,f.jsxs)("div",{className:"missoes",children:[(0,f.jsxs)("div",{className:"missao-item",children:[(0,f.jsx)("div",{className:"missao aviao",children:"OBS"}),se.map((function(e){return(0,f.jsx)("div",{className:"item-missao",children:rn.map((function(t){var a=e.split("/"),n=(0,i.Z)(a,3),s=n[0],r=n[1],o=n[2],c=new Date(o,r-1,s),l=new Date(t.inicio),u=new Date(t.fim);if(c.getTime()<=u.getTime()&&c.getTime()>=l.getTime())return(0,f.jsx)("div",{className:"missao-white white",onClick:function(){return e=t,gn(!0),Cn(e.titulo),On(e.observacoes),Rn(e.id),En(new Date(e.inicio)),Pn(new Date(e.fim)),void yn(!0);var e},onMouseLeave:Es,children:t.titulo})}))})}))]}),ve.avioes.length>0&&ve.avioes.map((function(e){return(0,f.jsxs)("div",{className:"missao-item",children:[(0,f.jsxs)("div",{className:"IN"==e.situacao||"IS"==e.situacao?"missao aviao in":"missao aviao",children:[(0,f.jsx)("span",{style:{cursor:"pointer"},onClick:function(){return function(e,t,a,n,s,r,o){Ma(a),_a(n),za(e),Ka(s),Va(r),an(t),Wa(function(e){var t=e.split("T"),a=(0,i.Z)(t,2),n=a[0],s=a[1],r=n.split("-"),o=(0,i.Z)(r,3),c=o[0],l=o[1],u=o[2],d=s.split(":"),m=(0,i.Z)(d,3),f=m[0],p=m[1];return m[2],u+"/"+l+"/"+c+" - "+f+":"+p}(o)),Ia(!0)}(e.aviao,e.id,e.ciclos,e.horas,e.situacao,e.atualizador,e.atualizado)},children:e.aviao}),(0,f.jsxs)("span",{className:"dados-aviao",children:["Situa\xe7\xe3o: ",e.situacao]}),(0,f.jsxs)("span",{className:"dados-aviao",children:["Ciclos: ",e.ciclos]}),(0,f.jsxs)("span",{className:"dados-aviao",children:["Horas: ",e.horas]})]}),se.map((function(t){return(0,f.jsxs)("div",{className:"item-missao",children:[Object.keys(Bn).map((function(a){var n=Bn[a];return Object.keys(n).map((function(s){return n[s].map((function(n){if(s==e.aviao&&a==t)return(0,f.jsx)("div",{className:"missao-red red",onClick:function(){return function(e){qn(!0),ss(e.titulo),cs(e.descricao),Ss(e.id),Is(e.Aeronave.aeronave),Zs(e.Aeronave.id);var t=new Date(e.inicio),a=new Date(e.fim),n=t.getTimezoneOffset();t.setMinutes(t.getMinutes()+n);var s=a.getTimezoneOffset();a.setMinutes(a.getMinutes()+s),ms(t),hs(a),es(!0)}(n)},children:n.titulo},n.id)}))}))})),e.eventos.length>0&&e.eventos.map((function(a){if(a.data==t)return(0,f.jsxs)("div",{onClick:function(){return As(e,a)},className:"missao-white white",onMouseEnter:function(){return function(e,t){T(e);var a=t.tripulacao.map((function(e){return e.trigrama}));k(a.join("/")),Ze(t),A(!0)}(a.missao.id,a.missao)},onMouseLeave:Ls,children:[E&&O==a.missao.id&&null!=a.missao.id&&(0,f.jsxs)("div",{style:{position:"absolute",top:"100%",left:"0",background:"#000",color:"#fff",padding:"10px",border:"1px solid black",zIndex:1},children:[(0,f.jsxs)("p",{style:{fontSize:"1vw"},children:["OMIS: ",je.omis]}),(0,f.jsxs)("p",{style:{fontSize:"1vw"},children:["Tripula\xe7\xe3o: ",C]})]}),a.missao.horaDep!=a.missao.horaPouso?(0,f.jsxs)(f.Fragment,{children:[(0,f.jsxs)("div",{className:"text-missao",children:[a.missao.horaDep," ",a.missao.dep]}),(0,f.jsxs)("div",{className:"text-missao",children:[a.missao.horaPouso," ",a.missao.pouso," "]})," "]}):(0,f.jsx)("div",{className:"text-missao",children:a.missao.dep})]})}))]})}))]})}))]})]}),(0,f.jsxs)("div",{ref:Ts,className:P?"modal-create-visible":"modal-create",children:[(0,f.jsx)("div",{style:{display:"flex",justifyContent:"flex-end",margin:10,cursor:"pointer"},children:(0,f.jsx)("div",{onClick:function(){window.confirm("Deseja mesmo sair? Todos os dados adicionados at\xe9 o momento ser\xe3o perdidos")&&(sr(),U(!1))},style:{color:"#fff"},children:"X"})}),(0,f.jsxs)("div",{className:"criar-div",children:[(0,f.jsxs)("h3",{style:{color:"#fff"},children:[X?"Editar":"Criar"," Miss\xe3o"]}),X?(0,f.jsx)("button",{className:"ver-omis",onClick:$s,children:"Ver OMIS"}):null]}),(0,f.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",marginTop:20,alignItems:"center"},children:[(0,f.jsx)("span",{style:{color:"#fff"},children:"Avi\xe3o:"}),Lt.map((function(e){return(0,f.jsx)("button",{onClick:function(){Ct(e.aeronave),Ot(e.id);var t=(0,r.Z)({},bt);t.aviao=e.aeronave,yt(t)},style:{backgroundColor:Nt==e.aeronave?"#28a745":"#FFF",color:Nt==e.aeronave?"#fff":"#000"},className:"botao-aviao",children:e.aeronave})}))]}),(0,f.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",marginTop:20,alignItems:"center"},children:[(0,f.jsx)("span",{style:{color:"#fff"},children:"OMIS:"}),(0,f.jsxs)("div",{style:{color:"#fff"},children:[(0,f.jsx)(h,{value:na,onChange:sa,disabled:wa}),wa&&(0,f.jsx)("button",{onClick:function(){return Sa(!1)},className:"cumprir",children:"Editar"}),!wa&&(0,f.jsx)("button",{onClick:function(){return Sa(!0)},className:"cumprir",children:"Salvar N\xfamero"})]})]}),(0,f.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",marginTop:20,alignItems:"center"},children:[(0,f.jsx)("span",{style:{color:"#fff"},children:"OFRAG:"}),(0,f.jsxs)("div",{style:{color:"#fff"},children:[(0,f.jsxs)("select",{id:"select-box",style:{borderRadius:5},value:da,onChange:function(e){ma(e.target.value)},children:[(0,f.jsx)("option",{value:"",children:"Selecione uma op\xe7\xe3o"}),va.length>0?va.map((function(e,t){return(0,f.jsx)("option",{style:{backgroundColor:"#fff"},value:e.id,children:e.numero},t)})):null]}),""==da||X||ft?null:Bt?(0,f.jsx)(N.Z,{}):(0,f.jsx)("button",{onClick:Gs,className:"cumprir",children:"Cumprir"}),""!=lt&&(0,f.jsx)("div",{style:{marginTop:10},class:"alert alert-danger",role:"alert",children:lt})]})]}),(0,f.jsxs)("div",{className:"add-etapa",children:[(0,f.jsx)("span",{style:{color:"#fff"},children:"Etapas:"}),(0,f.jsx)("img",{onClick:function(){if(!q&&we&&Se(!1),!q&&!we&&(Se(!0),bt.eventos.length>0)){var e=bt.eventos[bt.eventos.length-1].missao.pouso,t=bt.eventos[bt.eventos.length-1].missao.pousoISO;Qs(e,t)}q&&Q(!1)},style:{cursor:"pointer"},src:"https://www.1gtt.com.br/app/add-white.png",width:20,height:20})]}),(we||q)&&(0,f.jsxs)("div",{className:"form-area",children:[(0,f.jsxs)("div",{className:"form-add",children:[(0,f.jsx)("span",{style:{color:"#000"},children:"DEP: "}),(0,f.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[Ge.toLocaleString([],{year:"numeric",month:"2-digit",day:"2-digit",hour:"numeric",minute:"numeric"})+"Z",(0,f.jsx)("div",{className:"",style:{marginLeft:10},children:(0,f.jsx)(m(),{selected:Ge,timeInputLabel:Ge,onChange:function(e){Ke(e)},customInput:(0,f.jsx)(fr,{}),showTimeSelect:!0,timeFormat:"HH:mm",timeIntervals:10,dateFormat:"LLL",timeZone:"Etc/UTC",timeZoneData:[{value:"Etc/UTC",label:"Zulu (GMT 0)"}]})})]})]}),(0,f.jsxs)("div",{className:"form-add",children:[(0,f.jsx)("span",{style:{color:"#000"},children:"ICAO de Origem: "}),(0,f.jsx)(p,{erro:Qe,maxLength:4,value:ke,onChange:Ie})]}),(0,f.jsxs)("div",{className:"form-add",children:[(0,f.jsx)("span",{style:{color:"#000"},children:"ICAO de Destino: "}),(0,f.jsx)(p,{ref:Ds,id:"icao-pouso",onKeyPress:_s,erro:tt,maxLength:4,value:Te,onChange:Me})]}),(0,f.jsxs)("div",{className:"form-add",children:[(0,f.jsx)("span",{style:{color:"#000"},children:"ICAO de Alternativa: "}),(0,f.jsx)(p,{ref:Os,onKeyPress:_s,erro:rt,maxLength:4,value:Ae,onChange:_e})]}),(0,f.jsxs)("div",{className:"form-add",children:[(0,f.jsx)("span",{style:{color:"#000"},children:"Pouso: "}),(0,f.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[Ye.toLocaleString([],{year:"numeric",month:"2-digit",day:"2-digit",hour:"numeric",minute:"numeric"})+"Z",(0,f.jsx)("div",{className:"",style:{marginLeft:10},children:(0,f.jsx)(m(),{selected:Ye,timeInputLabel:Ye,onChange:function(e){Ve(e)},customInput:(0,f.jsx)(fr,{}),showTimeSelect:!0,timeFormat:"HH:mm",timeIntervals:10,dateFormat:"LLL"})})]})]}),(0,f.jsxs)("div",{className:"form-add",children:[(0,f.jsx)("span",{style:{color:"#000"},children:"COMB M\xednimo: "}),(0,f.jsx)(x,{onKeyPress:_s,value:ja,onChange:Za})]}),(0,f.jsxs)("div",{className:"botoes-add-etapa",children:[(0,f.jsx)("button",{onClick:function(){Ie(""),Me(""),Ke(""),Ve(""),Se(!1),Q(!1)},className:"cancelar",children:"Cancelar"}),(0,f.jsx)("button",{className:"adicionar",onClick:q?rr:or,children:q?"Editar":"Adicionar"})]}),""!=Ue&&(0,f.jsx)("div",{style:{marginTop:10},class:"alert alert-danger",role:"alert",children:Ue})]}),bt.eventos.map((function(e,t){return(0,f.jsx)(S,{edit:function(){te(t),Q(!0),function(e){var t=(0,r.Z)({},bt).eventos[e];Ie(t.missao.dep),Me(t.missao.pouso),_e(t.missao.alternativa?t.missao.alternativa:""),Za(t.missao.combustivel_minimo?t.missao.combustivel_minimo:0),"string"==typeof t.missao.depISO&&(t.missao.depISO=new Date(t.missao.depISO)),"string"==typeof t.missao.pousoISO&&(t.missao.pousoISO=new Date(t.missao.pousoISO));var a=t.missao.depISO.getTimezoneOffset();if(t.missao.depISO.setMinutes(t.missao.depISO.getMinutes()+a),t.missao.pousoISO){var n=t.missao.pousoISO.getTimezoneOffset();t.missao.pousoISO.setMinutes(t.missao.pousoISO.getMinutes()+n),Ve(t.missao.pousoISO)}else qs();Ke(t.missao.depISO)}(t),Ts.current.scrollTop=0},del:function(){var e=(0,r.Z)({},bt),a=e.eventos.filter((function(e,a){if(a!=t)return e}));e.eventos=a,yt(e)},index:t,dep:e.missao.dep,pouso:e.missao.pouso,alternativa:e.missao.alternativa,horaDep:e.missao.horaDep,horaPouso:e.missao.horaPouso})})),(0,f.jsxs)("div",{className:"add-trip",children:[(0,f.jsx)("span",{style:{color:"#fff"},children:"Tripula\xe7\xe3o:"}),(0,f.jsx)(v,{maxLength:3,value:$t,onChange:ea,onKeyPress:Ps}),xt&&(0,f.jsx)("div",{style:{marginTop:10},class:"alert alert-danger",role:"alert",children:xt}),(0,f.jsx)("div",{className:"tripulante-row",children:(0,f.jsx)("span",{style:{color:"#fff"},className:"tripulante",children:"Pilotos:"})}),(0,f.jsx)("div",{className:"caixa-tripulante",children:a.map((function(e){if("Piloto"==e.funcao)return(0,f.jsxs)("div",{className:"tripulante-item",children:[e.trigrama,(0,f.jsx)("img",{style:{marginLeft:5,cursor:"pointer"},onClick:function(){return nr(e.id)},src:"https://www.1gtt.com.br/app/close.png",width:"15px"})]})}))}),(0,f.jsx)("div",{className:"tripulante-row",children:(0,f.jsx)("span",{style:{color:"#fff"},className:"tripulante",children:"Mec\xe2nicos:"})}),(0,f.jsx)("div",{className:"caixa-tripulante",children:a.map((function(e){if("Mec\xe2nico de Voo"==e.funcao)return(0,f.jsxs)("div",{className:"tripulante-item",children:[e.trigrama,(0,f.jsx)("img",{style:{marginLeft:5,cursor:"pointer"},onClick:function(){return nr(e.id)},src:"https://www.1gtt.com.br/app/close.png",width:"15px"})]})}))}),(0,f.jsx)("div",{className:"tripulante-row",children:(0,f.jsx)("span",{style:{color:"#fff"},className:"tripulante",children:"Loadmasters:"})}),(0,f.jsx)("div",{className:"caixa-tripulante",children:a.map((function(e){if("Loadmaster"==e.funcao)return(0,f.jsxs)("div",{className:"tripulante-item",children:[e.trigrama,(0,f.jsx)("img",{style:{marginLeft:5,cursor:"pointer"},onClick:function(){return nr(e.id)},src:"https://www.1gtt.com.br/app/close.png",width:"15px"})]})}))}),(0,f.jsx)("div",{className:"tripulante-row",children:(0,f.jsx)("span",{style:{color:"#fff"},className:"tripulante",children:"Comiss\xe1rios:"})}),(0,f.jsx)("div",{className:"caixa-tripulante",children:a.map((function(e){if("Comiss\xe1rio"==e.funcao)return(0,f.jsxs)("div",{className:"tripulante-item",children:[e.trigrama,(0,f.jsx)("img",{style:{marginLeft:5,cursor:"pointer"},onClick:function(){return nr(e.id)},src:"https://www.1gtt.com.br/app/close.png",width:"15px"})]})}))}),(0,f.jsx)("div",{className:"tripulante-row",children:(0,f.jsx)("span",{style:{color:"#fff"},className:"tripulante",children:"OE-3:"})}),(0,f.jsx)("div",{className:"caixa-tripulante",children:a.map((function(e){if("O3"==e.funcao)return(0,f.jsxs)("div",{className:"tripulante-item",children:[e.trigrama,(0,f.jsx)("img",{style:{marginLeft:5,cursor:"pointer"},onClick:function(){return nr(e.id)},src:"https://www.1gtt.com.br/app/close.png",width:"15px"})]})}))})]}),(0,f.jsxs)("div",{style:{marginTop:30,display:"flex",flexDirection:"column"},children:[(0,f.jsx)("span",{style:{color:"#fff"},children:"Coment\xe1rios: "}),(0,f.jsx)("textarea",{value:ia,onChange:function(e){return ca(e.target.value)},style:{borderRadius:10,padding:5}})]}),(0,f.jsxs)("div",{className:"botoes-add-etapa",style:{marginTop:30},children:[(0,f.jsx)("button",{className:"cancelar",style:{fontSize:"1vw"},onClick:sr,children:"Limpar"}),Ht?(0,f.jsx)(N.Z,{}):(0,f.jsx)("button",{className:"adicionar",style:{fontSize:"1vw"},onClick:X?tr:Ws,children:X?"Editar Miss\xe3o":"Criar Miss\xe3o"})]}),(0,f.jsxs)("div",{className:"botoes-add-etapa",style:{marginTop:30,justifyContent:"center"},children:[Ft&&(0,f.jsx)(N.Z,{}),X?(0,f.jsx)("button",{className:"cancelar",style:{fontSize:"1.3vw"},onClick:ar,children:"Excluir Miss\xe3o"}):(0,f.jsx)(f.Fragment,{})]})]})]}),un&&(0,f.jsxs)("div",{className:"modal-aviao",style:{alignItems:"flex-end"},onMouseLeave:Es,children:[(0,f.jsx)("span",{onClick:function(){dn(!1)},className:"title-modal",style:{color:"#fff",cursor:"pointer"},children:"X"}),(0,f.jsx)("p",{style:{fontSize:"1vw",color:"#fff",marginTop:20},children:pn})]}),R&&(0,f.jsxs)("div",{className:"modal-aviao",style:{alignItems:"flex-end"},children:[(0,f.jsx)("span",{onClick:function(){G(!1)},className:"title-modal",style:{color:"#fff",cursor:"pointer"},children:"X"}),(0,f.jsxs)("div",{className:"modal-body",children:[(0,f.jsxs)("div",{className:"item-body-modal",children:[(0,f.jsx)("span",{className:"text-modal",style:{color:"#fff"},children:"T\xedtulo:"}),(0,f.jsx)(g,{value:Ta,onChange:Ma})]}),(0,f.jsxs)("div",{className:"item-body-modal",children:[(0,f.jsx)("span",{className:"text-modal",style:{color:"#fff"},children:"Observa\xe7\xe3o:"}),(0,f.jsx)(g,{value:Ta,onChange:Ma})]})]})]}),bn&&(0,f.jsxs)("div",{className:"modal-aviao",style:{alignItems:"flex-end"},children:[(0,f.jsx)("span",{onClick:function(){yn(!1)},className:"title-modal",style:{color:"#fff",cursor:"pointer"},children:"X"}),(0,f.jsxs)("div",{className:"modal-body",children:[(0,f.jsxs)("div",{className:"item-body-modal",children:[(0,f.jsx)("span",{className:"text-modal",style:{color:"#fff"},children:"T\xedtulo:"}),(0,f.jsx)(Z,{value:Nn,onChange:Cn})]}),(0,f.jsx)("div",{className:"item-body-modal",children:(0,f.jsx)("span",{className:"text-modal",style:{color:"#fff"},children:"Coment\xe1rios:"})}),(0,f.jsx)(b,{linhas:4,value:Dn,onChange:On}),(0,f.jsxs)("div",{className:"item-modal-body",children:[(0,f.jsx)("span",{style:{color:"#fff",marginRight:10},children:"Inicio: "}),(0,f.jsxs)("div",{style:{display:"flex",color:"#fff",alignItems:"center"},children:[(0,f.jsx)("div",{className:"input-obs",children:Ln.toLocaleString([],{year:"numeric",month:"2-digit",day:"2-digit"})}),(0,f.jsx)("div",{className:"",style:{marginLeft:10},children:(0,f.jsx)(m(),{selected:Ln,timeInputLabel:Ln,onChange:function(e){En(e)},customInput:(0,f.jsx)(pr,{}),timeIntervals:10,timeZone:"Etc/UTC",timeZoneData:[{value:"Etc/UTC",label:"Zulu (GMT 0)"}]})})]})]}),(0,f.jsxs)("div",{className:"item-modal-body",children:[(0,f.jsx)("span",{style:{color:"#fff",marginRight:10},children:"Fim: "}),(0,f.jsxs)("div",{style:{display:"flex",color:"#fff",alignItems:"center"},children:[(0,f.jsx)("div",{className:"input-obs",children:Fn.toLocaleString([],{year:"numeric",month:"2-digit",day:"2-digit"})}),(0,f.jsx)("div",{className:"",style:{marginLeft:10},children:(0,f.jsx)(m(),{selected:Fn,timeInputLabel:Fn,onChange:function(e){Pn(e)},customInput:(0,f.jsx)(pr,{}),timeFormat:"HH:mm",timeIntervals:10,dateFormat:"LLL",timeZone:"Etc/UTC",timeZoneData:[{value:"Etc/UTC",label:"Zulu (GMT 0)"}]})})]})]}),(0,f.jsx)("div",{className:"modal-bottom",children:(0,f.jsx)("button",{onClick:cr,className:"salvar",children:xn?"Editar":"Salvar"})}),xn&&(0,f.jsx)("div",{className:"modal-bottom",children:(0,f.jsx)("button",{onClick:function(){window.confirm("Deseja mesmo excluir essa Observa\xe7\xe3o?")&&ur()},className:"excluir",children:"Excluir"})})]})]}),$n&&(0,f.jsxs)("div",{className:"modal-aviao",style:{alignItems:"flex-end"},children:[(0,f.jsx)("span",{onClick:function(){es(!1)},className:"title-modal",style:{color:"#fff",cursor:"pointer"},children:"X"}),(0,f.jsxs)("div",{className:"modal-body",children:[(0,f.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",marginTop:20,alignItems:"center"},children:[(0,f.jsx)("span",{style:{color:"#fff"},children:"Avi\xe3o:"}),Lt.map((function(e){return(0,f.jsx)("button",{onClick:function(){Is(e.aeronave),Zs(e.id);var t=(0,r.Z)({},bt);t.aviao=e.aeronave,yt(t)},style:{backgroundColor:ks==e.aeronave?"#28a745":"#FFF",color:ks==e.aeronave?"#fff":"#000"},className:"botao-aviao",children:e.aeronave})}))]}),(0,f.jsxs)("div",{className:"item-body-modal",children:[(0,f.jsx)("span",{className:"text-modal",style:{color:"#fff"},children:"T\xedtulo:"}),(0,f.jsx)(Z,{value:ns,onChange:ss})]}),(0,f.jsx)("div",{className:"item-body-modal",children:(0,f.jsx)("span",{className:"text-modal",style:{color:"#fff"},children:"Descric\xe3o:"})}),(0,f.jsx)(b,{linhas:4,value:is,onChange:cs}),(0,f.jsxs)("div",{className:"item-modal-body",children:[(0,f.jsx)("span",{style:{color:"#fff",marginRight:10},children:"Inicio: "}),(0,f.jsxs)("div",{style:{display:"flex",color:"#fff",alignItems:"center"},children:[(0,f.jsx)("div",{className:"input-obs",children:ds.toLocaleString([],{year:"numeric",month:"2-digit",day:"2-digit",hour:"numeric",minute:"numeric"})+"Z"}),(0,f.jsx)("div",{className:"",style:{marginLeft:10},children:(0,f.jsx)(m(),{selected:ds,timeInputLabel:ds,onChange:function(e){ms(e)},customInput:(0,f.jsx)(pr,{}),showTimeSelect:!0,timeFormat:"HH:mm",timeIntervals:10,dateFormat:"LLL",timeZone:"Etc/UTC",timeZoneData:[{value:"Etc/UTC",label:"Zulu (GMT 0)"}]})})]})]}),(0,f.jsxs)("div",{className:"item-modal-body",children:[(0,f.jsx)("span",{style:{color:"#fff",marginRight:10},children:"Fim: "}),(0,f.jsxs)("div",{style:{display:"flex",color:"#fff",alignItems:"center"},children:[(0,f.jsx)("div",{className:"input-obs",children:vs.toLocaleString([],{year:"numeric",month:"2-digit",day:"2-digit",hour:"numeric",minute:"numeric"})+"Z"}),(0,f.jsx)("div",{className:"",style:{marginLeft:10},children:(0,f.jsx)(m(),{selected:vs,timeInputLabel:vs,onChange:function(e){hs(e)},customInput:(0,f.jsx)(pr,{}),showTimeSelect:!0,timeFormat:"HH:mm",timeIntervals:10,dateFormat:"LLL",timeZone:"Etc/UTC",timeZoneData:[{value:"Etc/UTC",label:"Zulu (GMT 0)"}]})})]})]}),(0,f.jsx)("div",{className:"modal-bottom",children:(0,f.jsx)("button",{onClick:lr,className:"salvar",children:Jn?"Editar":"Salvar"})}),Jn&&(0,f.jsx)("div",{className:"modal-bottom",children:(0,f.jsx)("button",{onClick:function(){window.confirm("Deseja mesmo excluir essa Manuten\xe7\xe3o?")&&dr()},className:"excluir",children:"Excluir"})})]})]}),ka&&(0,f.jsxs)("div",{className:"modal-aviao",children:[(0,f.jsxs)("div",{className:"modal-topo",children:[(0,f.jsx)("div",{className:"nome-aviao",children:(0,f.jsxs)("span",{className:"title-modal",style:{color:"#fff"},children:["FAB ",Ua]})}),(0,f.jsx)("span",{onClick:function(){Ia(!1)},className:"title-modal",style:{color:"#fff",cursor:"pointer"},children:"X"})]}),(0,f.jsxs)("div",{className:"modal-body",children:[(0,f.jsxs)("div",{className:"item-body-modal",children:[(0,f.jsx)("span",{className:"text-modal",style:{color:"#fff"},children:"Ciclos:"}),(0,f.jsx)(g,{value:Ta,onChange:Ma})]}),(0,f.jsxs)("div",{className:"item-body-modal",children:[(0,f.jsx)("span",{className:"text-modal",style:{color:"#fff"},children:"Horas:"}),(0,f.jsx)(j,{value:Aa,onChange:_a})]}),(0,f.jsxs)("div",{className:"item-body-modal",children:[(0,f.jsx)("span",{className:"text-modal",style:{color:"#fff"},children:"Situa\xe7\xe3o:"}),(0,f.jsx)("select",{style:{borderRadius:10},value:Ga,onChange:function(e){Ka(e.target.value)},children:["DI","DO","IN","IS"].map((function(e,t){return(0,f.jsx)("option",{value:e,children:e},t)}))})]}),(0,f.jsx)("div",{className:"item-body-modal",children:(0,f.jsxs)("span",{className:"text-modal",style:{color:"#fff"},children:["Atualizado por: ",Ya]})}),(0,f.jsx)("div",{className:"item-body-modal",children:(0,f.jsxs)("span",{className:"text-modal",style:{color:"#fff"},children:["Em: ",Qa," Z"]})})]}),(0,f.jsx)("div",{className:"modal-bottom",children:(0,f.jsx)("button",{onClick:ir,className:"salvar",children:"Salvar"})})]})]})}}}]);
//# sourceMappingURL=804.d27f1ab7.chunk.js.map