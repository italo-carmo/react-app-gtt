"use strict";(self.webpackChunkApp_GTT=self.webpackChunkApp_GTT||[]).push([[320],{5320:(e,a,s)=>{s.r(a),s.d(a,{default:()=>S});var t=s(69060),o=s(3084),i=s(36856),l=s(78620),n=s.n(l),r=(s(94412),s(82496));const c=e=>{let{maxLength:a,value:s,onChange:t,erro:o,onKeyPress:i,id:l=""}=e;return(0,r.jsx)("input",{type:"text",id:l,value:s,onChange:e=>{const s=e.target.value.toUpperCase().replace(/[^A-Z]/g,"").substring(0,a);t(s)},maxLength:a,style:{border:o?"1px solid #ff0000":"1px solid #000"},onKeyPress:i})};var d=s(54396);const m=e=>{let{value:a,onChange:s,disabled:t}=e;return(0,r.jsx)("input",{type:"number",value:a,onChange:e=>{const a=e.target.value.toUpperCase().replace(/[^0-9]/g,"").substring(0,6);s(a)},maxLength:6,disabled:t,style:{border:"1px solid #000",backgroundColor:"#fff"}})},u=e=>{let{value:a,onChange:s}=e;return(0,r.jsx)("input",{type:"number",value:a,onChange:e=>{const a=e.target.value.toUpperCase().replace(/[^0-9]/g,"").substring(0,5);s(a)},maxLength:5,style:{border:"1px solid #000"}})},p=e=>{let{value:a,onChange:s}=e;return(0,r.jsx)("input",{type:"number",value:a,onChange:e=>{const a=e.target.value.toUpperCase().replace(/[^0-9]/g,"").substring(0,5);s(a)},maxLength:5,style:{border:"1px solid #000",width:80}})},v=e=>{let{value:a,onChange:s}=e;return(0,r.jsx)("input",{type:"text",value:a,onChange:e=>{const a=e.target.value;s(a)},maxLength:7,style:{border:"1px solid #000",width:80}})},h=e=>{let{value:a,onChange:s}=e;return(0,r.jsx)("input",{type:"text",value:a,onChange:e=>{const a=e.target.value;s(a)},maxLength:255,style:{border:"1px solid #000"}})},f=e=>{let{value:a,onChange:s}=e;return(0,r.jsx)("input",{value:a,onChange:e=>{console.log("text");const a=e.target.value;s(a)},style:{border:"1px solid #000",width:"100%"}})};var x=s(26292);var g=s(73380),j=s.n(g);s(90080);function y(e){let{dep:a,data:s,pouso:t,alternativa:o,horaDep:i,horaPouso:l,index:n,edit:c,del:d}=e;var m=!1;return a&&t&&o&&i&&l&&""!=a&&""!=t&&""!=o&&""!=i&&""!=l&&(m=!0),(0,r.jsxs)("div",{className:m?"view-etapa complete":"view-etapa",children:[(0,r.jsxs)("div",{className:m?"complete-text":"",style:{color:"#000"},children:[n+1,"- ",s," - ",i," ",a," - ",l," ",t]}),(0,r.jsxs)("div",{className:"botoes-etapa",children:[(0,r.jsx)("img",{src:m?"https://www.1gtt.com.br/app/pen-white.png":"https://www.1gtt.com.br/app/pen.png",onClick:c,width:20,height:20}),(0,r.jsx)("img",{src:m?"https://www.1gtt.com.br/app/close-white.png":"https://www.1gtt.com.br/app/close.png",onClick:d,width:20,height:20})]})]})}var w=s(30260);j().tz.setDefault("Etc/UTC");const S=()=>{const[e,a]=(0,t.useState)([]),[s,l]=(0,t.useState)([]),[g,S]=(0,t.useState)([]),[b,N]=(0,t.useState)(!1),[C,I]=(0,t.useState)(!1),[D,O]=(0,t.useState)(!1),[T,M]=(0,t.useState)(!1),[k,L]=(0,t.useState)(!1),[E,A]=(0,t.useState)(!1),[_,F]=(0,t.useState)([]),[R,P]=(0,t.useState)(new Date),[U,Z]=(0,t.useState)(new Date),[z,H]=(0,t.useState)({avioes:[]}),[Y,G]=(0,t.useState)(""),[X,B]=(0,t.useState)(!1),[K,V]=(0,t.useState)(""),[J,q]=(0,t.useState)(""),[Q,W]=(0,t.useState)(""),[$,ee]=(0,t.useState)(""),[ae,se]=(0,t.useState)(new Date),[te,oe]=(0,t.useState)(new Date),[ie,le]=(0,t.useState)(!1),[ne,re]=(0,t.useState)(!1),[ce,de]=(0,t.useState)(!1),[me,ue]=(0,t.useState)(""),[pe,ve]=(0,t.useState)(!1),[he,fe]=(0,t.useState)(!1),[xe,ge]=(0,t.useState)({aviao:"",eventos:[]}),[je,ye]=(0,t.useState)([]),[we,Se]=(0,t.useState)(""),[be,Ne]=(0,t.useState)(""),[Ce,Ie]=(0,t.useState)([]),[De,Oe]=(0,t.useState)(!1),[Te,Me]=(0,t.useState)(!1),[ke,Le]=(0,t.useState)(!1),[Ee,Ae]=(0,t.useState)(""),[_e,Fe]=(0,t.useState)(""),[Re,Pe]=(0,t.useState)(""),[Ue,Ze]=(0,t.useState)(""),[ze,He]=(0,t.useState)(""),[Ye,Ge]=(0,t.useState)(""),[Xe,Be]=(0,t.useState)([]),[Ke,Ve]=(0,t.useState)(0),[Je,qe]=(0,t.useState)(!0),[Qe,We]=(0,t.useState)(!1),[$e,ea]=(0,t.useState)(""),[aa,sa]=(0,t.useState)(""),[ta,oa]=(0,t.useState)(""),[ia,la]=(0,t.useState)(""),[na,ra]=(0,t.useState)(""),[ca,da]=(0,t.useState)(""),[ma,ua]=(0,t.useState)(""),[pa,va]=(0,t.useState)([]),[ha,fa]=(0,t.useState)(!1),[xa,ga]=(0,t.useState)(""),[ja,ya]=(0,t.useState)(!1),[wa,Sa]=(0,t.useState)(!1),[ba,Na]=(0,t.useState)(!1),[Ca,Ia]=(0,t.useState)(!1),[Da,Oa]=(0,t.useState)(""),[Ta,Ma]=(0,t.useState)(""),[ka,La]=(0,t.useState)(""),[Ea,Aa]=(0,t.useState)(new Date),[_a,Fa]=(0,t.useState)(new Date),[Ra,Pa]=(0,t.useState)(""),[Ua,Za]=(0,t.useState)([]),[za,Ha]=(0,t.useState)(!1),[Ya,Ga]=(0,t.useState)(!1),[Xa,Ba]=(0,t.useState)(""),[Ka,Va]=(0,t.useState)(""),[Ja,qa]=(0,t.useState)(new Date),[Qa,Wa]=(0,t.useState)(new Date),[$a,es]=(0,t.useState)(""),[as,ss]=(0,t.useState)(""),[ts,os]=(0,t.useState)(""),[is,ls]=(0,t.useState)(""),[ns,rs]=(0,t.useState)([]),[cs,ds]=(0,t.useState)(new Date),[ms,us]=(0,t.useState)(!1),[ps,vs]=(0,t.useState)(""),[hs,fs]=(0,t.useState)([]),[xs,gs]=(0,t.useState)(!1),[js,ys]=(0,t.useState)(""),[ws,Ss]=(0,t.useState)(""),[bs,Ns]=(0,t.useState)(""),[Cs,Is]=(0,t.useState)(""),[Ds,Os]=(0,t.useState)(""),[Ts,Ms]=(0,t.useState)(""),[ks,Ls]=(0,t.useState)("#ccc"),[Es,As]=(0,t.useState)("#fff000"),[_s,Fs]=(0,t.useState)(""),[Rs,Ps]=(0,t.useState)(!1),[Us,Zs]=(0,t.useState)([]),[zs,Hs]=(0,t.useState)(!1),[Ys,Gs]=(0,t.useState)(""),[Xs,Bs]=(0,t.useState)(""),[Ks,Vs]=(0,t.useState)(!1),[Js,qs]=(0,t.useState)(null),Qs=(0,t.useRef)(null),Ws=(0,t.useRef)(null),$s=(0,t.useRef)(null),et=(0,i.c)(),at=()=>{N(!1)},st=()=>{Vs(!1)},tt=()=>{N(!1)},ot=e=>{"Enter"===e.key&&(k?jt():it())},it=async()=>{await yt()&&setTimeout((()=>{const e=document.getElementById("icao-pouso");e&&e.focus()}),0)},lt=async s=>{if(fe(!1),"Enter"===s.key){let s=[...e],t=await et.getTrigrama(_e);t.error?fe(t.error):(s.push({id:t.data.id_user,trigrama:t.data.trigrama,funcao:t.data.Usuario.FuncoesAbordo.nome}),a(s),Fe(""))}},nt=function(e){let a=arguments.length>1&&void 0!==arguments[1]&&arguments[1],s=new Date(e);s.setDate(s.getDate()-1);let t=[];for(var o=0;o<=6;o++){if(0!=o)var i=s.setDate(s.getDate()+1);else i=s.setDate(s.getDate());let e=new Date(i),a=e.getDate(),l=e.getMonth()+1;a<=9&&(a="0"+a),l<=9&&(l="0"+l);let n=a+"/"+l+"/"+e.getFullYear();t.push(n)}F(t),ut(t,a),dt(t),ct(t),mt(t),rt(t)},rt=async e=>{let a=e[0],s=e[6],t=await et.getRascunhos({inicio:a,fim:s});t.error||(console.log(t.data),fs(t.data))},ct=async e=>{let a=e[0],s=e[6],t=await et.getObservacoesData({inicio:a,fim:s});t.error||va(t.data)},dt=async e=>{let a=e[0],s=e[6],t=await et.getSobreavisos({inicio:a,fim:s});t.error||rs(t.data)},mt=async e=>{let a=e[0],s=e[6],t=await et.getManutencoesAvioes({inicio:a,fim:s});t.error||(Za(t.data),console.log(t))},ut=async function(e){let a=arguments.length>1&&void 0!==arguments[1]&&arguments[1],s=e[0],t=e[6],o=await et.getMissoesAvioes({inicio:s,fim:t});if(!o.error){let e=o.data;if(!a&&xe.eventos.length>0){let a=e.findIndex((e=>e.aviao==je));a>=0&&xe.eventos.forEach((s=>{e[a].eventos.push(s)}))}H({avioes:e})}},pt=(e,a)=>{let s=new Date(R);a?s.setDate(s.getDate()-e):s.setDate(s.getDate()+e),P(s)},vt=async()=>{if(""!=ae&&""!=te&&4==K.length&&4==J.length){le(!1),re(!1),de(!1),ee("");let e=await et.getDistanciaAerodromos({origem:K,destino:J});if(e.error){let a=e.error;ee(e.error),a.includes(K)&&le(!0),a.includes(J)&&re(!0)}else{let a=e.data.distancia,s=Math.round(60*a/400);s=5*Math.ceil(s/5);let t=new Date(ae);t.setMinutes(t.getMinutes()+s),oe(t)}}},ht=(e,a)=>{q(""),W(""),Ve(0);let s=new Date(a);s.setMinutes(s.getMinutes()+120);var t=s.getTimezoneOffset();s.setMinutes(s.getMinutes()+t),se(s),V(e),oe(s),Ws.current&&Qs.current.focus()},ft=s=>{let t=[...e];t=t.filter((e=>{if(e.id!=s)return e})),a(t)},xt=()=>{ge({aviao:"",eventos:[]});let e={...z};H(e),q(""),V(""),W(""),se(new Date),oe(new Date),ye(""),Ze(""),He(""),La(""),Pe(""),Ge(""),M(!1),L(!1),a([]),Ve(0),nt(R,!0)},gt=()=>{a([]),ds(new Date)},jt=async()=>{if(ee(""),""==J||""==K||""==Q||""==ae||""==te)return void ee("Todos os campos s\xe3o obrigat\xf3rios");if(""==je)return void ee("A aeronave \xe9 obrigat\xf3ria");let e=await et.getAerodromo(Q);if(e.error)return ee(e.error),void de(!0);de(!1);var a=ae.getTimezoneOffset();ae.setMinutes(ae.getMinutes()-a);var s=te.getTimezoneOffset();te.setMinutes(te.getMinutes()-s);let t=ae.toISOString(),o=te.toISOString(),[i,l]=t.split("T"),[n,r]=o.split("T"),[c,d,m]=i.split("-"),[u,p,v]=l.split(":"),[h,f,x]=r.split(":"),g={...xe},j={...z},y=g.eventos[E],w={data:"".concat(m,"/").concat(d,"/").concat(c),tipo:"missao",missao:{id:y.missao.id,dep:K,horaDep:"".concat(u,":").concat(p,"Z"),pouso:J,horaPouso:"".concat(h,":").concat(f,"Z"),alternativa:Q,depISO:ae,pousoISO:te,tripulacao:[],omis:"",combustivel_minimo:Ke,edicao:y.missao.edicao},manutencao:null};g.eventos[E]=w,g.eventos.sort(((e,a)=>new Date(e.missao.depISO)-new Date(a.missao.depISO))),ge(g);var S=j.avioes.findIndex((e=>e.aviao==je));if(S>=0){let e=j.avioes[S].eventos.findIndex((e=>e.missao.id==y.missao.id));e>=0&&(j.avioes[S].eventos[e]=w,j.avioes[S].eventos.sort(((e,a)=>new Date(e.missao.depISO)-new Date(a.missao.depISO))),H(j))}let b=g.eventos[g.eventos.length-1].missao.pouso,N=g.eventos[g.eventos.length-1].missao.pousoISO;L(!1),A(""),ht(b,N)},yt=async()=>{if(ee(""),""==J||""==K||""==Q||""==ae||""==te)return void ee("Todos os campos s\xe3o obrigat\xf3rios");if(""==je)return void ee("A aeronave \xe9 obrigat\xf3ria");let e=await et.getAerodromo(Q);if(e.error)return ee(e.error),de(!0),null;de(!1),re(!1);var a=ae.getTimezoneOffset();ae.setMinutes(ae.getMinutes()-a);var s=te.getTimezoneOffset();te.setMinutes(te.getMinutes()-s);let t=ae.toISOString(),o=te.toISOString(),[i,l]=t.split("T"),[n,r]=o.split("T"),[c,d,m]=i.split("-"),[u,p,v]=l.split(":"),[h,f,x]=r.split(":"),g={data:"".concat(m,"/").concat(d,"/").concat(c),tipo:"missao",missao:{id:Math.floor(1e4*Math.random())+1,dep:K,horaDep:"".concat(u,":").concat(p,"Z"),pouso:J,horaPouso:"".concat(h,":").concat(f,"Z"),alternativa:Q,depISO:ae,pousoISO:te,tripulacao:[],omis:"",combustivel_minimo:Ke,edicao:!0},manutencao:null},j={...xe};j.eventos.push(g);let y={...z};var w=y.avioes.findIndex((e=>e.aviao==je));return w>=0&&(y.avioes[w].eventos.push(g),y.avioes[w].eventos.sort(((e,a)=>new Date(e.missao.depISO)-new Date(a.missao.depISO)))),j.eventos.sort(((e,a)=>new Date(e.missao.depISO)-new Date(a.missao.depISO))),H(y),ge(j),ht(J,te),!0},wt=async()=>{let e=ps,a=await et.deleteSobreaviso(e);a.error?alert(a.error):(se(new Date),Ia(!1),us(!1),alert(a.msg),location.reload())},St=async()=>{let e=Ra,a=await et.deleteObservacao(e);a.error?alert(a.error):(Oa(""),Ma(""),Aa(new Date),Fa(new Date),Na(!1),ya(!1),alert(a.msg),location.reload())},bt=async()=>{let e=as,a=await et.deleteManutencao(e);a.error?alert(a.error):(Ba(""),Va(""),qa(new Date),Wa(new Date),Ga(!1),Ha(!1),alert(a.msg),location.reload())},Nt=()=>{qs(setTimeout(It,1e3))},Ct=()=>{Js&&clearTimeout(Js)},It=()=>{Ps(!0)},Dt=e=>{console.log(e);let a=[...Us];a.findIndex((a=>a.id==e.id))>-1?a=a.filter((a=>a.id!=e.id)):a.push(e),Zs(a)},Ot=async()=>{for(const e of Us){await et.excluirRascunho(e.id)}Zs([]),Ps(!1),alert("Itens excluidos com sucesso"),location.reload()},Tt=async()=>{for(const[e,a]of Us.entries())if(0!=e){let e={ofrag:Us[0].ofrag,trip:Us[0].trip,obs:Us[0].obs,cor:Us[0].cor};await et.editRascunho(a.id,e)}Zs([]),Ps(!1),alert("Itens mesclados com sucesso"),location.reload()};(0,t.useEffect)((()=>{(()=>{if(xe.eventos.length>0){let e={...z};e.avioes.forEach(((a,s)=>{if(a.eventos.length>0){let t=a.eventos.filter((e=>{if(xe.eventos.findIndex((a=>a.missao.id==e.missao.id))<0)return e}));e.avioes[s].eventos=t}}));let a=e.avioes.findIndex((e=>e.aviao==je));a>=0&&xe.eventos.forEach((s=>{e.avioes[a].eventos.push(s)})),H(e)}})()}),[je]),(0,t.useEffect)((()=>{vt()}),[J,K,ae]),(0,t.useEffect)((()=>{(async(e,a,s)=>{if(""!=e&&""!=a&&""!=s&&4==e.length&&4==a.length&&4==s.length){let t=await et.getCombMinimo({dep:e,pouso:a,alternativa:s});t.error||(parseInt(t.data.combustivel)<1e4?Ve(1e4):Ve(t.data.combustivel))}})(K,J,Q)}),[J,K,Q]),(0,t.useEffect)((()=>{(async()=>{let e=await et.getAeronaves();e.error||Ie(e.data)})(),(async()=>{let e=await et.getOfrags();e.error||Be(e.data.reverse())})()}),[]),(0,t.useEffect)((()=>{nt(R)}),[R]);const Mt=(0,t.forwardRef)(((e,a)=>{let{value:s,onClick:t}=e;return(0,r.jsx)("button",{className:"calendario",onClick:t,ref:a,children:R.toLocaleString("pt-BR",{month:"long"}).toUpperCase()+"/"+R.getFullYear()})})),kt=e=>{let{value:a,onClick:s}=e;return(0,r.jsx)("button",{className:"calendario",onClick:s,children:"+"})},Lt=e=>{let{value:a,onClick:s}=e;return(0,r.jsx)("button",{style:{backgroundColor:"#fff",color:"#000"},className:"calendario",onClick:s,children:"+"})};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(o.u0,{className:"mb-6",style:{flexDirection:"column"},children:[(0,r.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",padding:10},children:[(0,r.jsx)("div",{className:"",children:(0,r.jsx)(n(),{selected:R,timeInputLabel:R.toLocaleString("pt-BR",{month:"long"}).toUpperCase()+"/"+R.getFullYear(),onChange:e=>P(e),customInput:(0,r.jsx)(Mt,{})})}),(0,r.jsxs)("div",{className:"botoes",children:[(0,r.jsx)("button",{className:"calendario",onClick:()=>pt(7,!0),children:"<<"}),(0,r.jsx)("button",{className:"calendario",onClick:()=>pt(1,!0),children:"<"}),(0,r.jsx)("button",{className:"calendario",onClick:()=>{P(U)},children:"HOJE"}),(0,r.jsx)("button",{className:"calendario",onClick:()=>pt(1,!1),children:">"}),(0,r.jsx)("button",{className:"calendario",onClick:()=>pt(7,!1),children:">>"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("button",{onClick:async()=>{Oe(!1),Me(!1),M(!1),I(!0);let e=await et.getUltimaMissao();e.error||Pe((parseInt(e.data[0].numero)+1).toString())},className:"calendario",children:"Miss\xe3o"}),(0,r.jsx)("button",{onClick:()=>{ds(new Date),a([]),us(!1),Ia(!0)},className:"calendario",children:"Sobreaviso"}),(0,r.jsx)("button",{onClick:async()=>{Oa(""),Ma("");var e=new Date;e.setHours(0,0,0,0),Aa(e),Fa(e),ya(!1),Na(!0)},className:"calendario",children:"OBS"}),(0,r.jsx)("button",{onClick:async()=>{Ba(""),Va("");var e=new Date;qa(e),Wa(e),Ha(!1),Ga(!0)},className:"calendario",children:"Manuten\xe7\xe3o"})]})]}),(0,r.jsx)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",padding:10},children:Rs&&(0,r.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center"},children:[(0,r.jsx)("img",{onClick:async()=>{if(Us.length<1)alert("Selecione ao menos 1 item para avan\xe7ar!");else{for(const e of Us){const a=j()(e.data,"YYYY-MM-DD").subtract(1,"days").format("YYYY-MM-DD");await et.editRascunho(e.id,{data:a})}Zs([]),Ps(!1),location.reload()}},style:{marginRight:10,cursor:"pointer"},width:"50px",src:"https://www.1gtt.com.br/fast-backward.png"}),(0,r.jsx)("button",{onClick:()=>{Zs([]),Ps(!1)},style:{marginRight:5},className:"calendario vermelho",children:"Limpar Sele\xe7\xe3o"}),(0,r.jsx)("button",{onClick:()=>{Us.length<1?alert("Selecione ao menos de 1 item para trocar a Aeronave!"):Hs(!0)},style:{marginRight:5},className:"calendario",children:"Trocar Aeronave"}),(0,r.jsx)("button",{onClick:()=>{if(Us.length<2)return void alert("Selecione ao menos dois itens para mesclar!");window.confirm("Deseja mesmo mesclar os itens selecionados?")&&Tt()},style:{marginRight:5},className:"calendario verde",children:"Mesclar"}),(0,r.jsx)("button",{onClick:()=>{if(Us.length<1)return void alert("Selecione ao menos 1 item para excluir!");window.confirm("Deseja mesmo excluir os itens selecionados?")&&Ot()},style:{marginRight:5},className:"calendario vermelho",children:"Excluir Itens"}),(0,r.jsx)("img",{onClick:async()=>{if(Us.length<1)alert("Selecione ao menos 1 item para avan\xe7ar!");else{for(const e of Us){const a=j()(e.data,"YYYY-MM-DD").add(1,"days").format("YYYY-MM-DD");await et.editRascunho(e.id,{data:a})}Zs([]),Ps(!1),location.reload()}},style:{marginLeft:10,cursor:"pointer"},width:"50px",src:"https://www.1gtt.com.br/fast-forward.png"})]})}),(0,r.jsxs)("div",{style:{display:"flex",flexDirection:"column",width:"100%"},children:[(0,r.jsxs)("div",{className:"topo",children:[(0,r.jsx)("div",{className:"missao",children:"Avi\xe3o"}),_.map(((e,a)=>{var s=U.getDate();let t=U.getMonth()+1;s<=9&&(s="0"+s),t<=9&&(t="0"+t);let o=s+"/"+t+"/"+U.getFullYear();const i=e.split("/"),l=["DOM","SEG","TER","QUA","QUI","SEX","S\xc1B"][new Date(i[2],i[1]-1,i[0]).getUTCDay()];return(0,r.jsxs)("div",{className:"missao data",style:{backgroundColor:o==e?"#46a31d":"#000"},children:[(0,r.jsx)("span",{children:e})," ",(0,r.jsx)("span",{children:l})]})}))]}),(0,r.jsxs)("div",{className:"missoes",children:[(0,r.jsxs)("div",{className:"missao-item",children:[(0,r.jsx)("div",{className:"missao aviao",children:"OBS"}),_.map((e=>(0,r.jsx)("div",{className:"item-missao",children:pa.map((a=>{const[s,t,o]=e.split("/"),i=new Date(o,t-1,s);let l=new Date(a.inicio),n=new Date(a.fim);if(i.getTime()<=n.getTime()&&i.getTime()>=l.getTime())return(0,r.jsx)("div",{className:"missao-white white",onClick:()=>(e=>{ya(!0),Oa(e.titulo),Ma(e.observacoes),Pa(e.id),Aa(new Date(e.inicio)),Fa(new Date(e.fim)),Na(!0)})(a),onMouseLeave:tt,children:a.titulo})}))})))]}),z.avioes.length>0&&z.avioes.map((e=>(0,r.jsxs)("div",{className:"missao-item",children:[(0,r.jsxs)("div",{className:"IN"==e.situacao||"IS"==e.situacao||"II"==e.situacao?"missao aviao in":"missao aviao",children:[(0,r.jsx)("span",{style:{cursor:"pointer"},onClick:()=>((e,a,s,t,o,i,l)=>{ea(s),sa(t),oa(e),la(o),ra(i),ua(a),da((e=>{let[a,s]=e.split("T"),[t,o,i]=a.split("-"),[l,n,r]=s.split(":");return i+"/"+o+"/"+t+" - "+l+":"+n})(l)),We(!0)})(e.aviao,e.id,e.ciclos,e.horas,e.situacao,e.atualizador,e.atualizado),children:e.aviao}),(0,r.jsxs)("span",{className:"dados-aviao",children:["Situa\xe7\xe3o: ",e.situacao]}),(0,r.jsxs)("span",{className:"dados-aviao",children:["Ciclos: ",e.ciclos]}),(0,r.jsxs)("span",{className:"dados-aviao",children:["Horas: ",e.horas]})]}),_.map((t=>(0,r.jsxs)("div",{className:"item-missao",style:{cursor:"pointer"},onClick:a=>((e,a,s)=>{e.target===e.currentTarget&&(gs(!0),Os(a),Ms(s))})(a,t,e.id),children:[Object.keys(Ua).map((a=>{const s=Ua[a];return Object.keys(s).map((o=>s[o].map((s=>{if(o==e.aviao&&a==t)return(0,r.jsx)("div",{className:"missao-red red",onClick:()=>(e=>{Ha(!0),Ba(e.titulo),Va(e.descricao),ss(e.id),os(e.Aeronave.aeronave),es(e.Aeronave.id);let a=new Date(e.inicio),s=new Date(e.fim);var t=a.getTimezoneOffset();a.setMinutes(a.getMinutes()+t);var o=s.getTimezoneOffset();s.setMinutes(s.getMinutes()+o),qa(a),Wa(s),Ga(!0)})(s),children:s.titulo},s.id)}))))})),hs.map((a=>{let[s,o,i]=a.data.split("-"),l=i+"/"+o+"/"+s,n=a.trip.split("/");if(n.length>0)var c=n.join("/ ");else c=a.trip;if(l==t&&a.Aeronave.aeronave==e.aviao)return c=c.length>25?c.slice(0,25)+"...":c.trip,(0,r.jsxs)("div",{className:0==Us.findIndex((e=>e.id==a.id))?"missao-white rascunho-dashed":"missao-white rascunho",onMouseDown:Nt,onMouseUp:Ct,onMouseEnter:()=>{return Ne((e=a).id),Bs(e),void Vs(!0);var e},onMouseLeave:st,onClick:()=>(e=>{if(!Rs){ys(e.planejamento),Ss(e.ofrag),Ns(e.trip),Is(e.obs),Ms(e.id_aeronave);let[a,s,t]=e.data.split("-");Os(t+"/"+s+"/"+a),Fs(e.id),As(e.cor),Sa(!0),gs(!0)}})(a),style:{backgroundColor:a.cor,borderRadius:5,display:"flex",flexDirection:"column"},children:[Ks&&be==a.id&&(0,r.jsx)("div",{style:{position:"absolute",top:"100%",left:"0",background:"#000",color:"#fff",padding:"10px",border:"1px solid black",zIndex:1},children:(0,r.jsxs)("p",{style:{fontSize:"1vw"},children:["Trip: ",Xs.trip]})}),(0,r.jsx)("div",{className:"right-rascunho",children:Rs&&(0,r.jsx)(r.Fragment,{children:Us.findIndex((e=>e.id==a.id))>=0?(0,r.jsx)("img",{width:"14px",height:"14px",src:"http://www.1gtt.com.br/correct.png",onClick:()=>Dt(a)}):(0,r.jsx)("div",{className:"bola",onClick:()=>Dt(a)})})}),(0,r.jsxs)("div",{className:"left-rascunho",style:{display:"flex",flexDirection:"column"},children:[(0,r.jsx)("span",{className:"item-rascunho",children:a.planejamento}),(0,r.jsx)("span",{className:"item-rascunho",children:a.ofrag}),(0,r.jsx)("span",{className:"item-rascunho",children:a.trip}),(0,r.jsx)("span",{className:"item-rascunho",children:a.obs})]})]})})),e.eventos.length>0&&e.eventos.map((o=>{if(o.data==t)return(0,r.jsxs)("div",{onClick:()=>(async(e,s)=>{Oe(!1),Me(!1),M(!0),L(!1);let t=s.missao.id_missao;Ae(t);let o={...xe},i=[];s.missao.tripulacao.forEach((e=>{i.push(e)}));let l=s.comentarios,n=s.esforco,r=s.configuracao;Ze(l),He(n),La(r);let c=s.missao.omis;Pe(c),a(i);let d=(await et.getMissoesAvioesId(t)).data.filter((e=>{if(e.eventos.length>0)return e}));o.eventos=d[0].eventos,Ge(o.eventos[0].id_documento),ge(o),I(!0),ye(e.aviao);let m=Ce.findIndex((a=>a.aeronave==e.aviao));m>=0&&Se(Ce[m].id)})(e,o),className:o.missao.tripulacao.length<=0?"missao-white white":"missao-white green",onMouseEnter:()=>((e,a,s)=>{S(e);let t=a.tripulacao.map((e=>e.trigrama));if(l(t.join("/")),G(a),s.id_documento){let e=Xe.findIndex((e=>e.id==s.id_documento));ls(e>-1?Xe[e].numero:"OFRAG S/N")}else ls("OFRAG S/N");N(!0)})(o.missao.id,o.missao,o),onMouseLeave:at,children:[b&&g==o.missao.id&&null!=o.missao.id&&(0,r.jsxs)("div",{style:{position:"absolute",top:"100%",left:"0",background:"#000",color:"#fff",padding:"10px",border:"1px solid black",zIndex:1},children:[(0,r.jsxs)("p",{style:{fontSize:"1vw"},children:["OMIS: ",Y.omis]}),(0,r.jsx)("p",{style:{fontSize:"1vw"},children:is}),(0,r.jsxs)("p",{style:{fontSize:"1vw"},children:["Tripula\xe7\xe3o: ",s]})]}),o.missao.horaDep!=o.missao.horaPouso?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"text-missao",children:[o.missao.horaDep," ",o.missao.dep]}),(0,r.jsxs)("div",{className:"text-missao",children:[o.missao.horaPouso," ",o.missao.pouso," "]})," "]}):(0,r.jsx)("div",{className:"text-missao",children:o.missao.dep})]})}))]})))]}))),(0,r.jsxs)("div",{className:"missao-item",children:[(0,r.jsx)("div",{className:"missao aviao",children:"Sobreaviso"}),_.map((e=>(0,r.jsx)("div",{className:"item-missao",children:ns.map((s=>{const[t,o,i]=e.split("/"),l=new Date(i,o-1,t);let n=new Date(s.data);const c=l.getDate(),d=l.getMonth(),m=l.getFullYear(),u=n.getDate(),p=n.getMonth(),v=n.getFullYear();if(c===u&&d===p&&m===v){var h=[],f=[],x=[],g=[];return s.Usuarios.forEach(((e,a)=>{"Piloto"==e.FuncoesAbordo.nome&&h.push(e.Trigrama.trigrama),"Mec\xe2nico de Voo"==e.FuncoesAbordo.nome&&f.push(e.Trigrama.trigrama),"Loadmaster"==e.FuncoesAbordo.nome&&x.push(e.Trigrama.trigrama),"Comiss\xe1rio"==e.FuncoesAbordo.nome&&g.push(e.Trigrama.trigrama)})),(0,r.jsxs)("div",{className:"div-trigramas-sobreaviso",onClick:()=>(e=>{us(!0),vs(e.id),se(new Date(e.data)),Ia(!0);let s=[];e.Usuarios.forEach((e=>{s.push({id:e.id,trigrama:e.Trigrama.trigrama,funcao:e.FuncoesAbordo.nome})})),a(s)})(s),children:[(0,r.jsx)("span",{className:"trigrama-sobreaviso",children:h.join(" / ")}),(0,r.jsx)("span",{className:"trigrama-sobreaviso",children:f.join(" / ")}),(0,r.jsx)("span",{className:"trigrama-sobreaviso",children:x.join(" / ")}),(0,r.jsx)("span",{className:"trigrama-sobreaviso",children:g.join(" / ")})]})}}))})))]})]})]}),(0,r.jsxs)("div",{ref:$s,className:C?"modal-create-visible":"modal-create",children:[(0,r.jsx)("div",{style:{display:"flex",justifyContent:"flex-end",margin:10,cursor:"pointer"},children:(0,r.jsx)("div",{onClick:()=>{window.confirm("Deseja mesmo sair? Todos os dados adicionados at\xe9 o momento ser\xe3o perdidos")&&(xt(),I(!1))},style:{color:"#fff"},children:"X"})}),(0,r.jsxs)("div",{className:"criar-div",children:[(0,r.jsxs)("h3",{style:{color:"#fff"},children:[T?"Editar":"Criar"," Miss\xe3o"]}),T&&e.length>0?(0,r.jsx)("button",{className:"ver-omis",onClick:async()=>{let e=xe.eventos[0].comentarios,a=xe.eventos[0].esforco,s=xe.eventos[0].configuracao,t=[];xe.eventos[0].missao.tripulacao.forEach((e=>{t.push(e)}));let o=[];const i=e=>{let[a,s]=e.split("T"),[t,o,i]=a.split("-"),[l,n,r]=s.split(":");return[i+"/"+o+"/"+t,l+":"+n]};function l(e){var a=e/400,s=Math.round(a%1*60);60===(s=5*Math.ceil(s/5))&&(a+=1,s=0);var t=Math.floor(a);return t<=9&&(t="0"+t.toString()),t+":"+(s<10?"0"+s:s)}function n(e){var a=Math.floor(e/36e5);a<=9&&(a="0"+a.toString());var s=Math.ceil(e%36e5/6e4);return s<=9&&(s="0"+s.toString()),a+":"+s}await async function(){for(let t=0;t<xe.eventos.length;t++){let r=xe.eventos[t];var e="01:00";if(t!=xe.eventos.length-1){let s=xe.eventos[t+1].missao.depISO;var a=new Date(s)-new Date(r.missao.pousoISO);if(a<288e5)e=n(a)}let[c,d]=i(r.missao.depISO),[m,u]=i(r.missao.pousoISO),p=n(new Date(r.missao.pousoISO)-new Date(r.missao.depISO));var s="00:00";let v=await et.getDistanciaAerodromos({origem:r.missao.pouso,destino:r.missao.alternativa});if(!v.error){s=l(v.data.distancia)}let h={data:c,depIso:r.missao.depISO,horaDep:d,dep:r.missao.dep,horaPouso:u,pouso:r.missao.pouso,tev:p,solo:e,alternativa:r.missao.alternativa,tev_alt:s,combustivel:r.missao.combustivel_minimo};o.push(h)}}(),t.sort((function(e,a){return e.antiguidade-a.antiguidade}));var r=0;o.forEach((e=>{let[a,s]=e.tev.split(":"),t=60*parseInt(a)+parseInt(s);r+=t}));let c={tripulacao:t,etapas:o,comandante:t[0].posto+" "+t[0].nome_guerra.toUpperCase(),data:o[0].data,aviao:je,omis:xe.eventos[0].missao.omis,ofrag:xe.eventos[0].ofrag,comentarios:e,esforco:a,configuracao:s,horas:function(e){const a=e%60,s=Math.floor(e/60).toString().padStart(2,"0"),t=a.toString().padStart(2,"0");return"".concat(s,":").concat(t)}(r)};const d=document.createElement("form");d.method="post",d.action="/omis",d.target="_blank";for(const p in c)if(c.hasOwnProperty(p)){const e=document.createElement("input");e.type="hidden",e.name=p,e.value=JSON.stringify(c[p]),d.appendChild(e)}const m=encodeURIComponent(JSON.stringify(c)),u="/omis?dados=".concat(m);window.open(u,"_blank")},children:"Ver OMIS"}):null,T&&e.length>0?(0,r.jsx)("button",{className:"ver-omis",onClick:async()=>{let e=[];xe.eventos[0].missao.tripulacao.forEach((a=>{e.push(a)}));let a=[];const s=e=>{let[a,s]=e.split("T"),[t,o,i]=a.split("-"),[l,n,r]=s.split(":");return[i+"/"+o+"/"+t,l+":"+n]};function t(e){var a=e/400,s=Math.round(a%1*60);60===(s=5*Math.ceil(s/5))&&(a+=1,s=0);var t=Math.floor(a);return t<=9&&(t="0"+t.toString()),t+":"+(s<10?"0"+s:s)}function o(e){var a=Math.floor(e/36e5);a<=9&&(a="0"+a.toString());var s=Math.ceil(e%36e5/6e4);return s<=9&&(s="0"+s.toString()),a+":"+s}await async function(){for(let n=0;n<xe.eventos.length;n++){let r=xe.eventos[n];var e="01:00";if(n!=xe.eventos.length-1){let a=xe.eventos[n+1].missao.depISO;var i=new Date(a)-new Date(r.missao.pousoISO);if(i<288e5)e=o(i)}let[c,d]=s(r.missao.depISO),[m,u]=s(r.missao.pousoISO),p=o(new Date(r.missao.pousoISO)-new Date(r.missao.depISO));var l="00:00";let v=await et.getDistanciaAerodromos({origem:r.missao.pouso,destino:r.missao.alternativa});if(!v.error){l=t(v.data.distancia)}let h={data:c,depIso:r.missao.depISO,horaDep:d,dep:r.missao.dep,horaPouso:u,pouso:r.missao.pouso,tev:p,solo:e,alternativa:r.missao.alternativa,tev_alt:l,combustivel:r.missao.combustivel_minimo};a.push(h)}}(),e.sort((function(e,a){return e.antiguidade-a.antiguidade}));a.forEach((e=>{let[a,s]=e.tev.split(":"),t=60*parseInt(a)+parseInt(s);t}));let i={tripulacao:e,etapas:a,data:a[0].data,aviao:je,omis:xe.eventos[0].missao.omis};const l=encodeURIComponent(JSON.stringify(i)),n="/lanche?dados=".concat(l);window.open(n,"_blank")},children:"Ver Lanche"}):null]}),(0,r.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",marginTop:20,alignItems:"center"},children:[(0,r.jsx)("span",{style:{color:"#fff"},children:"Avi\xe3o:"}),Ce.map((e=>(0,r.jsx)("button",{onClick:()=>{ye(e.aeronave),Se(e.id);let a={...xe};a.aviao=e.aeronave,ge(a)},style:{backgroundColor:je==e.aeronave?"#28a745":"#FFF",color:je==e.aeronave?"#fff":"#000"},className:"botao-aviao",children:e.aeronave})))]}),(0,r.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",marginTop:20,alignItems:"center"},children:[(0,r.jsx)("span",{style:{color:"#fff"},children:"OMIS:"}),(0,r.jsxs)("div",{style:{color:"#fff"},children:[(0,r.jsx)(m,{value:Re,onChange:Pe,disabled:Je}),Je&&(0,r.jsx)("button",{onClick:()=>qe(!1),className:"cumprir",children:"Editar"}),!Je&&(0,r.jsx)("button",{onClick:()=>qe(!0),className:"cumprir",children:"Salvar N\xfamero"})]})]}),(0,r.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",marginTop:20,alignItems:"center"},children:[(0,r.jsx)("span",{style:{color:"#fff"},children:"OFRAG:"}),(0,r.jsxs)("div",{style:{color:"#fff"},children:[(0,r.jsxs)("select",{id:"select-box",style:{borderRadius:5},value:Ye,onChange:e=>{Ge(e.target.value)},children:[(0,r.jsx)("option",{value:"",children:"Selecione uma op\xe7\xe3o"}),Xe.length>0?Xe.map(((e,a)=>(0,r.jsxs)("option",{style:{backgroundColor:"#fff"},value:e.id,children:[e.numero," - V",e.versao]},a))):null]}),""==Ye||pe?null:ke?(0,r.jsx)(w.c,{}):(0,r.jsx)("button",{onClick:async()=>{if(ee(""),ue(""),""!=je){if(""!=Ye){let s=await et.getOfrag(Ye);if(!s.error){let t=[];var e={...z},a={...xe};a.eventos.forEach((a=>{var s=e.avioes.findIndex((e=>e.aviao==je));s>=0&&(e.avioes[s].eventos=e.avioes[s].eventos.filter((e=>e.missao.depISO!=a.missao.depISO&&e.missao.dep!=a.missao.dep)))})),s.data.missoes[0].rotaOfrag.etapas.forEach((a=>{let[s,o]=a.dataHoraDecolagem.split("T"),[i,l,n]=s.split("-"),[r,c,d]=o.split(":");if(a.dataHoraPouso)var[m,u]=a.dataHoraPouso.split("T"),[p,v,h]=m.split("-"),[f,x,g]=u.split(":");let j={data:"".concat(n,"/").concat(l,"/").concat(i),tipo:"missao",missao:{id:Math.floor(1e4*Math.random())+1,dep:a.codigoIcaoOrigem,horaDep:"".concat(r,":").concat(c,"Z"),pouso:a.codigoIcaoDestino,horaPouso:a.dataHoraPouso?"".concat(f,":").concat(x,"Z"):"",depISO:a.dataHoraDecolagem,pousoISO:a.dataHoraPouso,tripulacao:[],omis:"",edicao:!0},manutencao:null};var y=e.avioes.findIndex((e=>e.aviao==je));y>=0&&e.avioes[y].eventos.push(j),t.push(j)})),t.length>0&&(a.eventos=t,ge(a),ee(""),Le(!1),ve(!0),H(e))}}}else ue("A aeronave \xe9 obrigat\xf3ria")},className:"cumprir",children:"Cumprir"}),""!=me&&(0,r.jsx)("div",{style:{marginTop:10},class:"alert alert-danger",role:"alert",children:me})]})]}),(0,r.jsxs)("div",{className:"add-etapa",children:[(0,r.jsx)("span",{style:{color:"#fff"},children:"Etapas:"}),(0,r.jsx)("img",{onClick:()=>{if(!k&&X&&B(!1),!k&&!X&&(B(!0),xe.eventos.length>0)){let e=xe.eventos[xe.eventos.length-1].missao.pouso,a=xe.eventos[xe.eventos.length-1].missao.pousoISO;ht(e,a)}k&&L(!1)},style:{cursor:"pointer"},src:"https://www.1gtt.com.br/app/add-white.png",width:20,height:20})]}),(X||k)&&(0,r.jsxs)("div",{className:"form-area",children:[(0,r.jsxs)("div",{className:"form-add",children:[(0,r.jsx)("span",{style:{color:"#000"},children:"DEP: "}),(0,r.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[ae.toLocaleString([],{year:"numeric",month:"2-digit",day:"2-digit",hour:"numeric",minute:"numeric"})+"Z",(0,r.jsx)("div",{className:"",style:{marginLeft:10},children:(0,r.jsx)(n(),{selected:ae,timeInputLabel:ae,onChange:e=>{se(e)},customInput:(0,r.jsx)(kt,{}),showTimeSelect:!0,timeFormat:"HH:mm",timeIntervals:5,dateFormat:"LLL",timeZone:"Etc/UTC",timeZoneData:[{value:"Etc/UTC",label:"Zulu (GMT 0)"}]})})]})]}),(0,r.jsxs)("div",{className:"form-add",children:[(0,r.jsx)("span",{style:{color:"#000"},children:"ICAO de Origem: "}),(0,r.jsx)(c,{erro:ie,maxLength:4,value:K,onChange:V})]}),(0,r.jsxs)("div",{className:"form-add",children:[(0,r.jsx)("span",{style:{color:"#000"},children:"ICAO de Destino: "}),(0,r.jsx)(c,{ref:Qs,id:"icao-pouso",onKeyPress:ot,erro:ne,maxLength:4,value:J,onChange:q})]}),(0,r.jsxs)("div",{className:"form-add",children:[(0,r.jsx)("span",{style:{color:"#000"},children:"ICAO de Alternativa: "}),(0,r.jsx)(c,{ref:Ws,onKeyPress:ot,erro:ce,maxLength:4,value:Q,onChange:W})]}),(0,r.jsxs)("div",{className:"form-add",children:[(0,r.jsx)("span",{style:{color:"#000"},children:"Pouso: "}),(0,r.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[te.toLocaleString([],{year:"numeric",month:"2-digit",day:"2-digit",hour:"numeric",minute:"numeric"})+"Z",(0,r.jsx)("div",{className:"",style:{marginLeft:10},children:(0,r.jsx)(n(),{selected:te,timeInputLabel:te,onChange:e=>{oe(e)},customInput:(0,r.jsx)(kt,{}),showTimeSelect:!0,timeFormat:"HH:mm",timeIntervals:5,dateFormat:"LLL"})})]})]}),(0,r.jsxs)("div",{className:"form-add",children:[(0,r.jsx)("span",{style:{color:"#000"},children:"COMB M\xednimo: "}),(0,r.jsx)(u,{onKeyPress:ot,value:Ke,onChange:Ve})]}),(0,r.jsxs)("div",{className:"botoes-add-etapa",children:[(0,r.jsx)("button",{onClick:()=>{V(""),q(""),se(""),oe(""),B(!1),L(!1)},className:"cancelar",children:"Cancelar"}),(0,r.jsx)("button",{className:"adicionar",onClick:k?jt:yt,children:k?"Editar":"Adicionar"})]}),""!=$&&(0,r.jsx)("div",{style:{marginTop:10},class:"alert alert-danger",role:"alert",children:$})]}),xe.eventos.map(((e,a)=>(0,r.jsx)(y,{edit:()=>{A(a),L(!0),(e=>{let a={...xe}.eventos[e];V(a.missao.dep),q(a.missao.pouso),W(a.missao.alternativa?a.missao.alternativa:""),Ve(a.missao.combustivel_minimo?a.missao.combustivel_minimo:0),"string"==typeof a.missao.depISO&&(a.missao.depISO=new Date(a.missao.depISO)),"string"==typeof a.missao.pousoISO&&(a.missao.pousoISO=new Date(a.missao.pousoISO));var s=a.missao.depISO.getTimezoneOffset();if(a.missao.depISO.setMinutes(a.missao.depISO.getMinutes()+s),a.missao.pousoISO){var t=a.missao.pousoISO.getTimezoneOffset();a.missao.pousoISO.setMinutes(a.missao.pousoISO.getMinutes()+t),oe(a.missao.pousoISO)}else vt();se(a.missao.depISO)})(a),$s.current.scrollTop=0},del:()=>{let s={...xe},t=s.eventos.filter(((e,s)=>{if(s!=a)return e}));s.eventos=t;let o={...z};var i=o.avioes.findIndex((e=>e.aviao==je));i>=0&&(o.avioes[i].eventos=o.avioes[i].eventos.filter(((a,s)=>a.missao.dep!=e.missao.dep&&a.missao.horaDep!=e.missao.horaDep&&a.missao.pouso!=e.missao.pouso)),H(o)),ge(s)},index:a,dep:e.missao.dep,pouso:e.missao.pouso,alternativa:e.missao.alternativa,horaDep:e.missao.horaDep,horaPouso:e.missao.horaPouso,data:e.data}))),(0,r.jsxs)("div",{className:"add-trip",children:[(0,r.jsx)("span",{style:{color:"#fff"},children:"Tripula\xe7\xe3o:"}),(0,r.jsx)(d.c,{maxLength:3,value:_e,onChange:Fe,onKeyPress:lt}),he&&(0,r.jsx)("div",{style:{marginTop:10},class:"alert alert-danger",role:"alert",children:he}),(0,r.jsx)("div",{className:"tripulante-row",children:(0,r.jsx)("span",{style:{color:"#fff"},className:"tripulante",children:"Pilotos:"})}),(0,r.jsx)("div",{className:"caixa-tripulante",children:e.map((e=>{if("Piloto"==e.funcao)return(0,r.jsxs)("div",{className:"tripulante-item",children:[e.trigrama,(0,r.jsx)("img",{style:{marginLeft:5,cursor:"pointer"},onClick:()=>ft(e.id),src:"https://www.1gtt.com.br/app/close.png",width:"15px"})]})}))}),(0,r.jsx)("div",{className:"tripulante-row",children:(0,r.jsx)("span",{style:{color:"#fff"},className:"tripulante",children:"Mec\xe2nicos:"})}),(0,r.jsx)("div",{className:"caixa-tripulante",children:e.map((e=>{if("Mec\xe2nico de Voo"==e.funcao)return(0,r.jsxs)("div",{className:"tripulante-item",children:[e.trigrama,(0,r.jsx)("img",{style:{marginLeft:5,cursor:"pointer"},onClick:()=>ft(e.id),src:"https://www.1gtt.com.br/app/close.png",width:"15px"})]})}))}),(0,r.jsx)("div",{className:"tripulante-row",children:(0,r.jsx)("span",{style:{color:"#fff"},className:"tripulante",children:"Loadmasters:"})}),(0,r.jsx)("div",{className:"caixa-tripulante",children:e.map((e=>{if("Loadmaster"==e.funcao)return(0,r.jsxs)("div",{className:"tripulante-item",children:[e.trigrama,(0,r.jsx)("img",{style:{marginLeft:5,cursor:"pointer"},onClick:()=>ft(e.id),src:"https://www.1gtt.com.br/app/close.png",width:"15px"})]})}))}),(0,r.jsx)("div",{className:"tripulante-row",children:(0,r.jsx)("span",{style:{color:"#fff"},className:"tripulante",children:"Comiss\xe1rios:"})}),(0,r.jsx)("div",{className:"caixa-tripulante",children:e.map((e=>{if("Comiss\xe1rio"==e.funcao)return(0,r.jsxs)("div",{className:"tripulante-item",children:[e.trigrama,(0,r.jsx)("img",{style:{marginLeft:5,cursor:"pointer"},onClick:()=>ft(e.id),src:"https://www.1gtt.com.br/app/close.png",width:"15px"})]})}))}),(0,r.jsx)("div",{className:"tripulante-row",children:(0,r.jsx)("span",{style:{color:"#fff"},className:"tripulante",children:"Equipe M\xe9dica:"})}),(0,r.jsx)("div",{className:"caixa-tripulante",children:e.map((e=>{if("M\xe9dico"==e.funcao||"Enfermeiro"==e.funcao)return(0,r.jsxs)("div",{className:"tripulante-item",children:[e.trigrama,(0,r.jsx)("img",{style:{marginLeft:5,cursor:"pointer"},onClick:()=>ft(e.id),src:"https://www.1gtt.com.br/app/close.png",width:"15px"})]})}))}),(0,r.jsx)("div",{className:"tripulante-row",children:(0,r.jsx)("span",{style:{color:"#fff"},className:"tripulante",children:"OE-3:"})}),(0,r.jsx)("div",{className:"caixa-tripulante",children:e.map((e=>{if("O3"==e.funcao)return(0,r.jsxs)("div",{className:"tripulante-item",children:[e.trigrama,(0,r.jsx)("img",{style:{marginLeft:5,cursor:"pointer"},onClick:()=>ft(e.id),src:"https://www.1gtt.com.br/app/close.png",width:"15px"})]})}))})]}),(0,r.jsxs)("div",{style:{marginTop:30,display:"flex",flexDirection:"column"},children:[(0,r.jsx)("span",{style:{color:"#fff"},children:"Configura\xe7\xe3o: "}),(0,r.jsx)("textarea",{value:ka,onChange:e=>La(e.target.value),style:{borderRadius:10,padding:5}})]}),(0,r.jsxs)("div",{style:{marginTop:30,display:"flex",flexDirection:"column"},children:[(0,r.jsx)("span",{style:{color:"#fff"},children:"Coment\xe1rios: "}),(0,r.jsx)("textarea",{value:Ue,onChange:e=>Ze(e.target.value),style:{borderRadius:10,padding:5}})]}),(0,r.jsxs)("div",{style:{marginTop:30,display:"flex",flexDirection:"column"},children:[(0,r.jsx)("span",{style:{color:"#fff"},children:"Esfor\xe7o A\xe9reo: "}),(0,r.jsx)("textarea",{value:ze,onChange:e=>He(e.target.value),style:{borderRadius:10,padding:5}})]}),(0,r.jsxs)("div",{className:"botoes-add-etapa",style:{marginTop:30},children:[(0,r.jsx)("button",{className:"cancelar",style:{fontSize:"1vw"},onClick:xt,children:"Limpar"}),Te?(0,r.jsx)(w.c,{}):(0,r.jsx)("button",{className:"adicionar",style:{fontSize:"1vw"},onClick:T?async()=>{Me(!0);var a=Ee;if(""!=Re){let e={numero:Re};""!=Ye&&(e.id_documento=Ye),e.comentarios=""!=Ue?Ue:"NIL",e.configuracao=ka,e.esforco=ze,await et.updateMissao(e,a)}let s=xe.eventos.map((async e=>{let a={};var s=await et.getAerodromo(e.missao.dep),t=await et.getAerodromo(e.missao.pouso),o=null;if(e.missao.alternativa)o=(await et.getAerodromo(e.missao.alternativa)).data.id;return a.dep=e.missao.depISO,a.pouso=e.missao.pousoISO,a.id_aeronave=we,a.id_dep=s.data.id,a.id_pouso=t.data.id,a.id_alternativa=o,a.combustivel_minimo=e.missao.combustivel_minimo,e.missao.edicao?a.id=null:a.id=e.missao.id,a})),t={etapas:await Promise.all(s),id_missao:a},o=await et.updateEtapas(t);if(o.error)return Me(!1),void alert(o.error);{let s=[];e.forEach((e=>{s.push(e.id)}));let t={id_missao:a,id_militares:s};await et.updateEscala(t),xt(),I(!1),nt(R,!0)}}:async()=>{if(Me(!0),""==je||0==xe.eventos.length)return alert("Todos os campos s\xe3o obrigat\xf3rios!"),void Me(!1);let a=!1;if(xe.eventos.forEach((e=>{e.missao.pousoISO&&e.missao.depISO&&e.missao.alternativa&&""!=e.missao.alternativa||(a=!0)})),a)return Me(!1),void alert("Hor\xe1rios de DEP e POUSO e ICAO de ALTERNATIVA s\xe3o obrigat\xf3rios!");if(!T){let a={};""!=Re&&(a.numero=Re),""!=Ye&&(a.id_documento=Ye),""!=ze&&(a.esforco=ze);let s=await et.createMissao(a);if(s.error)Me(!1),alert(s.error);else{let a=s.data.id;xe.eventos.forEach((async(e,t)=>{var o=await et.getAerodromo(e.missao.dep),i=await et.getAerodromo(e.missao.pouso),l=0,n=null;if(e.missao.alternativa){n=(await et.getAerodromo(e.missao.alternativa)).data.id;if(!(await et.getCombMinimo(e.missao.dep,e.missao.pouso,e.missao.alternativa)).error)l=s.data.combustivel}let r={dep:e.missao.depISO,pouso:e.missao.pousoISO,id_missao:a,id_aeronave:we,id_dep:o.data.id,id_pouso:i.data.id,id_alternativa:n,combustivel_minimo:""!=e.missao.combustivel_minimo?e.missao.combustivel_minimo:l},c=await et.createEtapa(r);if(c.error)return console.log(c),void alert(s.etapa.error);t==xe.eventos.length-1&&(I(!1),Me(!1),setTimeout((()=>{location.reload()}),"2000"))}));let t=[];e.forEach((e=>{t.push(e.id)}));let o={id_missao:a,id_militares:t};await et.createEscala(o),Me(!1)}}},children:T?"Editar Miss\xe3o":"Criar Miss\xe3o"})]}),(0,r.jsxs)("div",{className:"botoes-add-etapa",style:{marginTop:30,justifyContent:"center"},children:[De&&(0,r.jsx)(w.c,{}),T?(0,r.jsx)("button",{className:"cancelar",style:{fontSize:"1.3vw"},onClick:async()=>{Oe(!0);if(window.confirm("Deseja mesmo excluir essa miss\xe3o?")){let e=xe.eventos[0].missao.id_missao,a=await et.deleteMissao(e);if(a.error)return Oe(!1),void alert(a.error);Oe(!1),H({avioes:[]}),xt(),I(!1),nt(R,!0)}Oe(!1)},children:"Excluir Miss\xe3o"}):(0,r.jsx)(r.Fragment,{})]})]}),(0,r.jsxs)("div",{ref:$s,className:Ca?"modal-create-visible":"modal-create",children:[(0,r.jsx)("div",{style:{display:"flex",justifyContent:"flex-end",margin:10,cursor:"pointer"},children:(0,r.jsx)("div",{onClick:()=>{gt(),Ia(!1)},style:{color:"#fff"},children:"X"})}),(0,r.jsx)("div",{className:"criar-div",children:(0,r.jsxs)("h3",{style:{color:"#fff"},children:[ms?"Editar":"Criar"," Sobreaviso"]})}),(0,r.jsx)("div",{className:"form-area",children:(0,r.jsxs)("div",{className:"form-add",style:{alignItems:"center"},children:[(0,r.jsx)("span",{style:{color:"#000"},children:"Data: "}),(0,r.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[ae.toLocaleString([],{year:"numeric",month:"2-digit",day:"2-digit"}),(0,r.jsx)("div",{className:"",style:{marginLeft:10},children:(0,r.jsx)(n(),{selected:ae,timeInputLabel:ae,onChange:e=>{se(e)},customInput:(0,r.jsx)(Lt,{}),timeIntervals:5,timeZone:"Etc/UTC",timeZoneData:[{value:"Etc/UTC",label:"Zulu (GMT 0)"}]})})]})]})}),(0,r.jsxs)("div",{className:"add-trip",children:[(0,r.jsx)("span",{style:{color:"#fff"},children:"Tripula\xe7\xe3o:"}),(0,r.jsx)(d.c,{maxLength:3,value:_e,onChange:Fe,onKeyPress:lt}),he&&(0,r.jsx)("div",{style:{marginTop:10},class:"alert alert-danger",role:"alert",children:he}),(0,r.jsx)("div",{className:"tripulante-row",children:(0,r.jsx)("span",{style:{color:"#fff"},className:"tripulante",children:"Pilotos:"})}),(0,r.jsx)("div",{className:"caixa-tripulante",children:e.map((e=>{if("Piloto"==e.funcao)return(0,r.jsxs)("div",{className:"tripulante-item",children:[e.trigrama,(0,r.jsx)("img",{style:{marginLeft:5,cursor:"pointer"},onClick:()=>ft(e.id),src:"https://www.1gtt.com.br/app/close.png",width:"15px"})]})}))}),(0,r.jsx)("div",{className:"tripulante-row",children:(0,r.jsx)("span",{style:{color:"#fff"},className:"tripulante",children:"Mec\xe2nicos:"})}),(0,r.jsx)("div",{className:"caixa-tripulante",children:e.map((e=>{if("Mec\xe2nico de Voo"==e.funcao)return(0,r.jsxs)("div",{className:"tripulante-item",children:[e.trigrama,(0,r.jsx)("img",{style:{marginLeft:5,cursor:"pointer"},onClick:()=>ft(e.id),src:"https://www.1gtt.com.br/app/close.png",width:"15px"})]})}))}),(0,r.jsx)("div",{className:"tripulante-row",children:(0,r.jsx)("span",{style:{color:"#fff"},className:"tripulante",children:"Loadmasters:"})}),(0,r.jsx)("div",{className:"caixa-tripulante",children:e.map((e=>{if("Loadmaster"==e.funcao)return(0,r.jsxs)("div",{className:"tripulante-item",children:[e.trigrama,(0,r.jsx)("img",{style:{marginLeft:5,cursor:"pointer"},onClick:()=>ft(e.id),src:"https://www.1gtt.com.br/app/close.png",width:"15px"})]})}))}),(0,r.jsx)("div",{className:"tripulante-row",children:(0,r.jsx)("span",{style:{color:"#fff"},className:"tripulante",children:"Comiss\xe1rios:"})}),(0,r.jsx)("div",{className:"caixa-tripulante",children:e.map((e=>{if("Comiss\xe1rio"==e.funcao)return(0,r.jsxs)("div",{className:"tripulante-item",children:[e.trigrama,(0,r.jsx)("img",{style:{marginLeft:5,cursor:"pointer"},onClick:()=>ft(e.id),src:"https://www.1gtt.com.br/app/close.png",width:"15px"})]})}))})]}),(0,r.jsxs)("div",{className:"botoes-add-etapa",style:{marginTop:30},children:[(0,r.jsx)("button",{className:"cancelar",style:{fontSize:"1vw"},onClick:()=>{a([])},children:"Limpar"}),Te?(0,r.jsx)(w.c,{}):(0,r.jsx)("button",{className:"adicionar",style:{fontSize:"1vw"},onClick:ms?async()=>{var a=[];e.forEach((e=>{a.push(e.id)}));let s={id_usuarios:a},t=await et.updateSobreaviso(ps,s);t.error?alert(t.error):(alert(t.msg),gt(),Ia(!1),location.reload())}:async()=>{var a=[];e.forEach((e=>{a.push(e.id)}));let s=new Date(ae);s.setHours(3,30,0,0);let t={id_usuarios:a,data:s.toISOString()},o=await et.createSobreaviso(t);o.error?alert(o.error):(alert(o.msg),gt(),Ia(!1),location.reload())},children:ms?"Editar Sobreaviso":"Criar Sobreaviso"})]}),(0,r.jsxs)("div",{className:"botoes-add-etapa",style:{marginTop:30,justifyContent:"center"},children:[De&&(0,r.jsx)(w.c,{}),ms?(0,r.jsx)("button",{className:"cancelar",style:{fontSize:"1.3vw"},onClick:()=>{window.confirm("Deseja mesmo excluir esse Sobreaviso?")&&wt()},children:"Excluir Sobreaviso"}):(0,r.jsx)(r.Fragment,{})]})]})]}),ha&&(0,r.jsxs)("div",{className:"modal-aviao",style:{alignItems:"flex-end"},onMouseLeave:tt,children:[(0,r.jsx)("span",{onClick:()=>{fa(!1)},className:"title-modal",style:{color:"#fff",cursor:"pointer"},children:"X"}),(0,r.jsx)("p",{style:{fontSize:"1vw",color:"#fff",marginTop:20},children:xa})]}),D&&(0,r.jsxs)("div",{className:"modal-aviao",style:{alignItems:"flex-end"},children:[(0,r.jsx)("span",{onClick:()=>{O(!1)},className:"title-modal",style:{color:"#fff",cursor:"pointer"},children:"X"}),(0,r.jsxs)("div",{className:"modal-body",children:[(0,r.jsxs)("div",{className:"item-body-modal",children:[(0,r.jsx)("span",{className:"text-modal",style:{color:"#fff"},children:"T\xedtulo:"}),(0,r.jsx)(p,{value:$e,onChange:ea})]}),(0,r.jsxs)("div",{className:"item-body-modal",children:[(0,r.jsx)("span",{className:"text-modal",style:{color:"#fff"},children:"Observa\xe7\xe3o:"}),(0,r.jsx)(p,{value:$e,onChange:ea})]})]})]}),ba&&(0,r.jsxs)("div",{className:"modal-aviao",style:{alignItems:"flex-end"},children:[(0,r.jsx)("span",{onClick:()=>{Na(!1)},className:"title-modal",style:{color:"#fff",cursor:"pointer"},children:"X"}),(0,r.jsxs)("div",{className:"modal-body",children:[(0,r.jsxs)("div",{className:"item-body-modal",children:[(0,r.jsx)("span",{className:"text-modal",style:{color:"#fff"},children:"T\xedtulo:"}),(0,r.jsx)(h,{value:Da,onChange:Oa})]}),(0,r.jsx)("div",{className:"item-body-modal",children:(0,r.jsx)("span",{className:"text-modal",style:{color:"#fff"},children:"Coment\xe1rios:"})}),(0,r.jsx)(x.c,{linhas:4,value:Ta,onChange:Ma}),(0,r.jsxs)("div",{className:"item-modal-body",children:[(0,r.jsx)("span",{style:{color:"#fff",marginRight:10},children:"Inicio: "}),(0,r.jsxs)("div",{style:{display:"flex",color:"#fff",alignItems:"center"},children:[(0,r.jsx)("div",{className:"input-obs",children:Ea.toLocaleString([],{year:"numeric",month:"2-digit",day:"2-digit"})}),(0,r.jsx)("div",{className:"",style:{marginLeft:10},children:(0,r.jsx)(n(),{selected:Ea,timeInputLabel:Ea,onChange:e=>{Aa(e)},customInput:(0,r.jsx)(Lt,{}),timeIntervals:5,timeZone:"Etc/UTC",timeZoneData:[{value:"Etc/UTC",label:"Zulu (GMT 0)"}]})})]})]}),(0,r.jsxs)("div",{className:"item-modal-body",children:[(0,r.jsx)("span",{style:{color:"#fff",marginRight:10},children:"Fim: "}),(0,r.jsxs)("div",{style:{display:"flex",color:"#fff",alignItems:"center"},children:[(0,r.jsx)("div",{className:"input-obs",children:_a.toLocaleString([],{year:"numeric",month:"2-digit",day:"2-digit"})}),(0,r.jsx)("div",{className:"",style:{marginLeft:10},children:(0,r.jsx)(n(),{selected:_a,timeInputLabel:_a,onChange:e=>{Fa(e)},customInput:(0,r.jsx)(Lt,{}),timeFormat:"HH:mm",timeIntervals:5,dateFormat:"LLL",timeZone:"Etc/UTC",timeZoneData:[{value:"Etc/UTC",label:"Zulu (GMT 0)"}]})})]})]}),(0,r.jsx)("div",{className:"modal-bottom",children:(0,r.jsx)("button",{onClick:async()=>{var e={titulo:Da,observacoes:Ta,inicio:Ea,fim:_a};if(ja){let a=Ra,s=await et.updateObservacao(e,a);s.error||(Oa(""),Ma(""),Aa(new Date),Fa(new Date),Na(!1),ya(!1),alert(s.msg),location.reload())}else{let a=await et.createObservacao(e);a.error||(Oa(""),Ma(""),Aa(new Date),Fa(new Date),Na(!1),ya(!1),alert(a.msg),location.reload())}},className:"salvar",children:ja?"Editar":"Salvar"})}),ja&&(0,r.jsx)("div",{className:"modal-bottom",children:(0,r.jsx)("button",{onClick:()=>{window.confirm("Deseja mesmo excluir essa Observa\xe7\xe3o?")&&St()},className:"excluir",children:"Excluir"})})]})]}),Ya&&(0,r.jsxs)("div",{className:"modal-aviao",style:{alignItems:"flex-end"},children:[(0,r.jsx)("span",{onClick:()=>{Ga(!1)},className:"title-modal",style:{color:"#fff",cursor:"pointer"},children:"X"}),(0,r.jsxs)("div",{className:"modal-body",children:[(0,r.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",marginTop:20,alignItems:"center"},children:[(0,r.jsx)("span",{style:{color:"#fff"},children:"Avi\xe3o:"}),Ce.map((e=>(0,r.jsx)("button",{onClick:()=>{os(e.aeronave),es(e.id);let a={...xe};a.aviao=e.aeronave,ge(a)},style:{backgroundColor:ts==e.aeronave?"#28a745":"#FFF",color:ts==e.aeronave?"#fff":"#000"},className:"botao-aviao",children:e.aeronave})))]}),(0,r.jsxs)("div",{className:"item-body-modal",children:[(0,r.jsx)("span",{className:"text-modal",style:{color:"#fff"},children:"T\xedtulo:"}),(0,r.jsx)(h,{value:Xa,onChange:Ba})]}),(0,r.jsx)("div",{className:"item-body-modal",children:(0,r.jsx)("span",{className:"text-modal",style:{color:"#fff"},children:"Descric\xe3o:"})}),(0,r.jsx)(x.c,{linhas:4,value:Ka,onChange:Va}),(0,r.jsxs)("div",{className:"item-modal-body",children:[(0,r.jsx)("span",{style:{color:"#fff",marginRight:10},children:"Inicio: "}),(0,r.jsxs)("div",{style:{display:"flex",color:"#fff",alignItems:"center"},children:[(0,r.jsx)("div",{className:"input-obs",children:Ja.toLocaleString([],{year:"numeric",month:"2-digit",day:"2-digit",hour:"numeric",minute:"numeric"})+"Z"}),(0,r.jsx)("div",{className:"",style:{marginLeft:10},children:(0,r.jsx)(n(),{selected:Ja,timeInputLabel:Ja,onChange:e=>{qa(e)},customInput:(0,r.jsx)(Lt,{}),showTimeSelect:!0,timeFormat:"HH:mm",timeIntervals:5,dateFormat:"LLL",timeZone:"Etc/UTC",timeZoneData:[{value:"Etc/UTC",label:"Zulu (GMT 0)"}]})})]})]}),(0,r.jsxs)("div",{className:"item-modal-body",children:[(0,r.jsx)("span",{style:{color:"#fff",marginRight:10},children:"Fim: "}),(0,r.jsxs)("div",{style:{display:"flex",color:"#fff",alignItems:"center"},children:[(0,r.jsx)("div",{className:"input-obs",children:Qa.toLocaleString([],{year:"numeric",month:"2-digit",day:"2-digit",hour:"numeric",minute:"numeric"})+"Z"}),(0,r.jsx)("div",{className:"",style:{marginLeft:10},children:(0,r.jsx)(n(),{selected:Qa,timeInputLabel:Qa,onChange:e=>{Wa(e)},customInput:(0,r.jsx)(Lt,{}),showTimeSelect:!0,timeFormat:"HH:mm",timeIntervals:5,dateFormat:"LLL",timeZone:"Etc/UTC",timeZoneData:[{value:"Etc/UTC",label:"Zulu (GMT 0)"}]})})]})]}),(0,r.jsx)("div",{className:"modal-bottom",children:(0,r.jsx)("button",{onClick:async()=>{if(!ts||""==ts)return void alert("A Aeronave \xe9 obrigat\xf3ria");if(!Xa||""==Xa||!Ka||""==Ka)return void alert("O T\xedtulo e descri\xe7\xe3o s\xe3o obrigat\xf3rios");let e=new Date(Ja),a=new Date(Qa);if(e.getTime()>a.getTime())alert("Data de t\xe9rmino menor do que a de in\xedcio");else{var s=e.getTimezoneOffset();e.setMinutes(e.getMinutes()-s);var t=a.getTimezoneOffset();a.setMinutes(a.getMinutes()-t);var o={titulo:Xa,descricao:Ka,inicio:e.toISOString(),fim:a.toISOString(),id_aviao:$a};if(za){let e=as,a=await et.updateManutencao(o,e);if(a.error)return void alert(a.error);Ba(""),Va(""),qa(new Date),Wa(new Date),Ga(!1),Ha(!1),alert(a.msg),location.reload()}else{let e=await et.createManutencao(o);e.error||(Ba(""),Va(""),qa(new Date),Wa(new Date),Ga(!1),Ha(!1),alert(e.msg),location.reload())}}},className:"salvar",children:za?"Editar":"Salvar"})}),za&&(0,r.jsx)("div",{className:"modal-bottom",children:(0,r.jsx)("button",{onClick:()=>{window.confirm("Deseja mesmo excluir essa Manuten\xe7\xe3o?")&&bt()},className:"excluir",children:"Excluir"})})]})]}),xs&&(0,r.jsxs)("div",{className:"modal-aviao",style:{alignItems:"flex-start",width:300},children:[(0,r.jsx)("span",{onClick:()=>{gs(!1),ys(""),Is(""),Ns(""),Ss(""),Ms(""),Sa(!1)},className:"title-modal",style:{color:"#fff",cursor:"pointer"},children:"X"}),(0,r.jsxs)("div",{className:"modal-body",style:{alignItems:"flex-start",justifyContent:"flex-start"},children:[(0,r.jsxs)("div",{className:"item-body-modal",style:{display:"flex",flexDirection:"column"},children:[(0,r.jsx)("span",{className:"text-modal",style:{color:"#fff"},children:"Status:"}),(0,r.jsx)("select",{style:{borderRadius:10},value:Es,onChange:e=>{As(e.target.value)},children:[{label:"Planejamento",value:"#fff000"},{label:"PRPO",value:"#00ffff"},{label:"OPFM",value:"#FC0FC0"}].map(((e,a)=>(0,r.jsx)("option",{value:e.value,children:e.label},a)))})]}),(0,r.jsxs)("div",{className:"item-body-modal",style:{display:"flex",flexDirection:"column"},children:[(0,r.jsx)("span",{className:"text-modal",style:{color:"#fff"},children:"Planejamento::"}),(0,r.jsx)(f,{value:js,onChange:ys})]}),(0,r.jsxs)("div",{className:"item-body-modal",children:[(0,r.jsx)("span",{className:"text-modal",style:{color:"#fff"},children:"Ofrag:"}),(0,r.jsx)(f,{style:{width:"100% !important"},value:ws,onChange:Ss})]}),(0,r.jsxs)("div",{className:"item-body-modal",children:[(0,r.jsx)("span",{className:"text-modal",style:{color:"#fff"},children:"Trip:"}),(0,r.jsx)(f,{value:bs,onChange:Ns})]}),(0,r.jsxs)("div",{className:"item-body-modal",children:[(0,r.jsx)("span",{className:"text-modal",style:{color:"#fff"},children:"OBS:"}),(0,r.jsx)(f,{value:Cs,onChange:Is})]}),(0,r.jsx)("div",{className:"modal-bottom",style:{marginTop:10},children:(0,r.jsx)("button",{onClick:async()=>{if(!js||""==js)return void alert("Digite o planejamento");let[e,a,s]=Ds.split("/"),t={data:s+"-"+a+"-"+e,id_aeronave:Ts,planejamento:js,ofrag:ws,trip:bs,obs:Cs,cor:Es};if(wa)var o=await et.editRascunho(_s,t);else o=await et.createRascunho(t);o.error?alert(o.error):(gs(!1),ys(""),Is(""),Ns(""),Ss(""),Ms(""),Sa(!1),alert(o.msg),location.reload())},className:"salvar",children:wa?"Editar":"Salvar"})})]})]}),zs&&(0,r.jsxs)("div",{className:"modal-aviao",style:{alignItems:"flex-start"},children:[(0,r.jsx)("span",{onClick:()=>{Hs(!1),Gs(""),Ms("")},className:"title-modal",style:{color:"#fff",cursor:"pointer"},children:"X"}),(0,r.jsxs)("div",{className:"modal-body",style:{alignItems:"flex-start",justifyContent:"flex-start"},children:[(0,r.jsxs)("div",{className:"item-body-modal",style:{display:"flex",flexDirection:"column"},children:[(0,r.jsx)("span",{className:"text-modal",style:{color:"#fff"},children:"Aeronave:"}),(0,r.jsx)("select",{style:{borderRadius:10,marginTop:5},value:Ys,onChange:e=>{Gs(e.target.value)},children:Ce.map(((e,a)=>(0,r.jsx)("option",{value:e.id,children:e.aeronave},a)))})]}),(0,r.jsx)("div",{className:"modal-bottom",style:{marginTop:10},children:(0,r.jsx)("button",{onClick:async()=>{for(const e of Us){let a={id_aeronave:Ys};await et.editRascunho(e.id,a)}Zs([]),Ps(!1),Gs(),alert("Aeronave trocada com sucesso"),location.reload()},className:"salvar",children:"Trocar Aeronave"})})]})]}),Qe&&(0,r.jsxs)("div",{className:"modal-aviao",children:[(0,r.jsxs)("div",{className:"modal-topo",children:[(0,r.jsx)("div",{className:"nome-aviao",children:(0,r.jsxs)("span",{className:"title-modal",style:{color:"#fff"},children:["FAB ",ta]})}),(0,r.jsx)("span",{onClick:()=>{We(!1)},className:"title-modal",style:{color:"#fff",cursor:"pointer"},children:"X"})]}),(0,r.jsxs)("div",{className:"modal-body",children:[(0,r.jsxs)("div",{className:"item-body-modal",children:[(0,r.jsx)("span",{className:"text-modal",style:{color:"#fff"},children:"Ciclos:"}),(0,r.jsx)(p,{value:$e,onChange:ea})]}),(0,r.jsxs)("div",{className:"item-body-modal",children:[(0,r.jsx)("span",{className:"text-modal",style:{color:"#fff"},children:"Horas:"}),(0,r.jsx)(v,{value:aa,onChange:sa})]}),(0,r.jsxs)("div",{className:"item-body-modal",children:[(0,r.jsx)("span",{className:"text-modal",style:{color:"#fff"},children:"Situa\xe7\xe3o:"}),(0,r.jsx)("select",{style:{borderRadius:10},value:ia,onChange:e=>{la(e.target.value)},children:["DI","DO","IN","IS","II"].map(((e,a)=>(0,r.jsx)("option",{value:e,children:e},a)))})]}),(0,r.jsx)("div",{className:"item-body-modal",children:(0,r.jsxs)("span",{className:"text-modal",style:{color:"#fff"},children:["Atualizado por: ",na]})}),(0,r.jsx)("div",{className:"item-body-modal",children:(0,r.jsxs)("span",{className:"text-modal",style:{color:"#fff"},children:["Em: ",ca," Z"]})})]}),(0,r.jsx)("div",{className:"modal-bottom",children:(0,r.jsx)("button",{onClick:async()=>{if(""==ia||""==aa)return void alert("Todos os campos s\xe3o obrigat\xf3rios");let e={situacao:ia,ciclos:$e,horas:aa},a=await et.updateAeronave(e,ma);a.error?alert(a.error):(ua(""),ea(""),sa(""),la(""),We(!1),alert(a.msg),location.reload())},className:"salvar",children:"Salvar"})})]})]})}}}]);
//# sourceMappingURL=320.e2f94f73.chunk.js.map