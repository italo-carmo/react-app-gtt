"use strict";(self.webpackChunkApp_GTT=self.webpackChunkApp_GTT||[]).push([[190],{72562:function(e,t,s){s.r(t),s.d(t,{default:function(){return w}});var n=s(74165),a=s(93433),r=s(15861),o=s(1413),i=s(29439),c=s(72791),l=s(78983),u=s(21933),d=s(59513),p=s.n(d),m=(s(68639),s(80184)),f=function(e){var t=e.maxLength,s=e.value,n=e.onChange,a=e.erro,r=e.onKeyPress;return(0,m.jsx)("input",{type:"text",value:s,onChange:function(e){var s=e.target.value.toUpperCase().replace(/[^A-Z]/g,"").substring(0,t);n(s)},maxLength:t,style:{border:a?"1px solid #ff0000":"1px solid #000"},onKeyPress:r})},v=function(e){var t=e.maxLength,s=e.value,n=e.onChange,a=e.erro,r=e.onKeyPress;return(0,m.jsx)("input",{type:"text",value:s,onChange:function(e){var s=e.target.value.toUpperCase().replace(/[^A-Z]/g,"").substring(0,t);n(s)},maxLength:t,style:{border:a?"1px solid #ff0000":"1px solid #000"},onKeyPress:r})},h=function(e){var t=e.value,s=e.onChange;return(0,m.jsx)("input",{type:"number",value:t,onChange:function(e){var t=e.target.value.toUpperCase().replace(/[^0-9]/g,"").substring(0,3);s(t)},maxLength:3,style:{border:"1px solid #000"}})},x=s(72426),g=s.n(x);s(73528);function j(e){var t=e.dep,s=e.pouso,n=e.horaDep,a=e.horaPouso,r=e.index,o=e.edit,i=e.del;return(0,m.jsxs)("div",{className:"view-etapa",children:[(0,m.jsxs)("div",{style:{color:"#000"},children:[r+1,"- ",n," ",t," - ",a," ",s]}),(0,m.jsxs)("div",{className:"botoes-etapa",children:[(0,m.jsx)("img",{src:"https://www.1gtt.com.br/app/pen.png",onClick:o,width:20,height:20}),(0,m.jsx)("img",{src:"https://www.1gtt.com.br/app/close.png",onClick:i,width:20,height:20})]})]})}var Z=s(5016);g().tz.setDefault("Etc/UTC");var w=function(){var e=(0,c.useState)([]),t=(0,i.Z)(e,2),s=t[0],d=t[1],x=(0,c.useState)([]),g=(0,i.Z)(x,2),w=g[0],y=g[1],b=(0,c.useState)([]),S=(0,i.Z)(b,2),C=S[0],N=S[1],k=(0,c.useState)(!1),I=(0,i.Z)(k,2),D=I[0],O=I[1],M=(0,c.useState)(!1),T=(0,i.Z)(M,2),L=T[0],E=T[1],A=(0,c.useState)(!1),P=(0,i.Z)(A,2),_=P[0],F=P[1],z=(0,c.useState)(!1),U=(0,i.Z)(z,2),H=U[0],K=U[1],Y=(0,c.useState)(!1),R=(0,i.Z)(Y,2),G=R[0],B=R[1],J=(0,c.useState)([]),V=(0,i.Z)(J,2),X=V[0],q=V[1],Q=(0,c.useState)(new Date),W=(0,i.Z)(Q,2),$=W[0],ee=W[1],te=(0,c.useState)(new Date),se=(0,i.Z)(te,2),ne=se[0],ae=(se[1],(0,c.useState)({avioes:[]})),re=(0,i.Z)(ae,2),oe=re[0],ie=re[1],ce=(0,c.useState)(""),le=(0,i.Z)(ce,2),ue=le[0],de=le[1],pe=(0,c.useState)(!1),me=(0,i.Z)(pe,2),fe=me[0],ve=me[1],he=(0,c.useState)(""),xe=(0,i.Z)(he,2),ge=xe[0],je=xe[1],Ze=(0,c.useState)(""),we=(0,i.Z)(Ze,2),ye=we[0],be=we[1],Se=(0,c.useState)(""),Ce=(0,i.Z)(Se,2),Ne=Ce[0],ke=Ce[1],Ie=(0,c.useState)(new Date),De=(0,i.Z)(Ie,2),Oe=De[0],Me=De[1],Te=(0,c.useState)(new Date),Le=(0,i.Z)(Te,2),Ee=Le[0],Ae=Le[1],Pe=(0,c.useState)(!1),_e=(0,i.Z)(Pe,2),Fe=_e[0],ze=_e[1],Ue=(0,c.useState)(!1),He=(0,i.Z)(Ue,2),Ke=He[0],Ye=He[1],Re=(0,c.useState)(!1),Ge=(0,i.Z)(Re,2),Be=Ge[0],Je=Ge[1],Ve=(0,c.useState)({aviao:"",eventos:[]}),Xe=(0,i.Z)(Ve,2),qe=Xe[0],Qe=Xe[1],We=(0,c.useState)([]),$e=(0,i.Z)(We,2),et=$e[0],tt=$e[1],st=(0,c.useState)(""),nt=(0,i.Z)(st,2),at=nt[0],rt=nt[1],ot=(0,c.useState)([]),it=(0,i.Z)(ot,2),ct=it[0],lt=it[1],ut=(0,c.useState)(!1),dt=(0,i.Z)(ut,2),pt=dt[0],mt=dt[1],ft=(0,c.useState)(!1),vt=(0,i.Z)(ft,2),ht=vt[0],xt=vt[1],gt=(0,c.useState)(""),jt=(0,i.Z)(gt,2),Zt=jt[0],wt=jt[1],yt=(0,c.useState)(""),bt=(0,i.Z)(yt,2),St=bt[0],Ct=bt[1],Nt=(0,c.useState)(""),kt=(0,i.Z)(Nt,2),It=kt[0],Dt=kt[1],Ot=(0,c.useState)(""),Mt=(0,i.Z)(Ot,2),Tt=Mt[0],Lt=Mt[1],Et=(0,u.Z)(),At=function(){O(!1)},Pt=function(){var e=(0,r.Z)((0,n.Z)().mark((function e(t){var r,o;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Je(!1),"Enter"!==t.key){e.next=8;break}return r=(0,a.Z)(s),e.next=5,Et.getTrigrama(St);case 5:o=e.sent,console.log(o),o.error?Je(o.error):(r.push({id:o.data.id_user,trigrama:o.data.trigrama,funcao:o.data.Usuario.FuncoesAbordo.nome}),d(r),Ct(""));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),_t=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];console.log("get dias");var s=new Date(e);s.setDate(s.getDate()-3);for(var n=[],a=0;a<=6;a++){if(0!=a)var r=s.setDate(s.getDate()+1);else r=s.setDate(s.getDate());var o=new Date(r),i=o.getDate(),c=o.getMonth()+1;i<=9&&(i="0"+i),c<=9&&(c="0"+c);var l=i+"/"+c+"/"+o.getFullYear();n.push(l)}q(n),Ft(n,t)},Ft=function(){var e=(0,r.Z)((0,n.Z)().mark((function e(t){var s,a,r,o,i,c,l=arguments;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=l.length>1&&void 0!==l[1]&&l[1],a=t[0],r=t[6],e.next=5,Et.getMissoesAvioes({inicio:a,fim:r});case 5:(o=e.sent).error||(i=o.data,s||qe.eventos.length>0&&(c=i.findIndex((function(e){return e.aviao==et})))>=0&&qe.eventos.forEach((function(e){i[c].eventos.push(e)})),ie({avioes:i}));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),zt=function(){var e=(0,r.Z)((0,n.Z)().mark((function e(){var t;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Et.getAeronaves();case 2:(t=e.sent).error||lt(t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ut=function(e,t){var s=new Date($);t?s.setDate(s.getDate()-e):s.setDate(s.getDate()+e),ee(s)},Ht=function(){var e=(0,r.Z)((0,n.Z)().mark((function e(){var t,s,a,r,o;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""==Oe||""==Ee||4!=ge.length||4!=ye.length){e.next=8;break}return ze(!1),Ye(!1),ke(""),e.next=6,Et.getDistanciaAerodromos({origem:ge,destino:ye});case 6:(t=e.sent).error?(o=t.error,ke(t.error),o.includes(ge)&&ze(!0),o.includes(ye)&&Ye(!0)):(s=t.data.distancia,a=Math.round(60*s/400),a=5*Math.ceil(a/5),(r=new Date(Oe)).setMinutes(r.getMinutes()+a),Ae(r));case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Kt=function(e,t){be("");var s=new Date(t);s.setMinutes(s.getMinutes()+120);var n=s.getTimezoneOffset();s.setMinutes(s.getMinutes()+n),Me(s),je(e),Ae(s)},Yt=function(){var e=(0,r.Z)((0,n.Z)().mark((function e(){var t,a,o,i;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(xt(!0),_){e.next=22;break}if(""!=et&&0!=qe.eventos.length){e.next=6;break}return alert("Todos os campos s\xe3o obrigat\xf3rios!"),xt(!1),e.abrupt("return");case 6:return e.next=8,Et.createMissao();case 8:if((t=e.sent).error){e.next=20;break}return a=t.data.id,qe.eventos.forEach(function(){var e=(0,r.Z)((0,n.Z)().mark((function e(s,r){var o,i,c;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Et.getAerodromo(s.missao.dep);case 2:return o=e.sent,e.next=5,Et.getAerodromo(s.missao.pouso);case 5:return i=e.sent,c={dep:s.missao.depISO,pouso:s.missao.pousoISO,id_missao:a,id_aeronave:at,id_dep:o.data.id,id_pouso:i.data.id},e.next=9,Et.createEtapa(c);case 9:if(!e.sent.error){e.next=15;break}return alert(t.etapa.error),e.abrupt("return");case 15:r==qe.eventos.length-1&&(ie({avioes:[]}),Jt(),_t($,!0),E(!1),xt(!1),console.log(qe),console.log(oe));case 16:case"end":return e.stop()}}),e)})));return function(t,s){return e.apply(this,arguments)}}()),o=[],s.forEach((function(e){o.push(e.id)})),i={id_missao:a,id_militares:o},e.next=17,Et.createEscala(i);case 17:xt(!1),e.next=22;break;case 20:xt(!1),alert(t.error);case 22:_t($);case 23:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Rt=function(){var e=(0,r.Z)((0,n.Z)().mark((function e(){var t,a,o,i,c,l,u,d,p;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return xt(!0),t=Zt,a=qe.eventos.map(function(){var e=(0,r.Z)((0,n.Z)().mark((function e(t){var s,a,r;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s={},e.next=3,Et.getAerodromo(t.missao.dep);case 3:return a=e.sent,e.next=6,Et.getAerodromo(t.missao.pouso);case 6:return r=e.sent,s.dep=t.missao.depISO,s.pouso=t.missao.pousoISO,s.id_aeronave=at,s.id_dep=a.data.id,s.id_pouso=r.data.id,t.missao.edicao?s.id=null:s.id=t.missao.id,e.abrupt("return",s);case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=5,Promise.all(a);case 5:return o=e.sent,i={etapas:o,id_missao:t},e.next=9,Et.updateEtapas(i);case 9:if(!(c=e.sent).error){e.next=16;break}return xt(!1),alert(c.error),e.abrupt("return");case 16:return l=[],s.forEach((function(e){l.push(e.id)})),u={id_missao:t,id_militares:l},e.next=21,Et.updateEscala(u);case 21:if(d={},""!=It&&(p=(new Date).getFullYear().toString().substring(2,4),d.numero=1e3*parseInt(p)+parseInt(It)),""!=Tt&&(d.comentarios=Tt),!d.omis&&!d.comentarios){e.next=27;break}return e.next=27,Et.updateMissao(d,t);case 27:Jt(),E(!1),_t($,!0);case 30:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Gt=function(){var e=(0,r.Z)((0,n.Z)().mark((function e(){var t,s;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(mt(!0),!window.confirm("Deseja mesmo excluir essa miss\xe3o?")){e.next=16;break}return t=qe.eventos[0].missao.id_missao,e.next=6,Et.deleteMissao(t);case 6:if(!(s=e.sent).error){e.next=11;break}return mt(!1),alert(s.error),e.abrupt("return");case 11:mt(!1),ie({avioes:[]}),Jt(),E(!1),_t($,!0);case 16:mt(!1);case 17:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Bt=function(e){var t=(0,a.Z)(s);t=t.filter((function(t){if(t.id!=e)return t})),d(t)},Jt=function(){Qe({aviao:"",eventos:[]});var e=(0,o.Z)({},oe),t=e.avioes.findIndex((function(e){return e.aviao==et}));t>=0&&(e.avioes[t].eventos=e.avioes[t].eventos.filter((function(e){if(!e.missao.edicao)return e}))),ie(e),be(""),je(""),Me(new Date),Ae(new Date),tt(""),Lt(""),Dt(""),F(!1),K(!1),_t($,!0)},Vt=function(){if(ke(""),""!=ye&&""!=ge&&""!=Oe&&""!=Ee)if(""!=et){var e=Oe.getTimezoneOffset();Oe.setMinutes(Oe.getMinutes()-e);var t=Ee.getTimezoneOffset();Ee.setMinutes(Ee.getMinutes()-t);var s=Oe.toISOString(),n=Ee.toISOString(),a=s.split("T"),r=(0,i.Z)(a,2),c=r[0],l=r[1],u=n.split("T"),d=(0,i.Z)(u,2),p=(d[0],d[1]),m=c.split("-"),f=(0,i.Z)(m,3),v=f[0],h=f[1],x=f[2],g=l.split(":"),j=(0,i.Z)(g,3),Z=j[0],w=j[1],y=(j[2],p.split(":")),b=(0,i.Z)(y,3),S=b[0],C=b[1],N=(b[2],(0,o.Z)({},qe)),k=(0,o.Z)({},oe),I=N.eventos[G],D={data:"".concat(x,"/").concat(h,"/").concat(v),tipo:"missao",missao:{id:I.missao.id,dep:ge,horaDep:"".concat(Z,":").concat(w,"Z"),pouso:ye,horaPouso:"".concat(S,":").concat(C,"Z"),depISO:Oe,pousoISO:Ee,tripulacao:[],omis:"",edicao:I.missao.edicao},manutencao:null};N.eventos[G]=D,Qe(N);var O=k.avioes.findIndex((function(e){return e.aviao==et}));if(O>=0){var M=k.avioes[O].eventos.findIndex((function(e){return e.missao.id==I.missao.id}));M>=0&&(k.avioes[O].eventos[M]=D,ie(k))}var T=N.eventos[N.eventos.length-1].missao.pouso,L=N.eventos[N.eventos.length-1].missao.pousoISO;K(!1),B(""),Kt(T,L)}else ke("A aeronave \xe9 obrigat\xf3ria");else ke("Todos os campos s\xe3o obrigat\xf3rios")},Xt=function(){var e=(0,r.Z)((0,n.Z)().mark((function e(){var t,s,a,r,c,l,u,d,p,m,f,v,h,x,g,j,Z,w,y,b,S,C,N,k,I,D,O,M;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(ke(""),""!=ye&&""!=ge&&""!=Oe&&""!=Ee){e.next=4;break}return ke("Todos os campos s\xe3o obrigat\xf3rios"),e.abrupt("return");case 4:if(""!=et){e.next=7;break}return ke("A aeronave \xe9 obrigat\xf3ria"),e.abrupt("return");case 7:t=Oe.getTimezoneOffset(),Oe.setMinutes(Oe.getMinutes()-t),s=Ee.getTimezoneOffset(),Ee.setMinutes(Ee.getMinutes()-s),a=Oe.toISOString(),r=Ee.toISOString(),c=a.split("T"),l=(0,i.Z)(c,2),u=l[0],d=l[1],p=r.split("T"),m=(0,i.Z)(p,2),m[0],f=m[1],v=u.split("-"),h=(0,i.Z)(v,3),x=h[0],g=h[1],j=h[2],Z=d.split(":"),w=(0,i.Z)(Z,3),y=w[0],b=w[1],w[2],S=f.split(":"),C=(0,i.Z)(S,3),N=C[0],k=C[1],C[2],I={data:"".concat(j,"/").concat(g,"/").concat(x),tipo:"missao",missao:{id:Math.floor(1e4*Math.random())+1,dep:ge,horaDep:"".concat(y,":").concat(b,"Z"),pouso:ye,horaPouso:"".concat(N,":").concat(k,"Z"),depISO:Oe,pousoISO:Ee,tripulacao:[],omis:"",edicao:!0},manutencao:null},(D=(0,o.Z)({},qe)).eventos.push(I),O=(0,o.Z)({},oe),(M=O.avioes.findIndex((function(e){return e.aviao==et})))>=0&&O.avioes[M].eventos.push(I),ie(O),Qe(D),Kt(ye,Ee);case 27:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();(0,c.useEffect)((function(){!function(){if(qe.eventos.length>0){var e=(0,o.Z)({},oe);e.avioes.forEach((function(t,s){if(t.eventos.length>0){var n=t.eventos.filter((function(e){if(qe.eventos.findIndex((function(t){return t.missao.id==e.missao.id}))<0)return e}));e.avioes[s].eventos=n}}));var t=e.avioes.findIndex((function(e){return e.aviao==et}));t>=0&&qe.eventos.forEach((function(s){e.avioes[t].eventos.push(s)})),ie(e)}}()}),[et]),(0,c.useEffect)((function(){Ht()}),[ye,ge,Oe]),(0,c.useEffect)((function(){_t($),zt()}),[$]);var qt=(0,c.forwardRef)((function(e,t){e.value;var s=e.onClick;return(0,m.jsx)("button",{className:"calendario",onClick:s,ref:t,children:$.toLocaleString("pt-BR",{month:"long"}).toUpperCase()+"/"+$.getFullYear()})})),Qt=function(e){e.value;var t=e.onClick;return(0,m.jsx)("button",{className:"calendario",onClick:t,children:"+"})};return(0,m.jsx)(m.Fragment,{children:(0,m.jsxs)(l.xH,{className:"mb-6",style:{flexDirection:"column"},children:[(0,m.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",padding:10},children:[(0,m.jsx)("div",{className:"",children:(0,m.jsx)(p(),{selected:$,timeInputLabel:$.toLocaleString("pt-BR",{month:"long"}).toUpperCase()+"/"+$.getFullYear(),onChange:function(e){return ee(e)},customInput:(0,m.jsx)(qt,{})})}),(0,m.jsxs)("div",{className:"botoes",children:[(0,m.jsx)("button",{className:"calendario",onClick:function(){return Ut(7,!0)},children:"<<"}),(0,m.jsx)("button",{className:"calendario",onClick:function(){return Ut(1,!0)},children:"<"}),(0,m.jsx)("button",{className:"calendario",onClick:function(){ee(ne)},children:"HOJE"}),(0,m.jsx)("button",{className:"calendario",onClick:function(){return Ut(1,!1)},children:">"}),(0,m.jsx)("button",{className:"calendario",onClick:function(){return Ut(7,!1)},children:">>"})]}),(0,m.jsx)("div",{children:(0,m.jsx)("button",{onClick:function(){mt(!1),xt(!1),F(!1),E(!0)},className:"criar",children:"Criar Miss\xe3o"})})]}),(0,m.jsxs)("div",{style:{display:"flex",flexDirection:"column",width:"100%"},children:[(0,m.jsxs)("div",{className:"topo",children:[(0,m.jsx)("div",{className:"missao",children:"Avi\xe3o"}),X.map((function(e,t){var s=ne.getDate(),n=ne.getMonth()+1;s<=9&&(s="0"+s),n<=9&&(n="0"+n);var a=s+"/"+n+"/"+ne.getFullYear();return(0,m.jsx)("div",{className:"missao",style:{backgroundColor:a==e?"#46a31d":"#000"},children:e})}))]}),(0,m.jsx)("div",{className:"missoes",children:oe.avioes.length>0&&oe.avioes.map((function(e){return(0,m.jsxs)("div",{className:"missao-item",children:[(0,m.jsx)("div",{className:"missao aviao",children:e.aviao}),X.map((function(t){return(0,m.jsx)("div",{className:"item-missao",children:e.eventos.length>0&&e.eventos.map((function(s){if(s.data==t)return(0,m.jsxs)("div",{onClick:function(){return function(e){mt(!1),xt(!1),F(!0),K(!1);var t=e.eventos[0].missao.id_missao;wt(t);var s=(0,o.Z)({},qe),n=[];e.eventos[0].missao.tripulacao.forEach((function(e){n.push(e)}));var a=e.eventos[0].comentarios;Lt(a);var r=e.eventos[0].missao.omis;Dt(r),d(n),s.eventos=e.eventos,Qe(s),E(!0),tt(e.aviao);var i=ct.findIndex((function(t){return t.aeronave==e.aviao}));i>=0&&rt(ct[i].id)}(e)},className:"missao-white white",onMouseEnter:function(){return function(e,t){N(e);var s=t.tripulacao.map((function(e){return e.trigrama}));y(s.join("/")),de(t),O(!0)}(s.missao.id,s.missao)},onMouseLeave:At,children:[D&&C==s.missao.id&&null!=s.missao.id&&(0,m.jsxs)("div",{style:{position:"absolute",top:"100%",left:"0",background:"#000",color:"#fff",padding:"10px",border:"1px solid black",zIndex:1},children:[(0,m.jsxs)("p",{style:{fontSize:"1vw"},children:["OMIS: ",ue.omis]}),(0,m.jsxs)("p",{style:{fontSize:"1vw"},children:["Tripula\xe7\xe3o: ",w]})]}),(0,m.jsxs)("div",{className:"text-missao",children:[s.missao.horaDep," ",s.missao.dep]}),(0,m.jsxs)("div",{className:"text-missao",children:[s.missao.horaPouso," ",s.missao.pouso," "]})]})}))})}))]})}))})]}),(0,m.jsxs)("div",{className:L?"modal-create-visible":"modal-create",children:[(0,m.jsx)("div",{style:{display:"flex",justifyContent:"flex-end",margin:10,cursor:"pointer"},children:(0,m.jsx)("div",{onClick:function(){window.confirm("Deseja mesmo sair? Todos os dados adicionados at\xe9 o momento ser\xe3o perdidos")&&(Jt(),E(!1))},style:{color:"#fff"},children:"X"})}),(0,m.jsx)("div",{className:"criar-div",children:(0,m.jsxs)("h3",{style:{color:"#fff"},children:[_?"Editar":"Criar"," Miss\xe3o"]})}),(0,m.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",marginTop:20,alignItems:"center"},children:[(0,m.jsx)("span",{style:{color:"#fff"},children:"N\xfamero da OMIS:"}),(0,m.jsxs)("div",{style:{color:"#fff"},children:[(0,m.jsx)(h,{value:It,onChange:Dt}),(0,m.jsx)("span",{style:{marginLeft:5},children:"/ "+(new Date).getFullYear().toString().substring(2,4)})]})]}),(0,m.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",marginTop:20,alignItems:"center"},children:[(0,m.jsx)("span",{style:{color:"#fff"},children:"Avi\xe3o:"}),ct.map((function(e){return(0,m.jsx)("button",{onClick:function(){tt(e.aeronave),rt(e.id);var t=(0,o.Z)({},qe);t.aviao=e.aeronave,Qe(t)},style:{backgroundColor:et==e.aeronave?"#28a745":"#FFF",color:et==e.aeronave?"#fff":"#000"},className:"botao-aviao",children:e.aeronave})}))]}),(0,m.jsxs)("div",{className:"add-etapa",children:[(0,m.jsx)("span",{style:{color:"#fff"},children:"Etapas:"}),(0,m.jsx)("img",{onClick:function(){if(!H&&fe&&ve(!1),!H&&!fe&&(ve(!0),qe.eventos.length>0)){var e=qe.eventos[qe.eventos.length-1].missao.pouso,t=qe.eventos[qe.eventos.length-1].missao.pousoISO;Kt(e,t)}H&&K(!1)},style:{cursor:"pointer"},src:"https://www.1gtt.com.br/app/add-white.png",width:20,height:20})]}),(fe||H)&&(0,m.jsxs)("div",{className:"form-area",children:[(0,m.jsxs)("div",{className:"form-add",children:[(0,m.jsx)("span",{style:{color:"#000"},children:"DEP: "}),(0,m.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[Oe.toLocaleString([],{year:"numeric",month:"2-digit",day:"2-digit",hour:"numeric",minute:"numeric"})+"Z",(0,m.jsx)("div",{className:"",style:{marginLeft:10},children:(0,m.jsx)(p(),{selected:Oe,timeInputLabel:Oe,onChange:function(e){Me(e)},customInput:(0,m.jsx)(Qt,{}),showTimeSelect:!0,timeFormat:"HH:mm",timeIntervals:10,dateFormat:"LLL",timeZone:"Etc/UTC",timeZoneData:[{value:"Etc/UTC",label:"Zulu (GMT 0)"}]})})]})]}),(0,m.jsxs)("div",{className:"form-add",children:[(0,m.jsx)("span",{style:{color:"#000"},children:"ICAO de Origem: "}),(0,m.jsx)(f,{erro:Fe,maxLength:4,value:ge,onChange:je})]}),(0,m.jsxs)("div",{className:"form-add",children:[(0,m.jsx)("span",{style:{color:"#000"},children:"ICAO de Destino: "}),(0,m.jsx)(f,{onKeyPress:function(e){"Enter"===e.key&&(H?Vt():Xt())},erro:Ke,maxLength:4,value:ye,onChange:be})]}),(0,m.jsxs)("div",{className:"form-add",children:[(0,m.jsx)("span",{style:{color:"#000"},children:"Pouso: "}),(0,m.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[Ee.toLocaleString([],{year:"numeric",month:"2-digit",day:"2-digit",hour:"numeric",minute:"numeric"})+"Z",(0,m.jsx)("div",{className:"",style:{marginLeft:10},children:(0,m.jsx)(p(),{selected:Ee,timeInputLabel:Ee,onChange:function(e){Ae(e)},customInput:(0,m.jsx)(Qt,{}),showTimeSelect:!0,timeFormat:"HH:mm",timeIntervals:10,dateFormat:"LLL"})})]})]}),(0,m.jsxs)("div",{className:"botoes-add-etapa",children:[(0,m.jsx)("button",{onClick:function(){je(""),be(""),Me(""),Ae(""),ve(!1),K(!1)},className:"cancelar",children:"Cancelar"}),(0,m.jsx)("button",{className:"adicionar",onClick:H?Vt:Xt,children:H?"Editar":"Adicionar"})]}),""!=Ne&&(0,m.jsx)("div",{style:{marginTop:10},class:"alert alert-danger",role:"alert",children:Ne})]}),qe.eventos.map((function(e,t){return(0,m.jsx)(j,{edit:function(){B(t),K(!0),function(e){var t=(0,o.Z)({},qe).eventos[e];je(t.missao.dep),be(t.missao.pouso),"string"==typeof t.missao.depISO&&(t.missao.depISO=new Date(t.missao.depISO)),"string"==typeof t.missao.pousoISO&&(t.missao.pousoISO=new Date(t.missao.pousoISO));var s=t.missao.depISO.getTimezoneOffset();t.missao.depISO.setMinutes(t.missao.depISO.getMinutes()+s);var n=t.missao.pousoISO.getTimezoneOffset();t.missao.pousoISO.setMinutes(t.missao.pousoISO.getMinutes()+n),Me(t.missao.depISO),Ae(t.missao.pousoISO)}(t)},del:function(){var e=(0,o.Z)({},qe),s=e.eventos.filter((function(e,s){if(s!=t)return e}));e.eventos=s,Qe(e)},index:t,dep:e.missao.dep,pouso:e.missao.pouso,horaDep:e.missao.horaDep,horaPouso:e.missao.horaPouso})})),(0,m.jsxs)("div",{className:"add-trip",children:[(0,m.jsx)("span",{style:{color:"#fff"},children:"Tripula\xe7\xe3o:"}),(0,m.jsx)(v,{maxLength:3,value:St,onChange:Ct,onKeyPress:Pt}),Be&&(0,m.jsx)("div",{style:{marginTop:10},class:"alert alert-danger",role:"alert",children:Be}),(0,m.jsx)("div",{className:"tripulante-row",children:(0,m.jsx)("span",{style:{color:"#fff"},className:"tripulante",children:"Pilotos:"})}),(0,m.jsx)("div",{className:"caixa-tripulante",children:s.map((function(e){if("Piloto"==e.funcao)return(0,m.jsxs)("div",{className:"tripulante-item",children:[e.trigrama,(0,m.jsx)("img",{style:{marginLeft:5,cursor:"pointer"},onClick:function(){return Bt(e.id)},src:"https://www.1gtt.com.br/app/close.png",width:"15px"})]})}))}),(0,m.jsx)("div",{className:"tripulante-row",children:(0,m.jsx)("span",{style:{color:"#fff"},className:"tripulante",children:"Mec\xe2nicos:"})}),(0,m.jsx)("div",{className:"caixa-tripulante",children:s.map((function(e){if("Mec\xe2nico de Voo"==e.funcao)return(0,m.jsxs)("div",{className:"tripulante-item",children:[e.trigrama,(0,m.jsx)("img",{style:{marginLeft:5,cursor:"pointer"},onClick:function(){return Bt(e.id)},src:"https://www.1gtt.com.br/app/close.png",width:"15px"})]})}))}),(0,m.jsx)("div",{className:"tripulante-row",children:(0,m.jsx)("span",{style:{color:"#fff"},className:"tripulante",children:"Loadmasters:"})}),(0,m.jsx)("div",{className:"caixa-tripulante",children:s.map((function(e){if("Loadmaster"==e.funcao)return(0,m.jsxs)("div",{className:"tripulante-item",children:[e.trigrama,(0,m.jsx)("img",{style:{marginLeft:5,cursor:"pointer"},onClick:function(){return Bt(e.id)},src:"https://www.1gtt.com.br/app/close.png",width:"15px"})]})}))}),(0,m.jsx)("div",{className:"tripulante-row",children:(0,m.jsx)("span",{style:{color:"#fff"},className:"tripulante",children:"Comiss\xe1rios:"})}),(0,m.jsx)("div",{className:"caixa-tripulante",children:s.map((function(e){if("Comiss\xe1rio"==e.funcao)return(0,m.jsxs)("div",{className:"tripulante-item",children:[e.trigrama,(0,m.jsx)("img",{style:{marginLeft:5,cursor:"pointer"},onClick:function(){return Bt(e.id)},src:"https://www.1gtt.com.br/app/close.png",width:"15px"})]})}))}),(0,m.jsx)("div",{className:"tripulante-row",children:(0,m.jsx)("span",{style:{color:"#fff"},className:"tripulante",children:"OE-3:"})}),(0,m.jsx)("div",{className:"caixa-tripulante",children:s.map((function(e){if("O3"==e.funcao)return(0,m.jsxs)("div",{className:"tripulante-item",children:[e.trigrama,(0,m.jsx)("img",{style:{marginLeft:5,cursor:"pointer"},onClick:function(){return Bt(e.id)},src:"https://www.1gtt.com.br/app/close.png",width:"15px"})]})}))})]}),(0,m.jsxs)("div",{style:{marginTop:30,display:"flex",flexDirection:"column"},children:[(0,m.jsx)("span",{style:{color:"#fff"},children:"Coment\xe1rios: "}),(0,m.jsx)("textarea",{value:Tt,onChange:function(e){return Lt(e.target.value)},style:{borderRadius:10,padding:5}})]}),(0,m.jsxs)("div",{className:"botoes-add-etapa",style:{marginTop:30},children:[(0,m.jsx)("button",{className:"cancelar",style:{fontSize:"1vw"},onClick:Jt,children:"Limpar"}),ht?(0,m.jsx)(Z.Z,{}):(0,m.jsx)("button",{className:"adicionar",style:{fontSize:"1vw"},onClick:_?Rt:Yt,children:_?"Editar Miss\xe3o":"Criar Miss\xe3o"})]}),(0,m.jsxs)("div",{className:"botoes-add-etapa",style:{marginTop:30,justifyContent:"center"},children:[pt&&(0,m.jsx)(Z.Z,{}),_?(0,m.jsx)("button",{className:"cancelar",style:{fontSize:"1.3vw"},onClick:Gt,children:"Excluir Miss\xe3o"}):(0,m.jsx)(m.Fragment,{})]})]})]})})}}}]);
//# sourceMappingURL=190.3d8f7ace.chunk.js.map