"use strict";(self.webpackChunkApp_GTT=self.webpackChunkApp_GTT||[]).push([[188],{64188:(e,a,s)=>{s.r(a),s.d(a,{default:()=>N});var t=s(69060),i=s(3084),o=s(36856),r=s(78620),l=s.n(r),n=(s(94412),s(2064)),c=s(54396),d=s(82496);const m=e=>{let{value:a,onChange:s,disabled:t}=e;return(0,d.jsx)("input",{type:"number",value:a,onChange:e=>{const a=e.target.value.toUpperCase().replace(/[^0-9]/g,"").substring(0,6);s(a)},maxLength:6,disabled:t,style:{border:"1px solid #000",backgroundColor:"#fff"}})},u=e=>{let{value:a,onChange:s}=e;return(0,d.jsx)("input",{type:"number",value:a,onChange:e=>{const a=e.target.value.toUpperCase().replace(/[^0-9]/g,"").substring(0,5);s(a)},maxLength:5,style:{border:"1px solid #000"}})},p=e=>{let{value:a,onChange:s}=e;return(0,d.jsx)("input",{type:"number",value:a,onChange:e=>{const a=e.target.value.toUpperCase().replace(/[^0-9]/g,"").substring(0,5);s(a)},maxLength:5,style:{border:"1px solid #000",width:80}})},h=e=>{let{value:a,onChange:s}=e;return(0,d.jsx)("input",{type:"text",value:a,onChange:e=>{const a=e.target.value;s(a)},maxLength:7,style:{border:"1px solid #000",width:80}})},v=e=>{let{value:a,onChange:s}=e;return(0,d.jsx)("input",{type:"text",value:a,onChange:e=>{const a=e.target.value;s(a)},maxLength:255,style:{border:"1px solid #000"}})},f=e=>{let{value:a,onChange:s}=e;return(0,d.jsx)("input",{value:a,onChange:e=>{console.log("text");const a=e.target.value;s(a)},style:{border:"1px solid #000",width:"100%"}})};var x=s(26292);var g=s(73380),j=s.n(g);s(90080);function y(e){let{dep:a,data:s,pouso:t,alternativa:i,horaDep:o,horaPouso:r,index:l,edit:n,del:c}=e;var m=!1;return a&&t&&i&&o&&r&&""!=a&&""!=t&&""!=i&&""!=o&&""!=r&&(m=!0),(0,d.jsxs)("div",{className:m?"view-etapa complete":"view-etapa",children:[(0,d.jsxs)("div",{className:m?"complete-text":"",style:{color:"#000"},children:[l+1,"- ",s," - ",o," ",a," - ",r," ",t]}),(0,d.jsxs)("div",{className:"botoes-etapa",children:[(0,d.jsx)("img",{src:m?"https://www.1gtt.com.br/app/pen-white.png":"https://www.1gtt.com.br/app/pen.png",onClick:n,width:20,height:20}),(0,d.jsx)("img",{src:m?"https://www.1gtt.com.br/app/close-white.png":"https://www.1gtt.com.br/app/close.png",onClick:c,width:20,height:20})]})]})}var w=s(30260);j().tz.setDefault("Etc/UTC");const N=()=>{const[e,a]=(0,t.useState)([]),[s,r]=(0,t.useState)([]),[g,N]=(0,t.useState)([]),[b,S]=(0,t.useState)(!1),[C,I]=(0,t.useState)(!1),[D,T]=(0,t.useState)(!1),[O,k]=(0,t.useState)(!1),[M,E]=(0,t.useState)(!1),[L,_]=(0,t.useState)(!1),[A,F]=(0,t.useState)([]),[R,P]=(0,t.useState)(new Date),[Z,U]=(0,t.useState)(new Date),[z,H]=(0,t.useState)({avioes:[]}),[Y,G]=(0,t.useState)(""),[B,X]=(0,t.useState)(!1),[V,K]=(0,t.useState)(""),[J,q]=(0,t.useState)(""),[Q,W]=(0,t.useState)(""),[$,ee]=(0,t.useState)(""),[ae,se]=(0,t.useState)(new Date),[te,ie]=(0,t.useState)(new Date),[oe,re]=(0,t.useState)(!1),[le,ne]=(0,t.useState)(!1),[ce,de]=(0,t.useState)(!1),[me,ue]=(0,t.useState)(""),[pe,he]=(0,t.useState)(!1),[ve,fe]=(0,t.useState)(!1),[xe,ge]=(0,t.useState)({aviao:"",eventos:[]}),[je,ye]=(0,t.useState)([]),[we,Ne]=(0,t.useState)(""),[be,Se]=(0,t.useState)(""),[Ce,Ie]=(0,t.useState)([]),[De,Te]=(0,t.useState)(!1),[Oe,ke]=(0,t.useState)(!1),[Me,Ee]=(0,t.useState)(!1),[Le,_e]=(0,t.useState)(""),[Ae,Fe]=(0,t.useState)(""),[Re,Pe]=(0,t.useState)(""),[Ze,Ue]=(0,t.useState)(""),[ze,He]=(0,t.useState)(""),[Ye,Ge]=(0,t.useState)(""),[Be,Xe]=(0,t.useState)([]),[Ve,Ke]=(0,t.useState)(0),[Je,qe]=(0,t.useState)(!0),[Qe,We]=(0,t.useState)(!1),[$e,ea]=(0,t.useState)(""),[aa,sa]=(0,t.useState)(""),[ta,ia]=(0,t.useState)(""),[oa,ra]=(0,t.useState)(""),[la,na]=(0,t.useState)(""),[ca,da]=(0,t.useState)(""),[ma,ua]=(0,t.useState)(""),[pa,ha]=(0,t.useState)([]),[va,fa]=(0,t.useState)(!1),[xa,ga]=(0,t.useState)(""),[ja,ya]=(0,t.useState)(!1),[wa,Na]=(0,t.useState)(!1),[ba,Sa]=(0,t.useState)(!1),[Ca,Ia]=(0,t.useState)(!1),[Da,Ta]=(0,t.useState)(""),[Oa,ka]=(0,t.useState)(""),[Ma,Ea]=(0,t.useState)(""),[La,_a]=(0,t.useState)(new Date),[Aa,Fa]=(0,t.useState)(new Date),[Ra,Pa]=(0,t.useState)(""),[Za,Ua]=(0,t.useState)([]),[za,Ha]=(0,t.useState)(!1),[Ya,Ga]=(0,t.useState)(!1),[Ba,Xa]=(0,t.useState)(""),[Va,Ka]=(0,t.useState)(""),[Ja,qa]=(0,t.useState)(new Date),[Qa,Wa]=(0,t.useState)(new Date),[$a,es]=(0,t.useState)(""),[as,ss]=(0,t.useState)(""),[ts,is]=(0,t.useState)(""),[os,rs]=(0,t.useState)(""),[ls,ns]=(0,t.useState)([]),[cs,ds]=(0,t.useState)(new Date),[ms,us]=(0,t.useState)(!1),[ps,hs]=(0,t.useState)(""),[vs,fs]=(0,t.useState)([]),[xs,gs]=(0,t.useState)(!1),[js,ys]=(0,t.useState)(""),[ws,Ns]=(0,t.useState)(""),[bs,Ss]=(0,t.useState)(""),[Cs,Is]=(0,t.useState)(""),[Ds,Ts]=(0,t.useState)(""),[Os,ks]=(0,t.useState)(""),[Ms,Es]=(0,t.useState)("#ccc"),[Ls,_s]=(0,t.useState)("#fff000"),[As,Fs]=(0,t.useState)(""),[Rs,Ps]=(0,t.useState)(!1),[Zs,Us]=(0,t.useState)([]),[zs,Hs]=(0,t.useState)(!1),[Ys,Gs]=(0,t.useState)(""),[Bs,Xs]=(0,t.useState)(""),[Vs,Ks]=(0,t.useState)(!1),[Js,qs]=(0,t.useState)(new Date),[Qs,Ws]=(0,t.useState)(new Date),[$s,et]=(0,t.useState)(!1),[at,st]=(0,t.useState)(!1),[tt,it]=(0,t.useState)(""),[ot,rt]=(0,t.useState)(""),[lt,nt]=(0,t.useState)(""),[ct,dt]=(0,t.useState)(""),[mt,ut]=(0,t.useState)([]),[pt,ht]=(0,t.useState)(null),vt=(0,t.useRef)(null),ft=(0,t.useRef)(null),xt=(0,t.useRef)(null),gt=(0,o.c)(),jt=()=>{S(!1)},yt=()=>{Ks(!1)},wt=()=>{S(!1)},Nt=e=>{"Enter"===e.key&&(M?Zt():bt())},bt=async()=>{await Ut()&&setTimeout((()=>{const e=document.getElementById("icao-pouso");e&&e.focus()}),0)},St=async s=>{if(fe(!1),"Enter"===s.key){let s=[...e],t=await gt.getTrigrama(Ae);t.error?fe(t.error):(s.push({id:t.data.id_user,trigrama:t.data.trigrama,funcao:t.data.Usuario.FuncoesAbordo.nome}),a(s),Fe(""))}},Ct=function(e){let a=arguments.length>1&&void 0!==arguments[1]&&arguments[1],s=new Date(e);s.setDate(s.getDate()-1);let t=[];for(var i=0;i<=6;i++){if(0!=i)var o=s.setDate(s.getDate()+1);else o=s.setDate(s.getDate());let e=new Date(o),a=e.getDate(),r=e.getMonth()+1;a<=9&&(a="0"+a),r<=9&&(r="0"+r);let l=a+"/"+r+"/"+e.getFullYear();t.push(l)}F(t),Mt(t,a),Tt(t),Ot(t),Dt(t),kt(t),It(t)},It=async e=>{let a=e[0],s=e[6],t=await gt.getRascunhos({inicio:a,fim:s});t.error||fs(t.data)},Dt=async e=>{let a=e[0],s=e[6],t=await gt.getObservacoesData({inicio:a,fim:s});t.error||ha(t.data)},Tt=async e=>{let a=e[0],s=e[6],t=await gt.getSobreavisos({inicio:a,fim:s});t.error||ns(t.data)},Ot=async e=>{let a=e[0],s=e[6],t=await gt.getExerciciosData({inicio:a,fim:s});t.error||ut(t.data)},kt=async e=>{let a=e[0],s=e[6],t=await gt.getManutencoesAvioes({inicio:a,fim:s});t.error||Ua(t.data)},Mt=async function(e){let a=arguments.length>1&&void 0!==arguments[1]&&arguments[1],s=e[0],t=e[6],i=await gt.getMissoesAvioes({inicio:s,fim:t});if(!i.error){let e=i.data;if(!a&&xe.eventos.length>0){let a=e.findIndex((e=>e.aviao==je));a>=0&&xe.eventos.forEach((s=>{e[a].eventos.push(s)}))}H({avioes:e})}},Et=(e,a)=>{let s=new Date(R);a?s.setDate(s.getDate()-e):s.setDate(s.getDate()+e),P(s)},Lt=async()=>{if(""!=ae&&""!=te&&4==V.length&&4==J.length){re(!1),ne(!1),de(!1),ee("");let e=await gt.getDistanciaAerodromos({origem:V,destino:J});if(e.error){let a=e.error;ee(e.error),a.includes(V)&&re(!0),a.includes(J)&&ne(!0)}else{let a=e.data.distancia,s=Math.round(60*a/400);s=5*Math.ceil(s/5);let t=new Date(ae);t.setMinutes(t.getMinutes()+s),ie(t)}}},_t=(e,a)=>{q(""),W(""),Ke(0);let s=new Date(a);s.setMinutes(s.getMinutes()+120);var t=s.getTimezoneOffset();s.setMinutes(s.getMinutes()+t),se(s),K(e),ie(s),ft.current&&vt.current.focus()},At=s=>{let t=[...e];t=t.filter((e=>{if(e.id!=s)return e})),a(t)},Ft=()=>{ge({aviao:"",eventos:[]});let e={...z};H(e),q(""),K(""),W(""),se(new Date),ie(new Date),ye(""),Ue(""),He(""),Ea(""),Pe(""),Ge(""),k(!1),E(!1),a([]),Ke(0),Ct(R,!0)},Rt=()=>{a([]),ds(new Date)},Pt=()=>{a([]),qs(new Date),Ws(new Date),it(""),rt(""),nt("")},Zt=async()=>{if(ee(""),""==J||""==V||""==Q||""==ae||""==te)return void ee("Todos os campos s\xe3o obrigat\xf3rios");if(""==je)return void ee("A aeronave \xe9 obrigat\xf3ria");let e=await gt.getAerodromo(Q);if(e.error)return ee(e.error),void de(!0);de(!1);var a=ae.getTimezoneOffset();ae.setMinutes(ae.getMinutes()-a);var s=te.getTimezoneOffset();te.setMinutes(te.getMinutes()-s);let t=ae.toISOString(),i=te.toISOString(),[o,r]=t.split("T"),[l,n]=i.split("T"),[c,d,m]=o.split("-"),[u,p,h]=r.split(":"),[v,f,x]=n.split(":"),g={...xe},j={...z},y=g.eventos[L],w={data:"".concat(m,"/").concat(d,"/").concat(c),tipo:"missao",missao:{id:y.missao.id,dep:V,horaDep:"".concat(u,":").concat(p,"Z"),pouso:J,horaPouso:"".concat(v,":").concat(f,"Z"),alternativa:Q,depISO:ae,pousoISO:te,tripulacao:[],omis:"",combustivel_minimo:Ve,edicao:y.missao.edicao},manutencao:null};g.eventos[L]=w,g.eventos.sort(((e,a)=>new Date(e.missao.depISO)-new Date(a.missao.depISO))),ge(g);var N=j.avioes.findIndex((e=>e.aviao==je));if(N>=0){let e=j.avioes[N].eventos.findIndex((e=>e.missao.id==y.missao.id));e>=0&&(j.avioes[N].eventos[e]=w,j.avioes[N].eventos.sort(((e,a)=>new Date(e.missao.depISO)-new Date(a.missao.depISO))),H(j))}let b=g.eventos[g.eventos.length-1].missao.pouso,S=g.eventos[g.eventos.length-1].missao.pousoISO;E(!1),_(""),_t(b,S)},Ut=async()=>{if(ee(""),""==J||""==V||""==Q||""==ae||""==te)return void ee("Todos os campos s\xe3o obrigat\xf3rios");if(""==je)return void ee("A aeronave \xe9 obrigat\xf3ria");let e=await gt.getAerodromo(Q);if(e.error)return ee(e.error),de(!0),null;de(!1),ne(!1);var a=ae.getTimezoneOffset();ae.setMinutes(ae.getMinutes()-a);var s=te.getTimezoneOffset();te.setMinutes(te.getMinutes()-s);let t=ae.toISOString(),i=te.toISOString(),[o,r]=t.split("T"),[l,n]=i.split("T"),[c,d,m]=o.split("-"),[u,p,h]=r.split(":"),[v,f,x]=n.split(":"),g={data:"".concat(m,"/").concat(d,"/").concat(c),tipo:"missao",missao:{id:Math.floor(1e4*Math.random())+1,dep:V,horaDep:"".concat(u,":").concat(p,"Z"),pouso:J,horaPouso:"".concat(v,":").concat(f,"Z"),alternativa:Q,depISO:ae,pousoISO:te,tripulacao:[],omis:"",combustivel_minimo:Ve,edicao:!0},manutencao:null},j={...xe};j.eventos.push(g);let y={...z};var w=y.avioes.findIndex((e=>e.aviao==je));return w>=0&&(y.avioes[w].eventos.push(g),y.avioes[w].eventos.sort(((e,a)=>new Date(e.missao.depISO)-new Date(a.missao.depISO)))),j.eventos.sort(((e,a)=>new Date(e.missao.depISO)-new Date(a.missao.depISO))),H(y),ge(j),_t(J,te),!0},zt=async()=>{let e=ct,a=await gt.deleteExercicio(e);a.error?alert(a.error):(qs(new Date),Ws(new Date),st(!1),et(!1),it(""),rt(""),nt(""),alert(a.msg),location.reload())},Ht=(e,a)=>{a(e.target.value)},Yt=async()=>{let e=ps,a=await gt.deleteSobreaviso(e);a.error?alert(a.error):(se(new Date),Ia(!1),us(!1),alert(a.msg),location.reload())},Gt=async()=>{let e=Ra,a=await gt.deleteObservacao(e);a.error?alert(a.error):(Ta(""),ka(""),_a(new Date),Fa(new Date),Sa(!1),ya(!1),alert(a.msg),location.reload())},Bt=async()=>{let e=as,a=await gt.deleteManutencao(e);a.error?alert(a.error):(Xa(""),Ka(""),qa(new Date),Wa(new Date),Ga(!1),Ha(!1),alert(a.msg),location.reload())},Xt=()=>{ht(setTimeout(Kt,1e3))},Vt=()=>{pt&&clearTimeout(pt)},Kt=()=>{Ps(!0)},Jt=e=>{let a=[...Zs];a.findIndex((a=>a.id==e.id))>-1?a=a.filter((a=>a.id!=e.id)):a.push(e),Us(a)},qt=async()=>{for(const e of Zs){await gt.excluirRascunho(e.id)}Us([]),Ps(!1),alert("Itens excluidos com sucesso"),location.reload()},Qt=async(e,a)=>{let s={...z};await gt.ocultarAnv(a.id,{oculta:!s.avioes[e].oculta});s.avioes[e].oculta=!s.avioes[e].oculta,H(s)},Wt=async()=>{for(const[e,a]of Zs.entries())if(0!=e){let e={ofrag:Zs[0].ofrag,trip:Zs[0].trip,obs:Zs[0].obs,cor:Zs[0].cor};await gt.editRascunho(a.id,e)}Us([]),Ps(!1),alert("Itens mesclados com sucesso"),location.reload()};(0,t.useEffect)((()=>{(()=>{if(xe.eventos.length>0){let e={...z};e.avioes.forEach(((a,s)=>{if(a.eventos.length>0){let t=a.eventos.filter((e=>{if(xe.eventos.findIndex((a=>a.missao.id==e.missao.id))<0)return e}));e.avioes[s].eventos=t}}));let a=e.avioes.findIndex((e=>e.aviao==je));a>=0&&xe.eventos.forEach((s=>{e.avioes[a].eventos.push(s)})),H(e)}})()}),[je]),(0,t.useEffect)((()=>{Lt()}),[J,V,ae]),(0,t.useEffect)((()=>{(async(e,a,s)=>{if(""!=e&&""!=a&&""!=s&&4==e.length&&4==a.length&&4==s.length){let t=await gt.getCombMinimo({dep:e,pouso:a,alternativa:s});t.error||(parseInt(t.data.combustivel)<1e4?Ke(1e4):Ke(t.data.combustivel))}})(V,J,Q)}),[J,V,Q]),(0,t.useEffect)((()=>{(async()=>{let e=await gt.getAeronaves();e.error||Ie(e.data)})(),(async()=>{let e=await gt.getOfrags();e.error||Xe(e.data.reverse())})()}),[]),(0,t.useEffect)((()=>{Ct(R)}),[R]);const $t=(0,t.forwardRef)(((e,a)=>{let{value:s,onClick:t}=e;return(0,d.jsx)("button",{className:"calendario",onClick:t,ref:a,children:R.toLocaleString("pt-BR",{month:"long"}).toUpperCase()+"/"+R.getFullYear()})})),ei=e=>{let{value:a,onClick:s}=e;return(0,d.jsx)("button",{className:"calendario",onClick:s,children:"+"})},ai=e=>{let{value:a,onClick:s}=e;return(0,d.jsx)("button",{style:{backgroundColor:"#fff",color:"#000"},className:"calendario",onClick:s,children:"+"})};return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)(i.u0,{className:"mb-6",style:{flexDirection:"column"},children:[(0,d.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",padding:10},children:[(0,d.jsx)("div",{className:"",children:(0,d.jsx)(l(),{selected:R,timeInputLabel:R.toLocaleString("pt-BR",{month:"long"}).toUpperCase()+"/"+R.getFullYear(),onChange:e=>P(e),customInput:(0,d.jsx)($t,{})})}),(0,d.jsxs)("div",{className:"botoes",children:[(0,d.jsx)("button",{className:"calendario",onClick:()=>Et(7,!0),children:"<<"}),(0,d.jsx)("button",{className:"calendario",onClick:()=>Et(1,!0),children:"<"}),(0,d.jsx)("button",{className:"calendario",onClick:()=>{P(Z)},children:"HOJE"}),(0,d.jsx)("button",{className:"calendario",onClick:()=>Et(1,!1),children:">"}),(0,d.jsx)("button",{className:"calendario",onClick:()=>Et(7,!1),children:">>"})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("button",{onClick:async()=>{Te(!1),ke(!1),k(!1),I(!0);let e=await gt.getUltimaMissao();e.error||Pe((parseInt(e.data[0].numero)+1).toString())},className:"calendario",children:"Miss\xe3o"}),(0,d.jsx)("button",{onClick:()=>{qs(new Date),Ws(new Date),a([]),et(!1),st(!0)},className:"calendario",children:"Exerc\xedcio"}),(0,d.jsx)("button",{onClick:()=>{ds(new Date),a([]),us(!1),Ia(!0)},className:"calendario",children:"Sobreaviso"}),(0,d.jsx)("button",{onClick:async()=>{Ta(""),ka("");var e=new Date;e.setHours(0,0,0,0),_a(e),Fa(e),ya(!1),Sa(!0)},className:"calendario",children:"OBS"}),(0,d.jsx)("button",{onClick:async()=>{Xa(""),Ka("");var e=new Date;qa(e),Wa(e),Ha(!1),Ga(!0)},className:"calendario",children:"Manuten\xe7\xe3o"})]})]}),(0,d.jsx)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",padding:10},children:Rs&&(0,d.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center"},children:[(0,d.jsx)("img",{onClick:async()=>{if(Zs.length<1)alert("Selecione ao menos 1 item para avan\xe7ar!");else{for(const e of Zs){const a=j()(e.data,"YYYY-MM-DD").subtract(1,"days").format("YYYY-MM-DD");await gt.editRascunho(e.id,{data:a})}Us([]),Ps(!1),location.reload()}},style:{marginRight:10,cursor:"pointer"},width:"50px",src:"https://www.1gtt.com.br/fast-backward.png"}),(0,d.jsx)("button",{onClick:()=>{Us([]),Ps(!1)},style:{marginRight:5},className:"calendario vermelho",children:"Limpar Sele\xe7\xe3o"}),(0,d.jsx)("button",{onClick:()=>{Zs.length<1?alert("Selecione ao menos de 1 item para trocar a Aeronave!"):Hs(!0)},style:{marginRight:5},className:"calendario",children:"Trocar Aeronave"}),(0,d.jsx)("button",{onClick:()=>{if(Zs.length<2)return void alert("Selecione ao menos dois itens para mesclar!");window.confirm("Deseja mesmo mesclar os itens selecionados?")&&Wt()},style:{marginRight:5},className:"calendario verde",children:"Mesclar"}),(0,d.jsx)("button",{onClick:()=>{if(Zs.length<1)return void alert("Selecione ao menos 1 item para excluir!");window.confirm("Deseja mesmo excluir os itens selecionados?")&&qt()},style:{marginRight:5},className:"calendario vermelho",children:"Excluir Itens"}),(0,d.jsx)("img",{onClick:async()=>{if(Zs.length<1)alert("Selecione ao menos 1 item para avan\xe7ar!");else{for(const e of Zs){const a=j()(e.data,"YYYY-MM-DD").add(1,"days").format("YYYY-MM-DD");await gt.editRascunho(e.id,{data:a})}Us([]),Ps(!1),location.reload()}},style:{marginLeft:10,cursor:"pointer"},width:"50px",src:"https://www.1gtt.com.br/fast-forward.png"})]})}),(0,d.jsxs)("div",{style:{display:"flex",flexDirection:"column",width:"100%"},children:[(0,d.jsxs)("div",{className:"topo",children:[(0,d.jsx)("div",{className:"missao",children:"Avi\xe3o"}),A.map(((e,a)=>{var s=Z.getDate();let t=Z.getMonth()+1;s<=9&&(s="0"+s),t<=9&&(t="0"+t);let i=s+"/"+t+"/"+Z.getFullYear();const o=e.split("/"),r=["DOM","SEG","TER","QUA","QUI","SEX","S\xc1B"][new Date(o[2],o[1]-1,o[0]).getUTCDay()];return(0,d.jsxs)("div",{className:"missao data",style:{backgroundColor:i==e?"#46a31d":"#000"},children:[(0,d.jsx)("span",{children:e})," ",(0,d.jsx)("span",{children:r})]})}))]}),(0,d.jsxs)("div",{className:"missoes",children:[(0,d.jsxs)("div",{className:"missao-item",children:[(0,d.jsx)("div",{className:"missao aviao",children:"OBS"}),A.map((e=>(0,d.jsx)("div",{className:"item-missao obs-style",children:pa.map((a=>{const[s,t,i]=e.split("/"),o=new Date(i,t-1,s);let r=new Date(a.inicio),l=new Date(a.fim);if(o.getTime()<=l.getTime()&&o.getTime()>=r.getTime())return(0,d.jsx)("div",{className:"missao-white white",onClick:()=>(e=>{ya(!0),Ta(e.titulo),ka(e.observacoes),Pa(e.id),_a(new Date(e.inicio)),Fa(new Date(e.fim)),Sa(!0)})(a),onMouseLeave:wt,children:a.titulo})}))})))]}),(0,d.jsxs)("div",{className:"missao-item",children:[(0,d.jsx)("div",{className:"missao aviao",children:"Exerc\xedcios"}),A.map((e=>(0,d.jsx)("div",{className:"item-missao obs-style",children:mt.map((s=>{const[t,i,o]=e.split("/"),r=new Date(Date.UTC(o,i-1,t));let l=new Date(s.data_inicio),n=new Date(s.data_fim);if(r.getTime()<=n.getTime()&&r.getTime()>=l.getTime())return(0,d.jsx)("div",{className:"missao-white white",onClick:()=>(e=>{et(!0),dt(e.id);let s=e.data_inicio+"T04:00:00Z",t=e.data_fim+"T04:00:00Z";qs(new Date(s)),Ws(new Date(t)),rt(e.localidade),it(e.nome),nt(e.observacoes),st(!0);let i=[];e.usuarios.forEach((e=>{i.push({id:e.id,trigrama:e.Trigrama.trigrama,funcao:e.FuncoesAbordo.nome})})),a(i)})(s),children:s.nome})}))})))]}),z.avioes.length>0&&z.avioes.map(((e,t)=>(0,d.jsxs)("div",{className:"missao-item",children:[(0,d.jsxs)("div",{className:"IN"==e.situacao||"IS"==e.situacao||"II"==e.situacao?"missao aviao in":"missao aviao",children:[(0,d.jsx)("span",{style:{cursor:"pointer"},onClick:()=>((e,a,s,t,i,o,r)=>{ea(s),sa(t),ia(e),ra(i),na(o),ua(a),da((e=>{let[a,s]=e.split("T"),[t,i,o]=a.split("-"),[r,l,n]=s.split(":");return o+"/"+i+"/"+t+" - "+r+":"+l})(r)),We(!0)})(e.aviao,e.id,e.ciclos,e.horas,e.situacao,e.atualizador,e.atualizado),children:e.aviao}),e.oculta?null:(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("span",{className:"dados-aviao",children:["Situa\xe7\xe3o: ",e.situacao]}),(0,d.jsxs)("span",{className:"dados-aviao",children:["Ciclos: ",e.ciclos]}),(0,d.jsxs)("span",{className:"dados-aviao",children:["Horas: ",e.horas]})]}),e.oculta?(0,d.jsx)("img",{onClick:()=>Qt(t,e),className:"seta",style:{marginBottom:5,cursor:"pointer"},src:"https://1gtt.com.br/down-white.png"}):(0,d.jsx)("img",{onClick:()=>Qt(t,e),className:"seta",style:{marginBottom:5,cursor:"pointer"},src:"https://1gtt.com.br/up-white.png"})]}),A.map((t=>(0,d.jsxs)("div",{className:"item-missao",style:{cursor:"pointer"},onClick:a=>((e,a,s)=>{e.target===e.currentTarget&&(gs(!0),Ts(a),ks(s))})(a,t,e.id),children:[Object.keys(Za).map((a=>{const s=Za[a];return Object.keys(s).map((i=>s[i].map((s=>{if(i==e.aviao&&a==t)return(0,d.jsx)("div",{className:"missao-red red",onClick:()=>(e=>{Ha(!0),Xa(e.titulo),Ka(e.descricao),ss(e.id),is(e.Aeronave.aeronave),es(e.Aeronave.id);let a=new Date(e.inicio),s=new Date(e.fim);var t=a.getTimezoneOffset();a.setMinutes(a.getMinutes()+t);var i=s.getTimezoneOffset();s.setMinutes(s.getMinutes()+i),qa(a),Wa(s),Ga(!0)})(s),children:(0,d.jsx)("span",{className:"teste-font",children:s.titulo})},s.id)}))))})),vs.map((a=>{let[s,i,o]=a.data.split("-"),r=o+"/"+i+"/"+s,l=a.trip.split("/");if(l.length>0)var n=l.join("/ ");else n=a.trip;if(r==t&&a.Aeronave.aeronave==e.aviao)return n=n.length>25?n.slice(0,25)+"...":n.trip,(0,d.jsxs)("div",{className:0==Zs.findIndex((e=>e.id==a.id))?"missao-white rascunho-dashed":"missao-white rascunho",onMouseDown:Xt,onMouseUp:Vt,onMouseEnter:()=>{return Se((e=a).id),Xs(e),void Ks(!0);var e},onMouseLeave:yt,onClick:()=>(e=>{if(!Rs){ys(e.planejamento),Ns(e.ofrag),Ss(e.trip),Is(e.obs),ks(e.id_aeronave);let[a,s,t]=e.data.split("-");Ts(t+"/"+s+"/"+a),Fs(e.id),_s(e.cor),Na(!0),gs(!0)}})(a),style:{backgroundColor:a.cor,borderRadius:5,display:"flex",flexDirection:"column"},children:[Vs&&be==a.id&&(0,d.jsx)("div",{style:{position:"absolute",top:"100%",left:"0",background:"#000",color:"#fff",padding:"10px",border:"1px solid black",zIndex:1},children:(0,d.jsxs)("p",{style:{fontSize:"1vw"},children:["Trip: ",Bs.trip]})}),(0,d.jsx)("div",{className:"right-rascunho",children:Rs&&(0,d.jsx)(d.Fragment,{children:Zs.findIndex((e=>e.id==a.id))>=0?(0,d.jsx)("img",{width:"14px",height:"14px",src:"http://www.1gtt.com.br/correct.png",onClick:()=>Jt(a)}):(0,d.jsx)("div",{className:"bola",onClick:()=>Jt(a)})})}),(0,d.jsxs)("div",{className:"left-rascunho",style:{display:"flex",flexDirection:"column"},children:[(0,d.jsx)("span",{className:"item-rascunho",children:a.planejamento}),(0,d.jsx)("span",{className:"item-rascunho",children:a.ofrag}),(0,d.jsx)("span",{className:"item-rascunho",children:a.trip}),(0,d.jsx)("span",{className:"item-rascunho",children:a.obs})]})]})})),e.eventos.length>0&&e.eventos.map((i=>{if(i.trip_voada||(i.trip_voada=[]),i.data==t)return(0,d.jsxs)("div",{onClick:()=>(async(e,s)=>{Te(!1),ke(!1),k(!0),E(!1);let t=s.missao.id_missao;_e(t);let i={...xe},o=[];s.missao.tripulacao.forEach((e=>{o.push(e)}));let r=s.comentarios,l=s.esforco,n=s.configuracao;Ue(r),He(l),Ea(n);let c=s.missao.omis;Pe(c),a(o);let d=(await gt.getMissoesAvioesId(t)).data.filter((e=>{if(e.eventos.length>0)return e}));i.eventos=d[0].eventos,Ge(i.eventos[0].id_documento),ge(i),I(!0),ye(e.aviao);let m=Ce.findIndex((a=>a.aeronave==e.aviao));m>=0&&Ne(Ce[m].id)})(e,i),className:"missao-white ".concat(i.trip_voada.length>0?"green":i.missao.tripulacao.length<=0?"white":"gray"),onMouseEnter:()=>((e,a,s)=>{N(e),a.tripulacao.sort(((e,a)=>e.antiguidade-a.antiguidade));let t=a.tripulacao.map((e=>e.trigrama));if(r(t.join("/")),G(a),s.id_documento){let e=Be.findIndex((e=>e.id==s.id_documento));rs(e>-1?Be[e].numero:"OFRAG S/N")}else rs("OFRAG S/N");S(!0)})(i.missao.id,i.missao,i),onMouseLeave:jt,children:[b&&g==i.missao.id&&null!=i.missao.id&&(0,d.jsxs)("div",{style:{position:"absolute",top:"100%",left:"0",background:"#000",color:"#fff",padding:"10px",border:"1px solid black",zIndex:1},children:[(0,d.jsxs)("p",{style:{fontSize:"1vw"},children:["OMIS: ",Y.omis]}),(0,d.jsx)("p",{style:{fontSize:"1vw"},children:os}),(0,d.jsxs)("p",{style:{fontSize:"1vw"},children:["Tripula\xe7\xe3o: ",s]})]}),i.missao.horaDep!=i.missao.horaPouso?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("div",{className:"text-missao",children:[i.missao.horaDep," ",i.missao.dep]}),(0,d.jsxs)("div",{className:"text-missao",children:[i.missao.horaPouso," ",i.missao.pouso," "]})," "]}):(0,d.jsx)("div",{className:"text-missao",children:i.missao.dep})]})}))]})))]}))),(0,d.jsxs)("div",{className:"missao-item",children:[(0,d.jsx)("div",{className:"missao aviao",children:"Sobreaviso"}),A.map((e=>(0,d.jsx)("div",{className:"item-missao",children:ls.map((s=>{const[t,i,o]=e.split("/"),r=new Date(o,i-1,t);let l=new Date(s.data);const n=r.getDate(),c=r.getMonth(),m=r.getFullYear(),u=l.getDate(),p=l.getMonth(),h=l.getFullYear();if(n===u&&c===p&&m===h){var v=[],f=[],x=[],g=[];return s.Usuarios.forEach(((e,a)=>{"Piloto"==e.FuncoesAbordo.nome&&v.push(e.Trigrama.trigrama),"Mec\xe2nico de Voo"==e.FuncoesAbordo.nome&&f.push(e.Trigrama.trigrama),"Loadmaster"==e.FuncoesAbordo.nome&&x.push(e.Trigrama.trigrama),"Comiss\xe1rio"==e.FuncoesAbordo.nome&&g.push(e.Trigrama.trigrama)})),(0,d.jsxs)("div",{className:"div-trigramas-sobreaviso",onClick:()=>(e=>{us(!0),hs(e.id),se(new Date(e.data)),Ia(!0);let s=[];e.Usuarios.forEach((e=>{s.push({id:e.id,trigrama:e.Trigrama.trigrama,funcao:e.FuncoesAbordo.nome})})),a(s)})(s),children:[(0,d.jsx)("span",{className:"trigrama-sobreaviso",children:v.join(" / ")}),(0,d.jsx)("span",{className:"trigrama-sobreaviso",children:f.join(" / ")}),(0,d.jsx)("span",{className:"trigrama-sobreaviso",children:x.join(" / ")}),(0,d.jsx)("span",{className:"trigrama-sobreaviso",children:g.join(" / ")})]})}}))})))]})]})]}),(0,d.jsxs)("div",{ref:xt,className:C?"modal-create-visible":"modal-create",children:[(0,d.jsx)("div",{style:{display:"flex",justifyContent:"flex-end",margin:10,cursor:"pointer"},children:(0,d.jsx)("div",{onClick:()=>{window.confirm("Deseja mesmo sair? Todos os dados adicionados at\xe9 o momento ser\xe3o perdidos")&&(Ft(),I(!1))},style:{color:"#fff"},children:"X"})}),(0,d.jsxs)("div",{className:"criar-div",children:[(0,d.jsxs)("h3",{style:{color:"#fff"},children:[O?"Editar":"Criar"," Miss\xe3o"]}),O&&e.length>0?(0,d.jsx)("button",{className:"ver-omis",onClick:async()=>{let e=xe.eventos[0].comentarios,a=xe.eventos[0].esforco,s=xe.eventos[0].configuracao,t=[];xe.eventos[0].missao.tripulacao.forEach((e=>{t.push(e)}));let i=[];const o=e=>{let[a,s]=e.split("T"),[t,i,o]=a.split("-"),[r,l,n]=s.split(":");return[o+"/"+i+"/"+t,r+":"+l]};function r(e){var a=e/400,s=Math.round(a%1*60);60===(s=5*Math.ceil(s/5))&&(a+=1,s=0);var t=Math.floor(a);return t<=9&&(t="0"+t.toString()),t+":"+(s<10?"0"+s:s)}function l(e){var a=Math.floor(e/36e5);a<=9&&(a="0"+a.toString());var s=Math.ceil(e%36e5/6e4);return s<=9&&(s="0"+s.toString()),a+":"+s}await async function(){for(let t=0;t<xe.eventos.length;t++){let n=xe.eventos[t];var e="01:00";if(t!=xe.eventos.length-1){let s=xe.eventos[t+1].missao.depISO;var a=new Date(s)-new Date(n.missao.pousoISO);if(a<288e5)e=l(a)}let[c,d]=o(n.missao.depISO),[m,u]=o(n.missao.pousoISO),p=l(new Date(n.missao.pousoISO)-new Date(n.missao.depISO));var s="00:00";let h=await gt.getDistanciaAerodromos({origem:n.missao.pouso,destino:n.missao.alternativa});if(!h.error){s=r(h.data.distancia)}let v={data:c,depIso:n.missao.depISO,horaDep:d,dep:n.missao.dep,horaPouso:u,pouso:n.missao.pouso,tev:p,solo:e,alternativa:n.missao.alternativa,tev_alt:s,combustivel:n.missao.combustivel_minimo};i.push(v)}}(),t.sort((function(e,a){return e.antiguidade-a.antiguidade}));var n=0;i.forEach((e=>{let[a,s]=e.tev.split(":"),t=60*parseInt(a)+parseInt(s);n+=t}));let c={tripulacao:t,etapas:i,comandante:t[0].posto+" "+t[0].nome_guerra.toUpperCase(),data:i[0].data,aviao:je,omis:xe.eventos[0].missao.omis,ofrag:xe.eventos[0].ofrag,comentarios:e,esforco:a,configuracao:s,horas:function(e){const a=e%60,s=Math.floor(e/60).toString().padStart(2,"0"),t=a.toString().padStart(2,"0");return"".concat(s,":").concat(t)}(n)};const d=document.createElement("form");d.method="post",d.action="/omis",d.target="_blank";for(const p in c)if(c.hasOwnProperty(p)){const e=document.createElement("input");e.type="hidden",e.name=p,e.value=JSON.stringify(c[p]),d.appendChild(e)}const m=encodeURIComponent(JSON.stringify(c)),u="/omis?dados=".concat(m);window.open(u,"_blank")},children:"Ver OMIS"}):null,O&&e.length>0?(0,d.jsx)("button",{className:"ver-omis",onClick:async()=>{let e=[];xe.eventos[0].missao.tripulacao.forEach((a=>{e.push(a)}));let a=[];const s=e=>{let[a,s]=e.split("T"),[t,i,o]=a.split("-"),[r,l,n]=s.split(":");return[o+"/"+i+"/"+t,r+":"+l]};function t(e){var a=e/400,s=Math.round(a%1*60);60===(s=5*Math.ceil(s/5))&&(a+=1,s=0);var t=Math.floor(a);return t<=9&&(t="0"+t.toString()),t+":"+(s<10?"0"+s:s)}function i(e){var a=Math.floor(e/36e5);a<=9&&(a="0"+a.toString());var s=Math.ceil(e%36e5/6e4);return s<=9&&(s="0"+s.toString()),a+":"+s}await async function(){for(let l=0;l<xe.eventos.length;l++){let n=xe.eventos[l];var e="01:00";if(l!=xe.eventos.length-1){let a=xe.eventos[l+1].missao.depISO;var o=new Date(a)-new Date(n.missao.pousoISO);if(o<288e5)e=i(o)}let[c,d]=s(n.missao.depISO),[m,u]=s(n.missao.pousoISO),p=i(new Date(n.missao.pousoISO)-new Date(n.missao.depISO));var r="00:00";let h=await gt.getDistanciaAerodromos({origem:n.missao.pouso,destino:n.missao.alternativa});if(!h.error){r=t(h.data.distancia)}let v={data:c,depIso:n.missao.depISO,horaDep:d,dep:n.missao.dep,horaPouso:u,pouso:n.missao.pouso,tev:p,solo:e,alternativa:n.missao.alternativa,tev_alt:r,combustivel:n.missao.combustivel_minimo};a.push(v)}}(),e.sort((function(e,a){return e.antiguidade-a.antiguidade}));a.forEach((e=>{let[a,s]=e.tev.split(":"),t=60*parseInt(a)+parseInt(s);t}));let o={tripulacao:e,etapas:a,data:a[0].data,aviao:je,omis:xe.eventos[0].missao.omis};const r=encodeURIComponent(JSON.stringify(o)),l="/lanche?dados=".concat(r);window.open(l,"_blank")},children:"Ver Lanche"}):null]}),(0,d.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",marginTop:20,alignItems:"center"},children:[(0,d.jsx)("span",{style:{color:"#fff"},children:"Avi\xe3o:"}),Ce.map((e=>(0,d.jsx)("button",{onClick:()=>{ye(e.aeronave),Ne(e.id);let a={...xe};a.aviao=e.aeronave,ge(a)},style:{backgroundColor:je==e.aeronave?"#28a745":"#FFF",color:je==e.aeronave?"#fff":"#000"},className:"botao-aviao",children:e.aeronave})))]}),(0,d.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",marginTop:20,alignItems:"center"},children:[(0,d.jsx)("span",{style:{color:"#fff"},children:"OMIS:"}),(0,d.jsxs)("div",{style:{color:"#fff"},children:[(0,d.jsx)(m,{value:Re,onChange:Pe,disabled:Je}),Je&&(0,d.jsx)("button",{onClick:()=>qe(!1),className:"cumprir",children:"Editar"}),!Je&&(0,d.jsx)("button",{onClick:()=>qe(!0),className:"cumprir",children:"Salvar N\xfamero"})]})]}),(0,d.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",marginTop:20,alignItems:"center"},children:[(0,d.jsx)("span",{style:{color:"#fff"},children:"OFRAG:"}),(0,d.jsxs)("div",{style:{color:"#fff"},children:[(0,d.jsxs)("select",{id:"select-box",style:{borderRadius:5},value:Ye,onChange:e=>{Ge(e.target.value)},children:[(0,d.jsx)("option",{value:"",children:"Selecione uma op\xe7\xe3o"}),Be.length>0?Be.map(((e,a)=>(0,d.jsxs)("option",{style:{backgroundColor:"#fff"},value:e.id,children:[e.numero," - V",e.versao]},a))):null]}),""==Ye||pe?null:Me?(0,d.jsx)(w.c,{}):(0,d.jsx)("button",{onClick:async()=>{if(ee(""),ue(""),""!=je){if(""!=Ye){let s=await gt.getOfrag(Ye);if(!s.error){let t=[];var e={...z},a={...xe};a.eventos.forEach((a=>{var s=e.avioes.findIndex((e=>e.aviao==je));s>=0&&(e.avioes[s].eventos=e.avioes[s].eventos.filter((e=>e.missao.depISO!=a.missao.depISO&&e.missao.dep!=a.missao.dep)))})),s.data.missoes[0].rotaOfrag.etapas.forEach((a=>{let[s,i]=a.dataHoraDecolagem.split("T"),[o,r,l]=s.split("-"),[n,c,d]=i.split(":");if(a.dataHoraPouso)var[m,u]=a.dataHoraPouso.split("T"),[p,h,v]=m.split("-"),[f,x,g]=u.split(":");let j={data:"".concat(l,"/").concat(r,"/").concat(o),tipo:"missao",missao:{id:Math.floor(1e4*Math.random())+1,dep:a.codigoIcaoOrigem,horaDep:"".concat(n,":").concat(c,"Z"),pouso:a.codigoIcaoDestino,horaPouso:a.dataHoraPouso?"".concat(f,":").concat(x,"Z"):"",depISO:a.dataHoraDecolagem,pousoISO:a.dataHoraPouso,tripulacao:[],omis:"",edicao:!0},manutencao:null};var y=e.avioes.findIndex((e=>e.aviao==je));y>=0&&e.avioes[y].eventos.push(j),t.push(j)})),t.length>0&&(a.eventos=t,ge(a),ee(""),Ee(!1),he(!0),H(e))}}}else ue("A aeronave \xe9 obrigat\xf3ria")},className:"cumprir",children:"Cumprir"}),""!=me&&(0,d.jsx)("div",{style:{marginTop:10},class:"alert alert-danger",role:"alert",children:me})]})]}),(0,d.jsxs)("div",{className:"add-etapa",children:[(0,d.jsx)("span",{style:{color:"#fff"},children:"Etapas:"}),(0,d.jsx)("img",{onClick:()=>{if(!M&&B&&X(!1),!M&&!B&&(X(!0),xe.eventos.length>0)){let e=xe.eventos[xe.eventos.length-1].missao.pouso,a=xe.eventos[xe.eventos.length-1].missao.pousoISO;_t(e,a)}M&&E(!1)},style:{cursor:"pointer"},src:"https://www.1gtt.com.br/app/add-white.png",width:20,height:20})]}),(B||M)&&(0,d.jsxs)("div",{className:"form-area",children:[(0,d.jsxs)("div",{className:"form-add",children:[(0,d.jsx)("span",{style:{color:"#000"},children:"DEP: "}),(0,d.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[ae.toLocaleString([],{year:"numeric",month:"2-digit",day:"2-digit",hour:"numeric",minute:"numeric"})+"Z",(0,d.jsx)("div",{className:"",style:{marginLeft:10},children:(0,d.jsx)(l(),{selected:ae,timeInputLabel:ae,onChange:e=>{se(e)},customInput:(0,d.jsx)(ei,{}),showTimeSelect:!0,timeFormat:"HH:mm",timeIntervals:5,dateFormat:"LLL",timeZone:"Etc/UTC",timeZoneData:[{value:"Etc/UTC",label:"Zulu (GMT 0)"}]})})]})]}),(0,d.jsxs)("div",{className:"form-add",children:[(0,d.jsx)("span",{style:{color:"#000"},children:"ICAO de Origem: "}),(0,d.jsx)(n.c,{erro:oe,maxLength:4,value:V,onChange:K})]}),(0,d.jsxs)("div",{className:"form-add",children:[(0,d.jsx)("span",{style:{color:"#000"},children:"ICAO de Destino: "}),(0,d.jsx)(n.c,{ref:vt,id:"icao-pouso",onKeyPress:Nt,erro:le,maxLength:4,value:J,onChange:q})]}),(0,d.jsxs)("div",{className:"form-add",children:[(0,d.jsx)("span",{style:{color:"#000"},children:"ICAO de Alternativa: "}),(0,d.jsx)(n.c,{ref:ft,onKeyPress:Nt,erro:ce,maxLength:4,value:Q,onChange:W})]}),(0,d.jsxs)("div",{className:"form-add",children:[(0,d.jsx)("span",{style:{color:"#000"},children:"Pouso: "}),(0,d.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[te.toLocaleString([],{year:"numeric",month:"2-digit",day:"2-digit",hour:"numeric",minute:"numeric"})+"Z",(0,d.jsx)("div",{className:"",style:{marginLeft:10},children:(0,d.jsx)(l(),{selected:te,timeInputLabel:te,onChange:e=>{ie(e)},customInput:(0,d.jsx)(ei,{}),showTimeSelect:!0,timeFormat:"HH:mm",timeIntervals:5,dateFormat:"LLL"})})]})]}),(0,d.jsxs)("div",{className:"form-add",children:[(0,d.jsx)("span",{style:{color:"#000"},children:"COMB M\xednimo: "}),(0,d.jsx)(u,{onKeyPress:Nt,value:Ve,onChange:Ke})]}),(0,d.jsxs)("div",{className:"botoes-add-etapa",children:[(0,d.jsx)("button",{onClick:()=>{K(""),q(""),se(""),ie(""),X(!1),E(!1)},className:"cancelar",children:"Cancelar"}),(0,d.jsx)("button",{className:"adicionar",onClick:M?Zt:Ut,children:M?"Editar":"Adicionar"})]}),""!=$&&(0,d.jsx)("div",{style:{marginTop:10},class:"alert alert-danger",role:"alert",children:$})]}),xe.eventos.map(((e,a)=>(0,d.jsx)(y,{edit:()=>{_(a),E(!0),(e=>{let a={...xe}.eventos[e];K(a.missao.dep),q(a.missao.pouso),W(a.missao.alternativa?a.missao.alternativa:""),Ke(a.missao.combustivel_minimo?a.missao.combustivel_minimo:0),"string"==typeof a.missao.depISO&&(a.missao.depISO=new Date(a.missao.depISO)),"string"==typeof a.missao.pousoISO&&(a.missao.pousoISO=new Date(a.missao.pousoISO));var s=a.missao.depISO.getTimezoneOffset();if(a.missao.depISO.setMinutes(a.missao.depISO.getMinutes()+s),a.missao.pousoISO){var t=a.missao.pousoISO.getTimezoneOffset();a.missao.pousoISO.setMinutes(a.missao.pousoISO.getMinutes()+t),ie(a.missao.pousoISO)}else Lt();se(a.missao.depISO)})(a),xt.current.scrollTop=0},del:()=>{let s={...xe},t=s.eventos.filter(((e,s)=>{if(s!=a)return e}));s.eventos=t;let i={...z};var o=i.avioes.findIndex((e=>e.aviao==je));o>=0&&(i.avioes[o].eventos=i.avioes[o].eventos.filter(((a,s)=>a.missao.dep!=e.missao.dep&&a.missao.horaDep!=e.missao.horaDep&&a.missao.pouso!=e.missao.pouso)),H(i)),ge(s)},index:a,dep:e.missao.dep,pouso:e.missao.pouso,alternativa:e.missao.alternativa,horaDep:e.missao.horaDep,horaPouso:e.missao.horaPouso,data:e.data}))),(0,d.jsxs)("div",{className:"add-trip",children:[(0,d.jsx)("span",{style:{color:"#fff"},children:"Tripula\xe7\xe3o:"}),(0,d.jsx)(c.c,{maxLength:3,value:Ae,onChange:Fe,onKeyPress:St}),ve&&(0,d.jsx)("div",{style:{marginTop:10},class:"alert alert-danger",role:"alert",children:ve}),(0,d.jsx)("div",{className:"tripulante-row",children:(0,d.jsx)("span",{style:{color:"#fff"},className:"tripulante",children:"Pilotos:"})}),(0,d.jsx)("div",{className:"caixa-tripulante",children:e.map((e=>{if("Piloto"==e.funcao)return(0,d.jsxs)("div",{className:"tripulante-item",children:[e.trigrama,(0,d.jsx)("img",{style:{marginLeft:5,cursor:"pointer"},onClick:()=>At(e.id),src:"https://www.1gtt.com.br/app/close.png",width:"15px"})]})}))}),(0,d.jsx)("div",{className:"tripulante-row",children:(0,d.jsx)("span",{style:{color:"#fff"},className:"tripulante",children:"Mec\xe2nicos:"})}),(0,d.jsx)("div",{className:"caixa-tripulante",children:e.map((e=>{if("Mec\xe2nico de Voo"==e.funcao)return(0,d.jsxs)("div",{className:"tripulante-item",children:[e.trigrama,(0,d.jsx)("img",{style:{marginLeft:5,cursor:"pointer"},onClick:()=>At(e.id),src:"https://www.1gtt.com.br/app/close.png",width:"15px"})]})}))}),(0,d.jsx)("div",{className:"tripulante-row",children:(0,d.jsx)("span",{style:{color:"#fff"},className:"tripulante",children:"Loadmasters:"})}),(0,d.jsx)("div",{className:"caixa-tripulante",children:e.map((e=>{if("Loadmaster"==e.funcao)return(0,d.jsxs)("div",{className:"tripulante-item",children:[e.trigrama,(0,d.jsx)("img",{style:{marginLeft:5,cursor:"pointer"},onClick:()=>At(e.id),src:"https://www.1gtt.com.br/app/close.png",width:"15px"})]})}))}),(0,d.jsx)("div",{className:"tripulante-row",children:(0,d.jsx)("span",{style:{color:"#fff"},className:"tripulante",children:"Comiss\xe1rios:"})}),(0,d.jsx)("div",{className:"caixa-tripulante",children:e.map((e=>{if("Comiss\xe1rio"==e.funcao)return(0,d.jsxs)("div",{className:"tripulante-item",children:[e.trigrama,(0,d.jsx)("img",{style:{marginLeft:5,cursor:"pointer"},onClick:()=>At(e.id),src:"https://www.1gtt.com.br/app/close.png",width:"15px"})]})}))}),(0,d.jsx)("div",{className:"tripulante-row",children:(0,d.jsx)("span",{style:{color:"#fff"},className:"tripulante",children:"Equipe M\xe9dica:"})}),(0,d.jsx)("div",{className:"caixa-tripulante",children:e.map((e=>{if("M\xe9dico"==e.funcao||"Enfermeiro"==e.funcao)return(0,d.jsxs)("div",{className:"tripulante-item",children:[e.trigrama,(0,d.jsx)("img",{style:{marginLeft:5,cursor:"pointer"},onClick:()=>At(e.id),src:"https://www.1gtt.com.br/app/close.png",width:"15px"})]})}))}),(0,d.jsx)("div",{className:"tripulante-row",children:(0,d.jsx)("span",{style:{color:"#fff"},className:"tripulante",children:"OE-3:"})}),(0,d.jsx)("div",{className:"caixa-tripulante",children:e.map((e=>{if("O3"==e.funcao)return(0,d.jsxs)("div",{className:"tripulante-item",children:[e.trigrama,(0,d.jsx)("img",{style:{marginLeft:5,cursor:"pointer"},onClick:()=>At(e.id),src:"https://www.1gtt.com.br/app/close.png",width:"15px"})]})}))})]}),(0,d.jsxs)("div",{style:{marginTop:30,display:"flex",flexDirection:"column"},children:[(0,d.jsx)("span",{style:{color:"#fff"},children:"Configura\xe7\xe3o: "}),(0,d.jsx)("textarea",{value:Ma,onChange:e=>Ea(e.target.value),style:{borderRadius:10,padding:5}})]}),(0,d.jsxs)("div",{style:{marginTop:30,display:"flex",flexDirection:"column"},children:[(0,d.jsx)("span",{style:{color:"#fff"},children:"Coment\xe1rios: "}),(0,d.jsx)("textarea",{value:Ze,onChange:e=>Ue(e.target.value),style:{borderRadius:10,padding:5}})]}),(0,d.jsxs)("div",{style:{marginTop:30,display:"flex",flexDirection:"column"},children:[(0,d.jsx)("span",{style:{color:"#fff"},children:"Esfor\xe7o A\xe9reo: "}),(0,d.jsx)("textarea",{value:ze,onChange:e=>He(e.target.value),style:{borderRadius:10,padding:5}})]}),(0,d.jsxs)("div",{className:"botoes-add-etapa",style:{marginTop:30},children:[(0,d.jsx)("button",{className:"cancelar",style:{fontSize:"1vw"},onClick:Ft,children:"Limpar"}),Oe?(0,d.jsx)(w.c,{}):(0,d.jsx)("button",{className:"adicionar",style:{fontSize:"1vw"},onClick:O?async()=>{ke(!0);var a=Le;if(""!=Re){let e={numero:Re};""!=Ye&&(e.id_documento=Ye),e.comentarios=""!=Ze?Ze:"NIL",e.configuracao=Ma,e.esforco=ze,await gt.updateMissao(e,a)}let s=xe.eventos.map((async e=>{let a={};var s=await gt.getAerodromo(e.missao.dep),t=await gt.getAerodromo(e.missao.pouso),i=null;if(e.missao.alternativa)i=(await gt.getAerodromo(e.missao.alternativa)).data.id;return a.dep=e.missao.depISO,a.pouso=e.missao.pousoISO,a.id_aeronave=we,a.id_dep=s.data.id,a.id_pouso=t.data.id,a.id_alternativa=i,a.combustivel_minimo=e.missao.combustivel_minimo,e.missao.edicao?a.id=null:a.id=e.missao.id,a})),t={etapas:await Promise.all(s),id_missao:a},i=await gt.updateEtapas(t);if(i.error)return ke(!1),void alert(i.error);{let s=[];e.forEach((e=>{s.push(e.id)}));let t={id_missao:a,id_militares:s};await gt.updateEscala(t),Ft(),I(!1),Ct(R,!0)}}:async()=>{if(ke(!0),""==je||0==xe.eventos.length)return alert("Todos os campos s\xe3o obrigat\xf3rios!"),void ke(!1);let a=!1;if(xe.eventos.forEach((e=>{e.missao.pousoISO&&e.missao.depISO&&e.missao.alternativa&&""!=e.missao.alternativa||(a=!0)})),a)return ke(!1),void alert("Hor\xe1rios de DEP e POUSO e ICAO de ALTERNATIVA s\xe3o obrigat\xf3rios!");if(!O){let a={};""!=Re&&(a.numero=Re),""!=Ye&&(a.id_documento=Ye),""!=ze&&(a.esforco=ze);let s=await gt.createMissao(a);if(s.error)ke(!1),alert(s.error);else{let a=s.data.id;xe.eventos.forEach((async(e,t)=>{var i=await gt.getAerodromo(e.missao.dep),o=await gt.getAerodromo(e.missao.pouso),r=0,l=null;if(e.missao.alternativa){l=(await gt.getAerodromo(e.missao.alternativa)).data.id;if(!(await gt.getCombMinimo(e.missao.dep,e.missao.pouso,e.missao.alternativa)).error)r=s.data.combustivel}let n={dep:e.missao.depISO,pouso:e.missao.pousoISO,id_missao:a,id_aeronave:we,id_dep:i.data.id,id_pouso:o.data.id,id_alternativa:l,combustivel_minimo:""!=e.missao.combustivel_minimo?e.missao.combustivel_minimo:r};(await gt.createEtapa(n)).error?alert(s.etapa.error):t==xe.eventos.length-1&&(I(!1),ke(!1),setTimeout((()=>{location.reload()}),"2000"))}));let t=[];e.forEach((e=>{t.push(e.id)}));let i={id_missao:a,id_militares:t};await gt.createEscala(i),ke(!1)}}},children:O?"Editar Miss\xe3o":"Criar Miss\xe3o"})]}),(0,d.jsxs)("div",{className:"botoes-add-etapa",style:{marginTop:30,justifyContent:"center"},children:[De&&(0,d.jsx)(w.c,{}),O?(0,d.jsx)("button",{className:"cancelar",style:{fontSize:"1.3vw"},onClick:async()=>{Te(!0);if(window.confirm("Deseja mesmo excluir essa miss\xe3o?")){let e=xe.eventos[0].missao.id_missao,a=await gt.deleteMissao(e);if(a.error)return Te(!1),void alert(a.error);Te(!1),H({avioes:[]}),Ft(),I(!1),Ct(R,!0)}Te(!1)},children:"Excluir Miss\xe3o"}):(0,d.jsx)(d.Fragment,{})]})]}),(0,d.jsxs)("div",{ref:xt,className:Ca?"modal-create-visible":"modal-create",children:[(0,d.jsx)("div",{style:{display:"flex",justifyContent:"flex-end",margin:10,cursor:"pointer"},children:(0,d.jsx)("div",{onClick:()=>{Rt(),Ia(!1)},style:{color:"#fff"},children:"X"})}),(0,d.jsx)("div",{className:"criar-div",children:(0,d.jsxs)("h3",{style:{color:"#fff"},children:[ms?"Editar":"Criar"," Sobreaviso"]})}),(0,d.jsx)("div",{className:"form-area",children:(0,d.jsxs)("div",{className:"form-add",style:{alignItems:"center"},children:[(0,d.jsx)("span",{style:{color:"#000"},children:"Data: "}),(0,d.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[ae.toLocaleString([],{year:"numeric",month:"2-digit",day:"2-digit"}),(0,d.jsx)("div",{className:"",style:{marginLeft:10},children:(0,d.jsx)(l(),{selected:ae,timeInputLabel:ae,onChange:e=>{se(e)},customInput:(0,d.jsx)(ai,{}),timeIntervals:5,timeZone:"Etc/UTC",timeZoneData:[{value:"Etc/UTC",label:"Zulu (GMT 0)"}]})})]})]})}),(0,d.jsxs)("div",{className:"add-trip",children:[(0,d.jsx)("span",{style:{color:"#fff"},children:"Tripula\xe7\xe3o:"}),(0,d.jsx)(c.c,{maxLength:3,value:Ae,onChange:Fe,onKeyPress:St}),ve&&(0,d.jsx)("div",{style:{marginTop:10},class:"alert alert-danger",role:"alert",children:ve}),(0,d.jsx)("div",{className:"tripulante-row",children:(0,d.jsx)("span",{style:{color:"#fff"},className:"tripulante",children:"Pilotos:"})}),(0,d.jsx)("div",{className:"caixa-tripulante",children:e.map((e=>{if("Piloto"==e.funcao)return(0,d.jsxs)("div",{className:"tripulante-item",children:[e.trigrama,(0,d.jsx)("img",{style:{marginLeft:5,cursor:"pointer"},onClick:()=>At(e.id),src:"https://www.1gtt.com.br/app/close.png",width:"15px"})]})}))}),(0,d.jsx)("div",{className:"tripulante-row",children:(0,d.jsx)("span",{style:{color:"#fff"},className:"tripulante",children:"Mec\xe2nicos:"})}),(0,d.jsx)("div",{className:"caixa-tripulante",children:e.map((e=>{if("Mec\xe2nico de Voo"==e.funcao)return(0,d.jsxs)("div",{className:"tripulante-item",children:[e.trigrama,(0,d.jsx)("img",{style:{marginLeft:5,cursor:"pointer"},onClick:()=>At(e.id),src:"https://www.1gtt.com.br/app/close.png",width:"15px"})]})}))}),(0,d.jsx)("div",{className:"tripulante-row",children:(0,d.jsx)("span",{style:{color:"#fff"},className:"tripulante",children:"Loadmasters:"})}),(0,d.jsx)("div",{className:"caixa-tripulante",children:e.map((e=>{if("Loadmaster"==e.funcao)return(0,d.jsxs)("div",{className:"tripulante-item",children:[e.trigrama,(0,d.jsx)("img",{style:{marginLeft:5,cursor:"pointer"},onClick:()=>At(e.id),src:"https://www.1gtt.com.br/app/close.png",width:"15px"})]})}))}),(0,d.jsx)("div",{className:"tripulante-row",children:(0,d.jsx)("span",{style:{color:"#fff"},className:"tripulante",children:"Comiss\xe1rios:"})}),(0,d.jsx)("div",{className:"caixa-tripulante",children:e.map((e=>{if("Comiss\xe1rio"==e.funcao)return(0,d.jsxs)("div",{className:"tripulante-item",children:[e.trigrama,(0,d.jsx)("img",{style:{marginLeft:5,cursor:"pointer"},onClick:()=>At(e.id),src:"https://www.1gtt.com.br/app/close.png",width:"15px"})]})}))})]}),(0,d.jsxs)("div",{className:"botoes-add-etapa",style:{marginTop:30},children:[(0,d.jsx)("button",{className:"cancelar",style:{fontSize:"1vw"},onClick:()=>{a([])},children:"Limpar"}),Oe?(0,d.jsx)(w.c,{}):(0,d.jsx)("button",{className:"adicionar",style:{fontSize:"1vw"},onClick:ms?async()=>{var a=[];e.forEach((e=>{a.push(e.id)}));let s={id_usuarios:a},t=await gt.updateSobreaviso(ps,s);t.error?alert(t.error):(alert(t.msg),Rt(),Ia(!1),location.reload())}:async()=>{var a=[];e.forEach((e=>{a.push(e.id)}));let s=new Date(ae);s.setHours(3,30,0,0);let t={id_usuarios:a,data:s.toISOString()},i=await gt.createSobreaviso(t);i.error?alert(i.error):(alert(i.msg),Rt(),Ia(!1),location.reload())},children:ms?"Editar Sobreaviso":"Criar Sobreaviso"})]}),(0,d.jsxs)("div",{className:"botoes-add-etapa",style:{marginTop:30,justifyContent:"center"},children:[De&&(0,d.jsx)(w.c,{}),ms?(0,d.jsx)("button",{className:"cancelar",style:{fontSize:"1.3vw"},onClick:()=>{window.confirm("Deseja mesmo excluir esse Sobreaviso?")&&Yt()},children:"Excluir Sobreaviso"}):(0,d.jsx)(d.Fragment,{})]})]}),(0,d.jsxs)("div",{ref:xt,className:at?"modal-create-visible":"modal-create",children:[(0,d.jsx)("div",{style:{display:"flex",justifyContent:"flex-end",margin:10,cursor:"pointer"},children:(0,d.jsx)("div",{onClick:()=>{Pt(),st(!1)},style:{color:"#fff"},children:"X"})}),(0,d.jsx)("div",{className:"criar-div",children:(0,d.jsxs)("h3",{style:{color:"#fff"},children:[$s?"Editar":"Criar"," Exerc\xedcio"]})}),(0,d.jsxs)("div",{style:{marginTop:30},children:[(0,d.jsx)("span",{style:{color:"#fff",marginRight:10},children:"Nome do Exerc\xedcio:"}),(0,d.jsx)("input",{style:{width:"100%"},value:tt,onChange:e=>Ht(e,it)})]}),(0,d.jsxs)("div",{style:{marginTop:10},children:[(0,d.jsx)("span",{style:{color:"#fff",marginRight:10},children:"Localidade:"}),(0,d.jsx)("input",{style:{width:"100%"},value:ot,onChange:e=>Ht(e,rt)})]}),(0,d.jsx)("div",{className:"form-area",children:(0,d.jsxs)("div",{className:"form-add",style:{alignItems:"center"},children:[(0,d.jsx)("span",{style:{color:"#000"},children:"Data de In\xedcio: "}),(0,d.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[Js.toLocaleString([],{year:"numeric",month:"2-digit",day:"2-digit"}),(0,d.jsx)("div",{className:"",style:{marginLeft:10},children:(0,d.jsx)(l(),{selected:Js,timeInputLabel:Js,onChange:e=>{qs(e)},customInput:(0,d.jsx)(ai,{}),timeIntervals:5,timeZone:"Etc/UTC",timeZoneData:[{value:"Etc/UTC",label:"Zulu (GMT 0)"}]})})]})]})}),(0,d.jsx)("div",{className:"form-area",children:(0,d.jsxs)("div",{className:"form-add",style:{alignItems:"center"},children:[(0,d.jsx)("span",{style:{color:"#000"},children:"Data de T\xe9rmino: "}),(0,d.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[Qs.toLocaleString([],{year:"numeric",month:"2-digit",day:"2-digit"}),(0,d.jsx)("div",{className:"",style:{marginLeft:10},children:(0,d.jsx)(l(),{selected:Qs,timeInputLabel:Qs,onChange:e=>{Ws(e)},customInput:(0,d.jsx)(ai,{}),timeIntervals:5,timeZone:"Etc/UTC",timeZoneData:[{value:"Etc/UTC",label:"Zulu (GMT 0)"}]})})]})]})}),(0,d.jsxs)("div",{style:{marginTop:30},children:[(0,d.jsx)("span",{style:{color:"#fff",marginRight:10},children:"Observa\xe7\xf5es:"}),(0,d.jsx)("input",{style:{width:"100%"},value:lt,onChange:e=>Ht(e,nt)})]}),(0,d.jsxs)("div",{className:"add-trip",children:[(0,d.jsx)("span",{style:{color:"#fff"},children:"Tripula\xe7\xe3o:"}),(0,d.jsx)(c.c,{maxLength:3,value:Ae,onChange:Fe,onKeyPress:St}),ve&&(0,d.jsx)("div",{style:{marginTop:10},class:"alert alert-danger",role:"alert",children:ve}),(0,d.jsx)("div",{className:"tripulante-row",children:(0,d.jsx)("span",{style:{color:"#fff"},className:"tripulante",children:"Pilotos:"})}),(0,d.jsx)("div",{className:"caixa-tripulante",children:e.map((e=>{if("Piloto"==e.funcao)return(0,d.jsxs)("div",{className:"tripulante-item",children:[e.trigrama,(0,d.jsx)("img",{style:{marginLeft:5,cursor:"pointer"},onClick:()=>At(e.id),src:"https://www.1gtt.com.br/app/close.png",width:"15px"})]})}))}),(0,d.jsx)("div",{className:"tripulante-row",children:(0,d.jsx)("span",{style:{color:"#fff"},className:"tripulante",children:"Mec\xe2nicos:"})}),(0,d.jsx)("div",{className:"caixa-tripulante",children:e.map((e=>{if("Mec\xe2nico de Voo"==e.funcao)return(0,d.jsxs)("div",{className:"tripulante-item",children:[e.trigrama,(0,d.jsx)("img",{style:{marginLeft:5,cursor:"pointer"},onClick:()=>At(e.id),src:"https://www.1gtt.com.br/app/close.png",width:"15px"})]})}))}),(0,d.jsx)("div",{className:"tripulante-row",children:(0,d.jsx)("span",{style:{color:"#fff"},className:"tripulante",children:"Loadmasters:"})}),(0,d.jsx)("div",{className:"caixa-tripulante",children:e.map((e=>{if("Loadmaster"==e.funcao)return(0,d.jsxs)("div",{className:"tripulante-item",children:[e.trigrama,(0,d.jsx)("img",{style:{marginLeft:5,cursor:"pointer"},onClick:()=>At(e.id),src:"https://www.1gtt.com.br/app/close.png",width:"15px"})]})}))}),(0,d.jsx)("div",{className:"tripulante-row",children:(0,d.jsx)("span",{style:{color:"#fff"},className:"tripulante",children:"Comiss\xe1rios:"})}),(0,d.jsx)("div",{className:"caixa-tripulante",children:e.map((e=>{if("Comiss\xe1rio"==e.funcao)return(0,d.jsxs)("div",{className:"tripulante-item",children:[e.trigrama,(0,d.jsx)("img",{style:{marginLeft:5,cursor:"pointer"},onClick:()=>At(e.id),src:"https://www.1gtt.com.br/app/close.png",width:"15px"})]})}))})]}),(0,d.jsxs)("div",{className:"botoes-add-etapa",style:{marginTop:30},children:[(0,d.jsx)("button",{className:"cancelar",style:{fontSize:"1vw"},onClick:()=>{a([])},children:"Limpar"}),Oe?(0,d.jsx)(w.c,{}):(0,d.jsx)("button",{className:"adicionar",style:{fontSize:"1vw"},onClick:$s?async()=>{var a=[];if(e.forEach((e=>{a.push(e.id)})),!ot||!tt)return void alert("Nome e localidade s\xe3o obrigat\xf3rios");let s={id_usuarios:a,nome:tt,data_inicio:Js,data_fim:Qs,localidade:ot,observacoes:lt},t=await gt.updateExercicio(ct,s);t.error?alert(t.error):(alert(t.msg),Pt(),st(!1),location.reload())}:async()=>{var a=[];if(!tt||!ot)return void alert("Nome e Localidade s\xe3o obrigat\xf3rios!");e.forEach((e=>{a.push(e.id)}));let s=new Date(Js);s.setHours(3,30,0,0);let t=new Date(Qs);t.setHours(3,30,0,0);let i={id_usuarios:a,data_inicio:s.toISOString(),data_fim:t.toISOString(),nome:tt,localidade:ot},o=await gt.createExercicio(i);o.error?alert(o.error):(alert(o.msg),Pt(),st(!1),location.reload())},children:$s?"Editar Exerc\xedcio":"Criar Exerc\xedcio"})]}),(0,d.jsxs)("div",{className:"botoes-add-etapa",style:{marginTop:30,justifyContent:"center"},children:[De&&(0,d.jsx)(w.c,{}),$s?(0,d.jsx)("button",{className:"cancelar",style:{fontSize:"1.3vw"},onClick:()=>{window.confirm("Deseja mesmo excluir esse Exerc\xedcio?")&&zt()},children:"Excluir Exerc\xedcio"}):(0,d.jsx)(d.Fragment,{})]})]})]}),va&&(0,d.jsxs)("div",{className:"modal-aviao",style:{alignItems:"flex-end"},onMouseLeave:wt,children:[(0,d.jsx)("span",{onClick:()=>{fa(!1)},className:"title-modal",style:{color:"#fff",cursor:"pointer"},children:"X"}),(0,d.jsx)("p",{style:{fontSize:"1vw",color:"#fff",marginTop:20},children:xa})]}),D&&(0,d.jsxs)("div",{className:"modal-aviao",style:{alignItems:"flex-end"},children:[(0,d.jsx)("span",{onClick:()=>{T(!1)},className:"title-modal",style:{color:"#fff",cursor:"pointer"},children:"X"}),(0,d.jsxs)("div",{className:"modal-body",children:[(0,d.jsxs)("div",{className:"item-body-modal",children:[(0,d.jsx)("span",{className:"text-modal",style:{color:"#fff"},children:"T\xedtulo:"}),(0,d.jsx)(p,{value:$e,onChange:ea})]}),(0,d.jsxs)("div",{className:"item-body-modal",children:[(0,d.jsx)("span",{className:"text-modal",style:{color:"#fff"},children:"Observa\xe7\xe3o:"}),(0,d.jsx)(p,{value:$e,onChange:ea})]})]})]}),ba&&(0,d.jsxs)("div",{className:"modal-aviao",style:{alignItems:"flex-end"},children:[(0,d.jsx)("span",{onClick:()=>{Sa(!1)},className:"title-modal",style:{color:"#fff",cursor:"pointer"},children:"X"}),(0,d.jsxs)("div",{className:"modal-body",children:[(0,d.jsxs)("div",{className:"item-body-modal",children:[(0,d.jsx)("span",{className:"text-modal",style:{color:"#fff"},children:"T\xedtulo:"}),(0,d.jsx)(v,{value:Da,onChange:Ta})]}),(0,d.jsx)("div",{className:"item-body-modal",children:(0,d.jsx)("span",{className:"text-modal",style:{color:"#fff"},children:"Coment\xe1rios:"})}),(0,d.jsx)(x.c,{linhas:4,value:Oa,onChange:ka}),(0,d.jsxs)("div",{className:"item-modal-body",children:[(0,d.jsx)("span",{style:{color:"#fff",marginRight:10},children:"Inicio: "}),(0,d.jsxs)("div",{style:{display:"flex",color:"#fff",alignItems:"center"},children:[(0,d.jsx)("div",{className:"input-obs",children:La.toLocaleString([],{year:"numeric",month:"2-digit",day:"2-digit"})}),(0,d.jsx)("div",{className:"",style:{marginLeft:10},children:(0,d.jsx)(l(),{selected:La,timeInputLabel:La,onChange:e=>{_a(e)},customInput:(0,d.jsx)(ai,{}),timeIntervals:5,timeZone:"Etc/UTC",timeZoneData:[{value:"Etc/UTC",label:"Zulu (GMT 0)"}]})})]})]}),(0,d.jsxs)("div",{className:"item-modal-body",children:[(0,d.jsx)("span",{style:{color:"#fff",marginRight:10},children:"Fim: "}),(0,d.jsxs)("div",{style:{display:"flex",color:"#fff",alignItems:"center"},children:[(0,d.jsx)("div",{className:"input-obs",children:Aa.toLocaleString([],{year:"numeric",month:"2-digit",day:"2-digit"})}),(0,d.jsx)("div",{className:"",style:{marginLeft:10},children:(0,d.jsx)(l(),{selected:Aa,timeInputLabel:Aa,onChange:e=>{Fa(e)},customInput:(0,d.jsx)(ai,{}),timeFormat:"HH:mm",timeIntervals:5,dateFormat:"LLL",timeZone:"Etc/UTC",timeZoneData:[{value:"Etc/UTC",label:"Zulu (GMT 0)"}]})})]})]}),(0,d.jsx)("div",{className:"modal-bottom",children:(0,d.jsx)("button",{onClick:async()=>{var e={titulo:Da,observacoes:Oa,inicio:La,fim:Aa};if(ja){let a=Ra,s=await gt.updateObservacao(e,a);s.error||(Ta(""),ka(""),_a(new Date),Fa(new Date),Sa(!1),ya(!1),alert(s.msg),location.reload())}else{let a=await gt.createObservacao(e);a.error||(Ta(""),ka(""),_a(new Date),Fa(new Date),Sa(!1),ya(!1),alert(a.msg),location.reload())}},className:"salvar",children:ja?"Editar":"Salvar"})}),ja&&(0,d.jsx)("div",{className:"modal-bottom",children:(0,d.jsx)("button",{onClick:()=>{window.confirm("Deseja mesmo excluir essa Observa\xe7\xe3o?")&&Gt()},className:"excluir",children:"Excluir"})})]})]}),Ya&&(0,d.jsxs)("div",{className:"modal-aviao",style:{alignItems:"flex-end"},children:[(0,d.jsx)("span",{onClick:()=>{Ga(!1)},className:"title-modal",style:{color:"#fff",cursor:"pointer"},children:"X"}),(0,d.jsxs)("div",{className:"modal-body",children:[(0,d.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",marginTop:20,alignItems:"center"},children:[(0,d.jsx)("span",{style:{color:"#fff"},children:"Avi\xe3o:"}),Ce.map((e=>(0,d.jsx)("button",{onClick:()=>{is(e.aeronave),es(e.id);let a={...xe};a.aviao=e.aeronave,ge(a)},style:{backgroundColor:ts==e.aeronave?"#28a745":"#FFF",color:ts==e.aeronave?"#fff":"#000"},className:"botao-aviao",children:e.aeronave})))]}),(0,d.jsxs)("div",{className:"item-body-modal",children:[(0,d.jsx)("span",{className:"text-modal",style:{color:"#fff"},children:"T\xedtulo:"}),(0,d.jsx)(v,{value:Ba,onChange:Xa})]}),(0,d.jsx)("div",{className:"item-body-modal",children:(0,d.jsx)("span",{className:"text-modal",style:{color:"#fff"},children:"Descric\xe3o:"})}),(0,d.jsx)(x.c,{linhas:4,value:Va,onChange:Ka}),(0,d.jsxs)("div",{className:"item-modal-body",children:[(0,d.jsx)("span",{style:{color:"#fff",marginRight:10},children:"Inicio: "}),(0,d.jsxs)("div",{style:{display:"flex",color:"#fff",alignItems:"center"},children:[(0,d.jsx)("div",{className:"input-obs",children:Ja.toLocaleString([],{year:"numeric",month:"2-digit",day:"2-digit",hour:"numeric",minute:"numeric"})+"Z"}),(0,d.jsx)("div",{className:"",style:{marginLeft:10},children:(0,d.jsx)(l(),{selected:Ja,timeInputLabel:Ja,onChange:e=>{qa(e)},customInput:(0,d.jsx)(ai,{}),showTimeSelect:!0,timeFormat:"HH:mm",timeIntervals:5,dateFormat:"LLL",timeZone:"Etc/UTC",timeZoneData:[{value:"Etc/UTC",label:"Zulu (GMT 0)"}]})})]})]}),(0,d.jsxs)("div",{className:"item-modal-body",children:[(0,d.jsx)("span",{style:{color:"#fff",marginRight:10},children:"Fim: "}),(0,d.jsxs)("div",{style:{display:"flex",color:"#fff",alignItems:"center"},children:[(0,d.jsx)("div",{className:"input-obs",children:Qa.toLocaleString([],{year:"numeric",month:"2-digit",day:"2-digit",hour:"numeric",minute:"numeric"})+"Z"}),(0,d.jsx)("div",{className:"",style:{marginLeft:10},children:(0,d.jsx)(l(),{selected:Qa,timeInputLabel:Qa,onChange:e=>{Wa(e)},customInput:(0,d.jsx)(ai,{}),showTimeSelect:!0,timeFormat:"HH:mm",timeIntervals:5,dateFormat:"LLL",timeZone:"Etc/UTC",timeZoneData:[{value:"Etc/UTC",label:"Zulu (GMT 0)"}]})})]})]}),(0,d.jsx)("div",{className:"modal-bottom",children:(0,d.jsx)("button",{onClick:async()=>{if(!ts||""==ts)return void alert("A Aeronave \xe9 obrigat\xf3ria");if(!Ba||""==Ba||!Va||""==Va)return void alert("O T\xedtulo e descri\xe7\xe3o s\xe3o obrigat\xf3rios");let e=new Date(Ja),a=new Date(Qa);if(e.getTime()>a.getTime())alert("Data de t\xe9rmino menor do que a de in\xedcio");else{var s=e.getTimezoneOffset();e.setMinutes(e.getMinutes()-s);var t=a.getTimezoneOffset();a.setMinutes(a.getMinutes()-t);var i={titulo:Ba,descricao:Va,inicio:e.toISOString(),fim:a.toISOString(),id_aviao:$a};if(za){let e=as,a=await gt.updateManutencao(i,e);if(a.error)return void alert(a.error);Xa(""),Ka(""),qa(new Date),Wa(new Date),Ga(!1),Ha(!1),alert(a.msg),location.reload()}else{let e=await gt.createManutencao(i);e.error||(Xa(""),Ka(""),qa(new Date),Wa(new Date),Ga(!1),Ha(!1),alert(e.msg),location.reload())}}},className:"salvar",children:za?"Editar":"Salvar"})}),za&&(0,d.jsx)("div",{className:"modal-bottom",children:(0,d.jsx)("button",{onClick:()=>{window.confirm("Deseja mesmo excluir essa Manuten\xe7\xe3o?")&&Bt()},className:"excluir",children:"Excluir"})})]})]}),xs&&(0,d.jsxs)("div",{className:"modal-aviao",style:{alignItems:"flex-start",width:300},children:[(0,d.jsx)("span",{onClick:()=>{gs(!1),ys(""),Is(""),Ss(""),Ns(""),ks(""),Na(!1)},className:"title-modal",style:{color:"#fff",cursor:"pointer"},children:"X"}),(0,d.jsxs)("div",{className:"modal-body",style:{alignItems:"flex-start",justifyContent:"flex-start"},children:[(0,d.jsxs)("div",{className:"item-body-modal",style:{display:"flex",flexDirection:"column"},children:[(0,d.jsx)("span",{className:"text-modal",style:{color:"#fff"},children:"Status:"}),(0,d.jsx)("select",{style:{borderRadius:10},value:Ls,onChange:e=>{_s(e.target.value)},children:[{label:"Planejamento",value:"#fff000"},{label:"Executada",value:"#28a745"},{label:"PRPO",value:"#00ffff"},{label:"OPFM",value:"#FC0FC0"}].map(((e,a)=>(0,d.jsx)("option",{value:e.value,children:e.label},a)))})]}),(0,d.jsxs)("div",{className:"item-body-modal",style:{display:"flex",flexDirection:"column"},children:[(0,d.jsx)("span",{className:"text-modal",style:{color:"#fff"},children:"Planejamento::"}),(0,d.jsx)(f,{value:js,onChange:ys})]}),(0,d.jsxs)("div",{className:"item-body-modal",children:[(0,d.jsx)("span",{className:"text-modal",style:{color:"#fff"},children:"Ofrag:"}),(0,d.jsx)(f,{style:{width:"100% !important"},value:ws,onChange:Ns})]}),(0,d.jsxs)("div",{className:"item-body-modal",children:[(0,d.jsx)("span",{className:"text-modal",style:{color:"#fff"},children:"Trip:"}),(0,d.jsx)(f,{value:bs,onChange:Ss})]}),(0,d.jsxs)("div",{className:"item-body-modal",children:[(0,d.jsx)("span",{className:"text-modal",style:{color:"#fff"},children:"OBS:"}),(0,d.jsx)(f,{value:Cs,onChange:Is})]}),(0,d.jsx)("div",{className:"modal-bottom",style:{marginTop:10},children:(0,d.jsx)("button",{onClick:async()=>{if(!js||""==js)return void alert("Digite o planejamento");let[e,a,s]=Ds.split("/"),t={data:s+"-"+a+"-"+e,id_aeronave:Os,planejamento:js,ofrag:ws,trip:bs,obs:Cs,cor:Ls};if(wa)var i=await gt.editRascunho(As,t);else i=await gt.createRascunho(t);i.error?alert(i.error):(gs(!1),ys(""),Is(""),Ss(""),Ns(""),ks(""),Na(!1),alert(i.msg),location.reload())},className:"salvar",children:wa?"Editar":"Salvar"})})]})]}),zs&&(0,d.jsxs)("div",{className:"modal-aviao",style:{alignItems:"flex-start"},children:[(0,d.jsx)("span",{onClick:()=>{Hs(!1),Gs(""),ks("")},className:"title-modal",style:{color:"#fff",cursor:"pointer"},children:"X"}),(0,d.jsxs)("div",{className:"modal-body",style:{alignItems:"flex-start",justifyContent:"flex-start"},children:[(0,d.jsxs)("div",{className:"item-body-modal",style:{display:"flex",flexDirection:"column"},children:[(0,d.jsx)("span",{className:"text-modal",style:{color:"#fff"},children:"Aeronave:"}),(0,d.jsx)("select",{style:{borderRadius:10,marginTop:5},value:Ys,onChange:e=>{Gs(e.target.value)},children:Ce.map(((e,a)=>(0,d.jsx)("option",{value:e.id,children:e.aeronave},a)))})]}),(0,d.jsx)("div",{className:"modal-bottom",style:{marginTop:10},children:(0,d.jsx)("button",{onClick:async()=>{for(const e of Zs){let a={id_aeronave:Ys};await gt.editRascunho(e.id,a)}Us([]),Ps(!1),Gs(),alert("Aeronave trocada com sucesso"),location.reload()},className:"salvar",children:"Trocar Aeronave"})})]})]}),Qe&&(0,d.jsxs)("div",{className:"modal-aviao",children:[(0,d.jsxs)("div",{className:"modal-topo",children:[(0,d.jsx)("div",{className:"nome-aviao",children:(0,d.jsxs)("span",{className:"title-modal",style:{color:"#fff"},children:["FAB ",ta]})}),(0,d.jsx)("span",{onClick:()=>{We(!1)},className:"title-modal",style:{color:"#fff",cursor:"pointer"},children:"X"})]}),(0,d.jsxs)("div",{className:"modal-body",children:[(0,d.jsxs)("div",{className:"item-body-modal",children:[(0,d.jsx)("span",{className:"text-modal",style:{color:"#fff"},children:"Ciclos:"}),(0,d.jsx)(p,{value:$e,onChange:ea})]}),(0,d.jsxs)("div",{className:"item-body-modal",children:[(0,d.jsx)("span",{className:"text-modal",style:{color:"#fff"},children:"Horas:"}),(0,d.jsx)(h,{value:aa,onChange:sa})]}),(0,d.jsxs)("div",{className:"item-body-modal",children:[(0,d.jsx)("span",{className:"text-modal",style:{color:"#fff"},children:"Situa\xe7\xe3o:"}),(0,d.jsx)("select",{style:{borderRadius:10},value:oa,onChange:e=>{ra(e.target.value)},children:["DI","DO","IN","IS","II"].map(((e,a)=>(0,d.jsx)("option",{value:e,children:e},a)))})]}),(0,d.jsx)("div",{className:"item-body-modal",children:(0,d.jsxs)("span",{className:"text-modal",style:{color:"#fff"},children:["Atualizado por: ",la]})}),(0,d.jsx)("div",{className:"item-body-modal",children:(0,d.jsxs)("span",{className:"text-modal",style:{color:"#fff"},children:["Em: ",ca," Z"]})})]}),(0,d.jsx)("div",{className:"modal-bottom",children:(0,d.jsx)("button",{onClick:async()=>{if(""==oa||""==aa)return void alert("Todos os campos s\xe3o obrigat\xf3rios");let e={situacao:oa,ciclos:$e,horas:aa},a=await gt.updateAeronave(e,ma);a.error?alert(a.error):(ua(""),ea(""),sa(""),ra(""),We(!1),alert(a.msg),location.reload())},className:"salvar",children:"Salvar"})})]})]})}}}]);
//# sourceMappingURL=188.417780e4.chunk.js.map