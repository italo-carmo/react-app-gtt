"use strict";(self.webpackChunkApp_GTT=self.webpackChunkApp_GTT||[]).push([[87],{77087:function(e,t,a){a.r(t),a.d(t,{default:function(){return g}});var r=a(74165),n=a(15861),s=a(29439),i=a(72791),o=a(74819),c=a(36601),l=a(80184);o.kL.register(o.uw,o.f$,o.vn,o.ZL,o.ST,o.jn,o.u,o.De,c.Z);var u=function(e){var t=e.data,a=e.media,r=(0,i.useRef)(null);return(0,i.useEffect)((function(){if(t&&t.length>0){var e=t.map((function(e){return e.trigrama})),n=[];t.forEach((function(e){n.push(function(e){if("00:00"!==e){var t=e.split(":"),a=(0,s.Z)(t,2),r=a[0],n=a[1];return parseInt(r,10)+parseInt(n,10)/60}return 0}(e.horas))}));var i=document.getElementById("bar-chart").getContext("2d"),c=new o.kL(i,{type:"bar",data:{labels:e,datasets:[{label:"Horas Voadas",data:n,backgroundColor:"rgba(75, 192, 192, 0.2)",borderColor:"rgba(75, 192, 192, 1)",borderWidth:1}]},options:{responsive:!0,scales:{y:{display:!0,title:{display:!0,text:"Horas Voadas"},suggestedMax:140,suggestedMin:0,ticks:{stepSize:10}},x:{display:!0,title:{display:!0,text:"Trigramas"}}},plugins:{annotation:{annotations:{line1:{type:"line",yMin:a,yMax:a,borderColor:"rgb(255, 99, 132)",borderWidth:2}}}}}});r.current=c}}),[t]),(0,l.jsx)("canvas",{id:"bar-chart",width:"400",height:"200"})},d=a(5016),f=a(78983),p=(a(4751),a(21933)),g=function(){var e=(0,p.Z)(),t=(0,i.useState)([]),a=(0,s.Z)(t,2),o=a[0],c=a[1],g=(0,i.useState)("Piloto"),h=(0,s.Z)(g,2),m=h[0],x=(h[1],(0,i.useState)(0)),y=(0,s.Z)(x,2),b=y[0],v=y[1],T=(0,i.useState)(0),j=(0,s.Z)(T,2),Z=j[0],S=j[1],C=(0,i.useState)(!1),k=(0,s.Z)(C,2),I=k[0],w=k[1],M={excessoes:[{trigrama:"LTE",horas:"20:00"},{trigrama:"FAC",horas:"20:00"},{trigrama:"PTS",horas:"60:00"}]},E=[.04,.08,.16,.24,.32,.4,.5,.61,.72,.82,.92,1][(new Date).getMonth()],A=function(e){if("00:00"!==e){var t=e.split(":"),a=(0,s.Z)(t,2),r=a[0],n=a[1];return parseInt(r,10)+parseInt(n,10)/60}return 0},D=function(){var t=(0,n.Z)((0,r.Z)().mark((function t(){var a,n,s,i,o,l;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return w(!0),t.next=3,e.getEsforcoAereo();case 3:return a=t.sent,n=0,a.data.forEach((function(e){"TOTAL"==e.nome.trim()&&(n=e.alocado)})),s=A(n),i=0,t.next=10,e.getPauDeSebo();case 10:o=t.sent,l=[],o.error||(o.data.forEach((function(e){if(e.Funcao==m&&(console.log(e.Trigrama),l.push({trigrama:e.Trigrama,horas:e.Horas}),"Piloto"==m)){var t=M.excessoes.findIndex((function(t){return t.trigrama==e.Trigrama}));t>=0&&(i+=A(M.excessoes[t].horas))}})),S((s-i)/((l.length-M.excessoes.length)/2)),v((s-i)/((l.length-M.excessoes.length)/2)*E),c(l),w(!1));case 13:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),L=function(e){var t=Math.floor(e),a=Math.floor(60*(e-t));return"".concat(t.toString().padStart(2,"0"),":").concat(a.toString().padStart(2,"0"))};return(0,i.useEffect)((function(){D()}),[]),(0,l.jsx)(l.Fragment,{children:(0,l.jsxs)(f.xH,{className:"mb-6",style:{flexDirection:"column"},children:[I&&(0,l.jsx)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",marginTop:50},children:(0,l.jsx)(d.Z,{width:"150px",black:!0})}),(0,l.jsx)(u,{data:o,media:b}),(0,l.jsxs)("div",{className:"point-info",style:{display:"flex",flexDirection:"column",alignItens:"center",justifyContent:"center",marginTop:10,marginBottom:10},children:[(0,l.jsxs)("span",{style:{display:"flex",alignItems:"center",justifyContent:"center"},children:["M\xe9dia de horas anuais: ",L(Z)]}),(0,l.jsxs)("span",{style:{display:"flex",alignItems:"center",justifyContent:"center"},children:["M\xe9dia de horas esse m\xeas: ",L(b)]})]})]})})}}}]);
//# sourceMappingURL=87.775fd871.chunk.js.map