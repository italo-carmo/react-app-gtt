"use strict";(self.webpackChunkApp_GTT=self.webpackChunkApp_GTT||[]).push([[190],{72562:function(e,t,s){s.r(t),s.d(t,{default:function(){return y}});var n=s(74165),a=s(93433),r=s(15861),o=s(1413),i=s(29439),c=s(72791),u=s(78983),l=s(21933),d=s(59513),p=s.n(d),f=(s(68639),s(80184)),m=function(e){var t=e.maxLength,s=e.value,n=e.onChange,a=e.erro,r=e.onKeyPress;return(0,f.jsx)("input",{type:"text",value:s,onChange:function(e){var s=e.target.value.toUpperCase().replace(/[^A-Z]/g,"").substring(0,t);n(s)},maxLength:t,style:{border:a?"1px solid #ff0000":"1px solid #000"},onKeyPress:r})},v=function(e){var t=e.maxLength,s=e.value,n=e.onChange,a=e.erro,r=e.onKeyPress;return(0,f.jsx)("input",{type:"text",value:s,onChange:function(e){var s=e.target.value.toUpperCase().replace(/[^A-Z]/g,"").substring(0,t);n(s)},maxLength:t,style:{border:a?"1px solid #ff0000":"1px solid #000"},onKeyPress:r})},h=function(e){var t=e.value,s=e.onChange;return(0,f.jsx)("input",{type:"number",value:t,onChange:function(e){var t=e.target.value.toUpperCase().replace(/[^0-9]/g,"").substring(0,3);s(t)},maxLength:3,style:{border:"1px solid #000"}})},x=s(72426),g=s.n(x);s(73528);function j(e){var t=e.dep,s=e.pouso,n=e.horaDep,a=e.horaPouso,r=e.index,o=e.edit,i=e.del;return(0,f.jsxs)("div",{className:"view-etapa",children:[(0,f.jsxs)("div",{style:{color:"#000"},children:[r+1,"- ",n," ",t," - ",a," ",s]}),(0,f.jsxs)("div",{className:"botoes-etapa",children:[(0,f.jsx)("img",{src:"https://www.1gtt.com.br/app/pen.png",onClick:o,width:20,height:20}),(0,f.jsx)("img",{src:"https://www.1gtt.com.br/app/close.png",onClick:i,width:20,height:20})]})]})}var Z=s(5016);g().tz.setDefault("Etc/UTC");var y=function(){var e=(0,c.useState)([]),t=(0,i.Z)(e,2),s=t[0],d=t[1],x=(0,c.useState)([]),g=(0,i.Z)(x,2),y=g[0],w=g[1],b=(0,c.useState)([]),S=(0,i.Z)(b,2),C=S[0],k=S[1],N=(0,c.useState)(!1),I=(0,i.Z)(N,2),O=I[0],D=I[1],M=(0,c.useState)(!1),T=(0,i.Z)(M,2),L=T[0],E=T[1],P=(0,c.useState)(!1),A=(0,i.Z)(P,2),F=A[0],_=A[1],z=(0,c.useState)(!1),H=(0,i.Z)(z,2),U=H[0],K=H[1],R=(0,c.useState)(!1),Y=(0,i.Z)(R,2),G=Y[0],B=Y[1],J=(0,c.useState)([]),V=(0,i.Z)(J,2),X=V[0],q=V[1],Q=(0,c.useState)(new Date),W=(0,i.Z)(Q,2),$=W[0],ee=W[1],te=(0,c.useState)(new Date),se=(0,i.Z)(te,2),ne=se[0],ae=(se[1],(0,c.useState)({avioes:[]})),re=(0,i.Z)(ae,2),oe=re[0],ie=re[1],ce=(0,c.useState)(""),ue=(0,i.Z)(ce,2),le=ue[0],de=ue[1],pe=(0,c.useState)(!1),fe=(0,i.Z)(pe,2),me=fe[0],ve=fe[1],he=(0,c.useState)(""),xe=(0,i.Z)(he,2),ge=xe[0],je=xe[1],Ze=(0,c.useState)(""),ye=(0,i.Z)(Ze,2),we=ye[0],be=ye[1],Se=(0,c.useState)(""),Ce=(0,i.Z)(Se,2),ke=Ce[0],Ne=Ce[1],Ie=(0,c.useState)(new Date),Oe=(0,i.Z)(Ie,2),De=Oe[0],Me=Oe[1],Te=(0,c.useState)(new Date),Le=(0,i.Z)(Te,2),Ee=Le[0],Pe=Le[1],Ae=(0,c.useState)(!1),Fe=(0,i.Z)(Ae,2),_e=Fe[0],ze=Fe[1],He=(0,c.useState)(!1),Ue=(0,i.Z)(He,2),Ke=Ue[0],Re=Ue[1],Ye=(0,c.useState)(!1),Ge=(0,i.Z)(Ye,2),Be=Ge[0],Je=Ge[1],Ve=(0,c.useState)({aviao:"",eventos:[]}),Xe=(0,i.Z)(Ve,2),qe=Xe[0],Qe=Xe[1],We=(0,c.useState)([]),$e=(0,i.Z)(We,2),et=$e[0],tt=$e[1],st=(0,c.useState)(""),nt=(0,i.Z)(st,2),at=nt[0],rt=nt[1],ot=(0,c.useState)([]),it=(0,i.Z)(ot,2),ct=it[0],ut=it[1],lt=(0,c.useState)(!1),dt=(0,i.Z)(lt,2),pt=dt[0],ft=dt[1],mt=(0,c.useState)(!1),vt=(0,i.Z)(mt,2),ht=vt[0],xt=vt[1],gt=(0,c.useState)(""),jt=(0,i.Z)(gt,2),Zt=jt[0],yt=jt[1],wt=(0,c.useState)(""),bt=(0,i.Z)(wt,2),St=bt[0],Ct=bt[1],kt=(0,c.useState)(""),Nt=(0,i.Z)(kt,2),It=Nt[0],Ot=Nt[1],Dt=(0,c.useState)(""),Mt=(0,i.Z)(Dt,2),Tt=Mt[0],Lt=Mt[1],Et=(0,c.useState)(""),Pt=(0,i.Z)(Et,2),At=Pt[0],Ft=Pt[1],_t=(0,c.useState)([]),zt=(0,i.Z)(_t,2),Ht=zt[0],Ut=zt[1],Kt=(0,l.Z)(),Rt=function(){D(!1)},Yt=function(){var e=(0,r.Z)((0,n.Z)().mark((function e(t){var r,o;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Je(!1),"Enter"!==t.key){e.next=8;break}return r=(0,a.Z)(s),e.next=5,Kt.getTrigrama(St);case 5:o=e.sent,console.log(o),o.error?Je(o.error):(r.push({id:o.data.id_user,trigrama:o.data.trigrama,funcao:o.data.Usuario.FuncoesAbordo.nome}),d(r),Ct(""));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Gt=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],s=new Date(e);s.setDate(s.getDate()-1);for(var n=[],a=0;a<=6;a++){if(0!=a)var r=s.setDate(s.getDate()+1);else r=s.setDate(s.getDate());var o=new Date(r),i=o.getDate(),c=o.getMonth()+1;i<=9&&(i="0"+i),c<=9&&(c="0"+c);var u=i+"/"+c+"/"+o.getFullYear();n.push(u)}q(n),Vt(n,t)},Bt=function(){var e=(0,r.Z)((0,n.Z)().mark((function e(){var t;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Kt.getOfrags();case 2:(t=e.sent).error||Ut(t.data.reverse());case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Jt=function(){var e=(0,r.Z)((0,n.Z)().mark((function e(){var t,s,a,r;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Ne(""),""!=et){e.next=4;break}return Ne("A aeronave \xe9 obrigat\xf3ria"),e.abrupt("return");case 4:if(""==At){e.next=9;break}return e.next=7,Kt.getOfrag(At);case 7:(t=e.sent).error||(s=[],a=(0,o.Z)({},oe),t.data.missoes[0].rotaOfrag.etapas.forEach((function(e){var t=e.dataHoraDecolagem.split("T"),n=(0,i.Z)(t,2),r=n[0],o=n[1],c=r.split("-"),u=(0,i.Z)(c,3),l=u[0],d=u[1],p=u[2],f=o.split(":"),m=(0,i.Z)(f,3),v=m[0],h=m[1];m[2];if(e.dataHoraPouso){var x=e.dataHoraPouso.split("T"),g=(0,i.Z)(x,2),j=g[0],Z=g[1],y=j.split("-"),w=(0,i.Z)(y,3),b=(w[0],w[1],w[2],Z.split(":")),S=(0,i.Z)(b,3),C=S[0],k=S[1];S[2]}var N={data:"".concat(p,"/").concat(d,"/").concat(l),tipo:"missao",missao:{id:Math.floor(1e4*Math.random())+1,dep:e.codigoIcaoOrigem,horaDep:"".concat(v,":").concat(h,"Z"),pouso:e.codigoIcaoDestino,horaPouso:e.dataHoraPouso?"".concat(C,":").concat(k,"Z"):"",depISO:e.dataHoraDecolagem,pousoISO:e.dataHoraPouso,tripulacao:[],omis:"",edicao:!0},manutencao:null},I=a.avioes.findIndex((function(e){return e.aviao==et}));I>=0&&a.avioes[I].eventos.push(N),s.push(N)})),s.length>0&&((r=(0,o.Z)({},qe)).eventos=s,Qe(r),Ne(""),ie(a)));case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Vt=function(){var e=(0,r.Z)((0,n.Z)().mark((function e(t){var s,a,r,o,i,c,u=arguments;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=u.length>1&&void 0!==u[1]&&u[1],a=t[0],r=t[6],e.next=5,Kt.getMissoesAvioes({inicio:a,fim:r});case 5:(o=e.sent).error||(i=o.data,s||qe.eventos.length>0&&(c=i.findIndex((function(e){return e.aviao==et})))>=0&&qe.eventos.forEach((function(e){i[c].eventos.push(e)})),ie({avioes:i}));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Xt=function(){var e=(0,r.Z)((0,n.Z)().mark((function e(){var t;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Kt.getAeronaves();case 2:(t=e.sent).error||ut(t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),qt=function(e,t){var s=new Date($);t?s.setDate(s.getDate()-e):s.setDate(s.getDate()+e),ee(s)},Qt=function(){var e=(0,r.Z)((0,n.Z)().mark((function e(){var t,s,a,r,o;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""==De||""==Ee||4!=ge.length||4!=we.length){e.next=8;break}return ze(!1),Re(!1),Ne(""),e.next=6,Kt.getDistanciaAerodromos({origem:ge,destino:we});case 6:(t=e.sent).error?(o=t.error,Ne(t.error),o.includes(ge)&&ze(!0),o.includes(we)&&Re(!0)):(s=t.data.distancia,a=Math.round(60*s/400),a=5*Math.ceil(a/5),(r=new Date(De)).setMinutes(r.getMinutes()+a),Pe(r));case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Wt=function(e,t){be("");var s=new Date(t);s.setMinutes(s.getMinutes()+120);var n=s.getTimezoneOffset();s.setMinutes(s.getMinutes()+n),Me(s),je(e),Pe(s)},$t=function(){var e=(0,r.Z)((0,n.Z)().mark((function e(){var t,a,o,i;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(xt(!0),F){e.next=22;break}if(""!=et&&0!=qe.eventos.length){e.next=6;break}return alert("Todos os campos s\xe3o obrigat\xf3rios!"),xt(!1),e.abrupt("return");case 6:return e.next=8,Kt.createMissao();case 8:if((t=e.sent).error){e.next=20;break}return a=t.data.id,qe.eventos.forEach(function(){var e=(0,r.Z)((0,n.Z)().mark((function e(s,r){var o,i,c;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Kt.getAerodromo(s.missao.dep);case 2:return o=e.sent,e.next=5,Kt.getAerodromo(s.missao.pouso);case 5:return i=e.sent,c={dep:s.missao.depISO,pouso:s.missao.pousoISO,id_missao:a,id_aeronave:at,id_dep:o.data.id,id_pouso:i.data.id},e.next=9,Kt.createEtapa(c);case 9:if(!e.sent.error){e.next=15;break}return alert(t.etapa.error),e.abrupt("return");case 15:r==qe.eventos.length-1&&(ie({avioes:[]}),ns(),Gt($,!0),E(!1),xt(!1),console.log(qe),console.log(oe));case 16:case"end":return e.stop()}}),e)})));return function(t,s){return e.apply(this,arguments)}}()),o=[],s.forEach((function(e){o.push(e.id)})),i={id_missao:a,id_militares:o},e.next=17,Kt.createEscala(i);case 17:xt(!1),e.next=22;break;case 20:xt(!1),alert(t.error);case 22:Gt($);case 23:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),es=function(){var e=(0,r.Z)((0,n.Z)().mark((function e(){var t,a,o,i,c,u,l,d,p;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return xt(!0),t=Zt,a=qe.eventos.map(function(){var e=(0,r.Z)((0,n.Z)().mark((function e(t){var s,a,r;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s={},e.next=3,Kt.getAerodromo(t.missao.dep);case 3:return a=e.sent,e.next=6,Kt.getAerodromo(t.missao.pouso);case 6:return r=e.sent,s.dep=t.missao.depISO,s.pouso=t.missao.pousoISO,s.id_aeronave=at,s.id_dep=a.data.id,s.id_pouso=r.data.id,t.missao.edicao?s.id=null:s.id=t.missao.id,e.abrupt("return",s);case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=5,Promise.all(a);case 5:return o=e.sent,i={etapas:o,id_missao:t},e.next=9,Kt.updateEtapas(i);case 9:if(!(c=e.sent).error){e.next=16;break}return xt(!1),alert(c.error),e.abrupt("return");case 16:return u=[],s.forEach((function(e){u.push(e.id)})),l={id_missao:t,id_militares:u},e.next=21,Kt.updateEscala(l);case 21:if(d={},""!=It&&(p=(new Date).getFullYear().toString().substring(2,4),d.numero=1e3*parseInt(p)+parseInt(It)),""!=Tt&&(d.comentarios=Tt),!d.omis&&!d.comentarios){e.next=27;break}return e.next=27,Kt.updateMissao(d,t);case 27:ns(),E(!1),Gt($,!0);case 30:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ts=function(){var e=(0,r.Z)((0,n.Z)().mark((function e(){var t,s;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(ft(!0),!window.confirm("Deseja mesmo excluir essa miss\xe3o?")){e.next=16;break}return t=qe.eventos[0].missao.id_missao,e.next=6,Kt.deleteMissao(t);case 6:if(!(s=e.sent).error){e.next=11;break}return ft(!1),alert(s.error),e.abrupt("return");case 11:ft(!1),ie({avioes:[]}),ns(),E(!1),Gt($,!0);case 16:ft(!1);case 17:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ss=function(e){var t=(0,a.Z)(s);t=t.filter((function(t){if(t.id!=e)return t})),d(t)},ns=function(){Qe({aviao:"",eventos:[]});var e=(0,o.Z)({},oe),t=e.avioes.findIndex((function(e){return e.aviao==et}));t>=0&&(e.avioes[t].eventos=e.avioes[t].eventos.filter((function(e){if(!e.missao.edicao)return e}))),ie(e),be(""),je(""),Me(new Date),Pe(new Date),tt(""),Lt(""),Ot(""),_(!1),K(!1),Gt($,!0)},as=function(){if(Ne(""),""!=we&&""!=ge&&""!=De&&""!=Ee)if(""!=et){var e=De.getTimezoneOffset();De.setMinutes(De.getMinutes()-e);var t=Ee.getTimezoneOffset();Ee.setMinutes(Ee.getMinutes()-t);var s=De.toISOString(),n=Ee.toISOString(),a=s.split("T"),r=(0,i.Z)(a,2),c=r[0],u=r[1],l=n.split("T"),d=(0,i.Z)(l,2),p=(d[0],d[1]),f=c.split("-"),m=(0,i.Z)(f,3),v=m[0],h=m[1],x=m[2],g=u.split(":"),j=(0,i.Z)(g,3),Z=j[0],y=j[1],w=(j[2],p.split(":")),b=(0,i.Z)(w,3),S=b[0],C=b[1],k=(b[2],(0,o.Z)({},qe)),N=(0,o.Z)({},oe),I=k.eventos[G],O={data:"".concat(x,"/").concat(h,"/").concat(v),tipo:"missao",missao:{id:I.missao.id,dep:ge,horaDep:"".concat(Z,":").concat(y,"Z"),pouso:we,horaPouso:"".concat(S,":").concat(C,"Z"),depISO:De,pousoISO:Ee,tripulacao:[],omis:"",edicao:I.missao.edicao},manutencao:null};k.eventos[G]=O,Qe(k);var D=N.avioes.findIndex((function(e){return e.aviao==et}));if(D>=0){var M=N.avioes[D].eventos.findIndex((function(e){return e.missao.id==I.missao.id}));M>=0&&(N.avioes[D].eventos[M]=O,ie(N))}var T=k.eventos[k.eventos.length-1].missao.pouso,L=k.eventos[k.eventos.length-1].missao.pousoISO;K(!1),B(""),Wt(T,L)}else Ne("A aeronave \xe9 obrigat\xf3ria");else Ne("Todos os campos s\xe3o obrigat\xf3rios")},rs=function(){var e=(0,r.Z)((0,n.Z)().mark((function e(){var t,s,a,r,c,u,l,d,p,f,m,v,h,x,g,j,Z,y,w,b,S,C,k,N,I,O,D,M;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Ne(""),""!=we&&""!=ge&&""!=De&&""!=Ee){e.next=4;break}return Ne("Todos os campos s\xe3o obrigat\xf3rios"),e.abrupt("return");case 4:if(""!=et){e.next=7;break}return Ne("A aeronave \xe9 obrigat\xf3ria"),e.abrupt("return");case 7:t=De.getTimezoneOffset(),De.setMinutes(De.getMinutes()-t),s=Ee.getTimezoneOffset(),Ee.setMinutes(Ee.getMinutes()-s),a=De.toISOString(),r=Ee.toISOString(),c=a.split("T"),u=(0,i.Z)(c,2),l=u[0],d=u[1],p=r.split("T"),f=(0,i.Z)(p,2),f[0],m=f[1],v=l.split("-"),h=(0,i.Z)(v,3),x=h[0],g=h[1],j=h[2],Z=d.split(":"),y=(0,i.Z)(Z,3),w=y[0],b=y[1],y[2],S=m.split(":"),C=(0,i.Z)(S,3),k=C[0],N=C[1],C[2],I={data:"".concat(j,"/").concat(g,"/").concat(x),tipo:"missao",missao:{id:Math.floor(1e4*Math.random())+1,dep:ge,horaDep:"".concat(w,":").concat(b,"Z"),pouso:we,horaPouso:"".concat(k,":").concat(N,"Z"),depISO:De,pousoISO:Ee,tripulacao:[],omis:"",edicao:!0},manutencao:null},(O=(0,o.Z)({},qe)).eventos.push(I),D=(0,o.Z)({},oe),(M=D.avioes.findIndex((function(e){return e.aviao==et})))>=0&&D.avioes[M].eventos.push(I),ie(D),Qe(O),Wt(we,Ee);case 27:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();(0,c.useEffect)((function(){!function(){if(qe.eventos.length>0){var e=(0,o.Z)({},oe);e.avioes.forEach((function(t,s){if(t.eventos.length>0){var n=t.eventos.filter((function(e){if(qe.eventos.findIndex((function(t){return t.missao.id==e.missao.id}))<0)return e}));e.avioes[s].eventos=n}}));var t=e.avioes.findIndex((function(e){return e.aviao==et}));t>=0&&qe.eventos.forEach((function(s){e.avioes[t].eventos.push(s)})),ie(e)}}()}),[et]),(0,c.useEffect)((function(){Qt()}),[we,ge,De]),(0,c.useEffect)((function(){Xt(),Bt()}),[]),(0,c.useEffect)((function(){Gt($)}),[$]);var os=(0,c.forwardRef)((function(e,t){e.value;var s=e.onClick;return(0,f.jsx)("button",{className:"calendario",onClick:s,ref:t,children:$.toLocaleString("pt-BR",{month:"long"}).toUpperCase()+"/"+$.getFullYear()})})),is=function(e){e.value;var t=e.onClick;return(0,f.jsx)("button",{className:"calendario",onClick:t,children:"+"})};return(0,f.jsx)(f.Fragment,{children:(0,f.jsxs)(u.xH,{className:"mb-6",style:{flexDirection:"column"},children:[(0,f.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",padding:10},children:[(0,f.jsx)("div",{className:"",children:(0,f.jsx)(p(),{selected:$,timeInputLabel:$.toLocaleString("pt-BR",{month:"long"}).toUpperCase()+"/"+$.getFullYear(),onChange:function(e){return ee(e)},customInput:(0,f.jsx)(os,{})})}),(0,f.jsxs)("div",{className:"botoes",children:[(0,f.jsx)("button",{className:"calendario",onClick:function(){return qt(7,!0)},children:"<<"}),(0,f.jsx)("button",{className:"calendario",onClick:function(){return qt(1,!0)},children:"<"}),(0,f.jsx)("button",{className:"calendario",onClick:function(){ee(ne)},children:"HOJE"}),(0,f.jsx)("button",{className:"calendario",onClick:function(){return qt(1,!1)},children:">"}),(0,f.jsx)("button",{className:"calendario",onClick:function(){return qt(7,!1)},children:">>"})]}),(0,f.jsx)("div",{children:(0,f.jsx)("button",{onClick:function(){ft(!1),xt(!1),_(!1),E(!0)},className:"criar",children:"Criar Miss\xe3o"})})]}),(0,f.jsxs)("div",{style:{display:"flex",flexDirection:"column",width:"100%"},children:[(0,f.jsxs)("div",{className:"topo",children:[(0,f.jsx)("div",{className:"missao",children:"Avi\xe3o"}),X.map((function(e,t){var s=ne.getDate(),n=ne.getMonth()+1;s<=9&&(s="0"+s),n<=9&&(n="0"+n);var a=s+"/"+n+"/"+ne.getFullYear();return(0,f.jsx)("div",{className:"missao",style:{backgroundColor:a==e?"#46a31d":"#000"},children:e})}))]}),(0,f.jsx)("div",{className:"missoes",children:oe.avioes.length>0&&oe.avioes.map((function(e){return(0,f.jsxs)("div",{className:"missao-item",children:[(0,f.jsx)("div",{className:"missao aviao",children:e.aviao}),X.map((function(t){return(0,f.jsx)("div",{className:"item-missao",children:e.eventos.length>0&&e.eventos.map((function(s){if(s.data==t)return(0,f.jsxs)("div",{onClick:function(){return function(e){ft(!1),xt(!1),_(!0),K(!1);var t=e.eventos[0].missao.id_missao;yt(t);var s=(0,o.Z)({},qe),n=[];e.eventos[0].missao.tripulacao.forEach((function(e){n.push(e)}));var a=e.eventos[0].comentarios;Lt(a);var r=e.eventos[0].missao.omis;Ot(r),d(n),s.eventos=e.eventos,Qe(s),E(!0),tt(e.aviao);var i=ct.findIndex((function(t){return t.aeronave==e.aviao}));i>=0&&rt(ct[i].id)}(e)},className:"missao-white white",onMouseEnter:function(){return function(e,t){k(e);var s=t.tripulacao.map((function(e){return e.trigrama}));w(s.join("/")),de(t),D(!0)}(s.missao.id,s.missao)},onMouseLeave:Rt,children:[O&&C==s.missao.id&&null!=s.missao.id&&(0,f.jsxs)("div",{style:{position:"absolute",top:"100%",left:"0",background:"#000",color:"#fff",padding:"10px",border:"1px solid black",zIndex:1},children:[(0,f.jsxs)("p",{style:{fontSize:"1vw"},children:["OMIS: ",le.omis]}),(0,f.jsxs)("p",{style:{fontSize:"1vw"},children:["Tripula\xe7\xe3o: ",y]})]}),(0,f.jsxs)("div",{className:"text-missao",children:[s.missao.horaDep," ",s.missao.dep]}),(0,f.jsxs)("div",{className:"text-missao",children:[s.missao.horaPouso," ",s.missao.pouso," "]})]})}))})}))]})}))})]}),(0,f.jsxs)("div",{className:L?"modal-create-visible":"modal-create",children:[(0,f.jsx)("div",{style:{display:"flex",justifyContent:"flex-end",margin:10,cursor:"pointer"},children:(0,f.jsx)("div",{onClick:function(){window.confirm("Deseja mesmo sair? Todos os dados adicionados at\xe9 o momento ser\xe3o perdidos")&&(ns(),E(!1))},style:{color:"#fff"},children:"X"})}),(0,f.jsx)("div",{className:"criar-div",children:(0,f.jsxs)("h3",{style:{color:"#fff"},children:[F?"Editar":"Criar"," Miss\xe3o"]})}),(0,f.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",marginTop:20,alignItems:"center"},children:[(0,f.jsx)("span",{style:{color:"#fff"},children:"Avi\xe3o:"}),ct.map((function(e){return(0,f.jsx)("button",{onClick:function(){tt(e.aeronave),rt(e.id);var t=(0,o.Z)({},qe);t.aviao=e.aeronave,Qe(t)},style:{backgroundColor:et==e.aeronave?"#28a745":"#FFF",color:et==e.aeronave?"#fff":"#000"},className:"botao-aviao",children:e.aeronave})}))]}),(0,f.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",marginTop:20,alignItems:"center"},children:[(0,f.jsx)("span",{style:{color:"#fff"},children:"OMIS:"}),(0,f.jsxs)("div",{style:{color:"#fff"},children:[(0,f.jsx)(h,{value:It,onChange:Ot}),(0,f.jsx)("span",{style:{marginLeft:5},children:"/ "+(new Date).getFullYear().toString().substring(2,4)})]})]}),(0,f.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",marginTop:20,alignItems:"center"},children:[(0,f.jsx)("span",{style:{color:"#fff"},children:"OFRAG:"}),(0,f.jsxs)("div",{style:{color:"#fff"},children:[(0,f.jsxs)("select",{style:{borderRadius:5},value:At,onChange:function(e){Ft(e.target.value)},children:[(0,f.jsx)("option",{value:"",children:"Selecione uma op\xe7\xe3o"}),Ht.length>0?Ht.map((function(e,t){return(0,f.jsx)("option",{value:e.id,children:e.numero},t)})):null]}),""!=At?(0,f.jsx)("button",{onClick:Jt,className:"cumprir",children:"Cumprir"}):null]})]}),(0,f.jsxs)("div",{className:"add-etapa",children:[(0,f.jsx)("span",{style:{color:"#fff"},children:"Etapas:"}),(0,f.jsx)("img",{onClick:function(){if(!U&&me&&ve(!1),!U&&!me&&(ve(!0),qe.eventos.length>0)){var e=qe.eventos[qe.eventos.length-1].missao.pouso,t=qe.eventos[qe.eventos.length-1].missao.pousoISO;Wt(e,t)}U&&K(!1)},style:{cursor:"pointer"},src:"https://www.1gtt.com.br/app/add-white.png",width:20,height:20})]}),(me||U)&&(0,f.jsxs)("div",{className:"form-area",children:[(0,f.jsxs)("div",{className:"form-add",children:[(0,f.jsx)("span",{style:{color:"#000"},children:"DEP: "}),(0,f.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[De.toLocaleString([],{year:"numeric",month:"2-digit",day:"2-digit",hour:"numeric",minute:"numeric"})+"Z",(0,f.jsx)("div",{className:"",style:{marginLeft:10},children:(0,f.jsx)(p(),{selected:De,timeInputLabel:De,onChange:function(e){Me(e)},customInput:(0,f.jsx)(is,{}),showTimeSelect:!0,timeFormat:"HH:mm",timeIntervals:10,dateFormat:"LLL",timeZone:"Etc/UTC",timeZoneData:[{value:"Etc/UTC",label:"Zulu (GMT 0)"}]})})]})]}),(0,f.jsxs)("div",{className:"form-add",children:[(0,f.jsx)("span",{style:{color:"#000"},children:"ICAO de Origem: "}),(0,f.jsx)(m,{erro:_e,maxLength:4,value:ge,onChange:je})]}),(0,f.jsxs)("div",{className:"form-add",children:[(0,f.jsx)("span",{style:{color:"#000"},children:"ICAO de Destino: "}),(0,f.jsx)(m,{onKeyPress:function(e){"Enter"===e.key&&(U?as():rs())},erro:Ke,maxLength:4,value:we,onChange:be})]}),(0,f.jsxs)("div",{className:"form-add",children:[(0,f.jsx)("span",{style:{color:"#000"},children:"Pouso: "}),(0,f.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[Ee.toLocaleString([],{year:"numeric",month:"2-digit",day:"2-digit",hour:"numeric",minute:"numeric"})+"Z",(0,f.jsx)("div",{className:"",style:{marginLeft:10},children:(0,f.jsx)(p(),{selected:Ee,timeInputLabel:Ee,onChange:function(e){Pe(e)},customInput:(0,f.jsx)(is,{}),showTimeSelect:!0,timeFormat:"HH:mm",timeIntervals:10,dateFormat:"LLL"})})]})]}),(0,f.jsxs)("div",{className:"botoes-add-etapa",children:[(0,f.jsx)("button",{onClick:function(){je(""),be(""),Me(""),Pe(""),ve(!1),K(!1)},className:"cancelar",children:"Cancelar"}),(0,f.jsx)("button",{className:"adicionar",onClick:U?as:rs,children:U?"Editar":"Adicionar"})]}),""!=ke&&(0,f.jsx)("div",{style:{marginTop:10},class:"alert alert-danger",role:"alert",children:ke})]}),qe.eventos.map((function(e,t){return(0,f.jsx)(j,{edit:function(){B(t),K(!0),function(e){var t=(0,o.Z)({},qe).eventos[e];je(t.missao.dep),be(t.missao.pouso),"string"==typeof t.missao.depISO&&(t.missao.depISO=new Date(t.missao.depISO)),"string"==typeof t.missao.pousoISO&&(t.missao.pousoISO=new Date(t.missao.pousoISO));var s=t.missao.depISO.getTimezoneOffset();t.missao.depISO.setMinutes(t.missao.depISO.getMinutes()+s);var n=t.missao.pousoISO.getTimezoneOffset();t.missao.pousoISO.setMinutes(t.missao.pousoISO.getMinutes()+n),Me(t.missao.depISO),Pe(t.missao.pousoISO)}(t)},del:function(){var e=(0,o.Z)({},qe),s=e.eventos.filter((function(e,s){if(s!=t)return e}));e.eventos=s,Qe(e)},index:t,dep:e.missao.dep,pouso:e.missao.pouso,horaDep:e.missao.horaDep,horaPouso:e.missao.horaPouso})})),(0,f.jsxs)("div",{className:"add-trip",children:[(0,f.jsx)("span",{style:{color:"#fff"},children:"Tripula\xe7\xe3o:"}),(0,f.jsx)(v,{maxLength:3,value:St,onChange:Ct,onKeyPress:Yt}),Be&&(0,f.jsx)("div",{style:{marginTop:10},class:"alert alert-danger",role:"alert",children:Be}),(0,f.jsx)("div",{className:"tripulante-row",children:(0,f.jsx)("span",{style:{color:"#fff"},className:"tripulante",children:"Pilotos:"})}),(0,f.jsx)("div",{className:"caixa-tripulante",children:s.map((function(e){if("Piloto"==e.funcao)return(0,f.jsxs)("div",{className:"tripulante-item",children:[e.trigrama,(0,f.jsx)("img",{style:{marginLeft:5,cursor:"pointer"},onClick:function(){return ss(e.id)},src:"https://www.1gtt.com.br/app/close.png",width:"15px"})]})}))}),(0,f.jsx)("div",{className:"tripulante-row",children:(0,f.jsx)("span",{style:{color:"#fff"},className:"tripulante",children:"Mec\xe2nicos:"})}),(0,f.jsx)("div",{className:"caixa-tripulante",children:s.map((function(e){if("Mec\xe2nico de Voo"==e.funcao)return(0,f.jsxs)("div",{className:"tripulante-item",children:[e.trigrama,(0,f.jsx)("img",{style:{marginLeft:5,cursor:"pointer"},onClick:function(){return ss(e.id)},src:"https://www.1gtt.com.br/app/close.png",width:"15px"})]})}))}),(0,f.jsx)("div",{className:"tripulante-row",children:(0,f.jsx)("span",{style:{color:"#fff"},className:"tripulante",children:"Loadmasters:"})}),(0,f.jsx)("div",{className:"caixa-tripulante",children:s.map((function(e){if("Loadmaster"==e.funcao)return(0,f.jsxs)("div",{className:"tripulante-item",children:[e.trigrama,(0,f.jsx)("img",{style:{marginLeft:5,cursor:"pointer"},onClick:function(){return ss(e.id)},src:"https://www.1gtt.com.br/app/close.png",width:"15px"})]})}))}),(0,f.jsx)("div",{className:"tripulante-row",children:(0,f.jsx)("span",{style:{color:"#fff"},className:"tripulante",children:"Comiss\xe1rios:"})}),(0,f.jsx)("div",{className:"caixa-tripulante",children:s.map((function(e){if("Comiss\xe1rio"==e.funcao)return(0,f.jsxs)("div",{className:"tripulante-item",children:[e.trigrama,(0,f.jsx)("img",{style:{marginLeft:5,cursor:"pointer"},onClick:function(){return ss(e.id)},src:"https://www.1gtt.com.br/app/close.png",width:"15px"})]})}))}),(0,f.jsx)("div",{className:"tripulante-row",children:(0,f.jsx)("span",{style:{color:"#fff"},className:"tripulante",children:"OE-3:"})}),(0,f.jsx)("div",{className:"caixa-tripulante",children:s.map((function(e){if("O3"==e.funcao)return(0,f.jsxs)("div",{className:"tripulante-item",children:[e.trigrama,(0,f.jsx)("img",{style:{marginLeft:5,cursor:"pointer"},onClick:function(){return ss(e.id)},src:"https://www.1gtt.com.br/app/close.png",width:"15px"})]})}))})]}),(0,f.jsxs)("div",{style:{marginTop:30,display:"flex",flexDirection:"column"},children:[(0,f.jsx)("span",{style:{color:"#fff"},children:"Coment\xe1rios: "}),(0,f.jsx)("textarea",{value:Tt,onChange:function(e){return Lt(e.target.value)},style:{borderRadius:10,padding:5}})]}),(0,f.jsxs)("div",{className:"botoes-add-etapa",style:{marginTop:30},children:[(0,f.jsx)("button",{className:"cancelar",style:{fontSize:"1vw"},onClick:ns,children:"Limpar"}),ht?(0,f.jsx)(Z.Z,{}):(0,f.jsx)("button",{className:"adicionar",style:{fontSize:"1vw"},onClick:F?es:$t,children:F?"Editar Miss\xe3o":"Criar Miss\xe3o"})]}),(0,f.jsxs)("div",{className:"botoes-add-etapa",style:{marginTop:30,justifyContent:"center"},children:[pt&&(0,f.jsx)(Z.Z,{}),F?(0,f.jsx)("button",{className:"cancelar",style:{fontSize:"1.3vw"},onClick:ts,children:"Excluir Miss\xe3o"}):(0,f.jsx)(f.Fragment,{})]})]})]})})}}}]);
//# sourceMappingURL=190.e177dcc8.chunk.js.map