"use strict";(self.webpackChunkApp_GTT=self.webpackChunkApp_GTT||[]).push([[983],{49983:function(e,t,a){a.r(t),a.d(t,{default:function(){return C}});var n=a(93433),s=a(74165),r=a(1413),o=a(15861),i=a(29439),c=a(72791),l=a(78983),u=a(21933),d=a(59513),m=a.n(d),p=(a(68639),a(80184)),f=function(e){var t=e.maxLength,a=e.value,n=e.onChange,s=e.erro,r=e.onKeyPress,o=e.id,i=void 0===o?"":o;return(0,p.jsx)("input",{type:"text",id:i,value:a,onChange:function(e){var a=e.target.value.toUpperCase().replace(/[^A-Z]/g,"").substring(0,t);n(a)},maxLength:t,style:{border:s?"1px solid #ff0000":"1px solid #000"},onKeyPress:r})},v=function(e){var t=e.maxLength,a=e.value,n=e.onChange,s=e.erro,r=e.onKeyPress;return(0,p.jsx)("input",{type:"text",value:a,onChange:function(e){var a=e.target.value.toUpperCase().replace(/[^A-Z]/g,"").substring(0,t);n(a)},maxLength:t,style:{border:s?"1px solid #ff0000":"1px solid #000"},onKeyPress:r})},h=function(e){var t=e.value,a=e.onChange,n=e.disabled;return(0,p.jsx)("input",{type:"number",value:t,onChange:function(e){var t=e.target.value.toUpperCase().replace(/[^0-9]/g,"").substring(0,6);a(t)},maxLength:6,disabled:n,style:{border:"1px solid #000",backgroundColor:"#fff"}})},x=function(e){var t=e.value,a=e.onChange;return(0,p.jsx)("input",{type:"number",value:t,onChange:function(e){var t=e.target.value.toUpperCase().replace(/[^0-9]/g,"").substring(0,5);a(t)},maxLength:5,style:{border:"1px solid #000"}})},g=function(e){var t=e.value,a=e.onChange;return(0,p.jsx)("input",{type:"number",value:t,onChange:function(e){var t=e.target.value.toUpperCase().replace(/[^0-9]/g,"").substring(0,5);a(t)},maxLength:5,style:{border:"1px solid #000",width:80}})},j=function(e){var t=e.value,a=e.onChange;return(0,p.jsx)("input",{type:"text",value:t,onChange:function(e){var t=e.target.value;a(t)},maxLength:7,style:{border:"1px solid #000",width:80}})},b=function(e){var t=e.value,a=e.onChange;return(0,p.jsx)("input",{type:"text",value:t,onChange:function(e){var t=e.target.value;a(t)},maxLength:255,style:{border:"1px solid #000"}})},Z=function(e){var t=e.value,a=e.onChange;return(0,p.jsx)("textarea",{type:"text",value:t,onChange:function(e){var t=e.target.value;a(t)},maxLength:255,style:{border:"1px solid #000",borderRadius:10,width:"100%",marginTop:5}})},y=a(72426),w=a.n(y);a(73528);function S(e){var t=e.dep,a=e.data,n=e.pouso,s=e.alternativa,r=e.horaDep,o=e.horaPouso,i=e.index,c=e.edit,l=e.del,u=!1;return t&&n&&s&&r&&o&&""!=t&&""!=n&&""!=s&&""!=r&&""!=o&&(u=!0),(0,p.jsxs)("div",{className:u?"view-etapa complete":"view-etapa",children:[(0,p.jsxs)("div",{className:u?"complete-text":"",style:{color:"#000"},children:[i+1,"- ",a," - ",r," ",t," - ",o," ",n]}),(0,p.jsxs)("div",{className:"botoes-etapa",children:[(0,p.jsx)("img",{src:u?"https://www.1gtt.com.br/app/pen-white.png":"https://www.1gtt.com.br/app/pen.png",onClick:c,width:20,height:20}),(0,p.jsx)("img",{src:u?"https://www.1gtt.com.br/app/close-white.png":"https://www.1gtt.com.br/app/close.png",onClick:l,width:20,height:20})]})]})}var N=a(5016);w().tz.setDefault("Etc/UTC");var C=function(){var e=(0,c.useState)([]),t=(0,i.Z)(e,2),a=t[0],d=t[1],y=(0,c.useState)([]),w=(0,i.Z)(y,2),C=w[0],k=w[1],I=(0,c.useState)([]),D=(0,i.Z)(I,2),O=D[0],T=D[1],M=(0,c.useState)(!1),L=(0,i.Z)(M,2),E=L[0],A=L[1],_=(0,c.useState)(!1),F=(0,i.Z)(_,2),P=F[0],U=F[1],z=(0,c.useState)(!1),H=(0,i.Z)(z,2),R=H[0],G=H[1],K=(0,c.useState)(!1),B=(0,i.Z)(K,2),X=B[0],V=B[1],Y=(0,c.useState)(!1),J=(0,i.Z)(Y,2),Q=J[0],q=J[1],W=(0,c.useState)(!1),$=(0,i.Z)(W,2),ee=$[0],te=$[1],ae=(0,c.useState)([]),ne=(0,i.Z)(ae,2),se=ne[0],re=ne[1],oe=(0,c.useState)(new Date),ie=(0,i.Z)(oe,2),ce=ie[0],le=ie[1],ue=(0,c.useState)(new Date),de=(0,i.Z)(ue,2),me=de[0],pe=(de[1],(0,c.useState)({avioes:[]})),fe=(0,i.Z)(pe,2),ve=fe[0],he=fe[1],xe=(0,c.useState)(""),ge=(0,i.Z)(xe,2),je=ge[0],be=ge[1],Ze=(0,c.useState)(!1),ye=(0,i.Z)(Ze,2),we=ye[0],Se=ye[1],Ne=(0,c.useState)(""),Ce=(0,i.Z)(Ne,2),ke=Ce[0],Ie=Ce[1],De=(0,c.useState)(""),Oe=(0,i.Z)(De,2),Te=Oe[0],Me=Oe[1],Le=(0,c.useState)(""),Ee=(0,i.Z)(Le,2),Ae=Ee[0],_e=Ee[1],Fe=(0,c.useState)(""),Pe=(0,i.Z)(Fe,2),Ue=Pe[0],ze=Pe[1],He=(0,c.useState)(new Date),Re=(0,i.Z)(He,2),Ge=Re[0],Ke=Re[1],Be=(0,c.useState)(new Date),Xe=(0,i.Z)(Be,2),Ve=Xe[0],Ye=Xe[1],Je=(0,c.useState)(!1),Qe=(0,i.Z)(Je,2),qe=Qe[0],We=Qe[1],$e=(0,c.useState)(!1),et=(0,i.Z)($e,2),tt=et[0],at=et[1],nt=(0,c.useState)(!1),st=(0,i.Z)(nt,2),rt=st[0],ot=st[1],it=(0,c.useState)(""),ct=(0,i.Z)(it,2),lt=ct[0],ut=ct[1],dt=(0,c.useState)(!1),mt=(0,i.Z)(dt,2),pt=mt[0],ft=mt[1],vt=(0,c.useState)(!1),ht=(0,i.Z)(vt,2),xt=ht[0],gt=ht[1],jt=(0,c.useState)({aviao:"",eventos:[]}),bt=(0,i.Z)(jt,2),Zt=bt[0],yt=bt[1],wt=(0,c.useState)([]),St=(0,i.Z)(wt,2),Nt=St[0],Ct=St[1],kt=(0,c.useState)(""),It=(0,i.Z)(kt,2),Dt=It[0],Ot=It[1],Tt=(0,c.useState)([]),Mt=(0,i.Z)(Tt,2),Lt=Mt[0],Et=Mt[1],At=(0,c.useState)(!1),_t=(0,i.Z)(At,2),Ft=_t[0],Pt=_t[1],Ut=(0,c.useState)(!1),zt=(0,i.Z)(Ut,2),Ht=zt[0],Rt=zt[1],Gt=(0,c.useState)(!1),Kt=(0,i.Z)(Gt,2),Bt=Kt[0],Xt=Kt[1],Vt=(0,c.useState)(""),Yt=(0,i.Z)(Vt,2),Jt=Yt[0],Qt=Yt[1],qt=(0,c.useState)(""),Wt=(0,i.Z)(qt,2),$t=Wt[0],ea=Wt[1],ta=(0,c.useState)(""),aa=(0,i.Z)(ta,2),na=aa[0],sa=aa[1],ra=(0,c.useState)(""),oa=(0,i.Z)(ra,2),ia=oa[0],ca=oa[1],la=(0,c.useState)(""),ua=(0,i.Z)(la,2),da=ua[0],ma=ua[1],pa=(0,c.useState)([]),fa=(0,i.Z)(pa,2),va=fa[0],ha=fa[1],xa=(0,c.useState)(0),ga=(0,i.Z)(xa,2),ja=ga[0],ba=ga[1],Za=(0,c.useState)(!0),ya=(0,i.Z)(Za,2),wa=ya[0],Sa=ya[1],Na=(0,c.useState)(!1),Ca=(0,i.Z)(Na,2),ka=Ca[0],Ia=Ca[1],Da=(0,c.useState)(""),Oa=(0,i.Z)(Da,2),Ta=Oa[0],Ma=Oa[1],La=(0,c.useState)(""),Ea=(0,i.Z)(La,2),Aa=Ea[0],_a=Ea[1],Fa=(0,c.useState)(""),Pa=(0,i.Z)(Fa,2),Ua=Pa[0],za=Pa[1],Ha=(0,c.useState)(""),Ra=(0,i.Z)(Ha,2),Ga=Ra[0],Ka=Ra[1],Ba=(0,c.useState)(""),Xa=(0,i.Z)(Ba,2),Va=Xa[0],Ya=Xa[1],Ja=(0,c.useState)(""),Qa=(0,i.Z)(Ja,2),qa=Qa[0],Wa=Qa[1],$a=(0,c.useState)(""),en=(0,i.Z)($a,2),tn=en[0],an=en[1],nn=(0,c.useState)([]),sn=(0,i.Z)(nn,2),rn=sn[0],on=sn[1],cn=(0,c.useState)(!1),ln=(0,i.Z)(cn,2),un=ln[0],dn=ln[1],mn=(0,c.useState)(""),pn=(0,i.Z)(mn,2),fn=pn[0],vn=(pn[1],(0,c.useState)(!1)),hn=(0,i.Z)(vn,2),xn=hn[0],gn=hn[1],jn=(0,c.useState)(!1),bn=(0,i.Z)(jn,2),Zn=bn[0],yn=bn[1],wn=(0,c.useState)(!1),Sn=(0,i.Z)(wn,2),Nn=Sn[0],Cn=Sn[1],kn=(0,c.useState)(""),In=(0,i.Z)(kn,2),Dn=In[0],On=In[1],Tn=(0,c.useState)(""),Mn=(0,i.Z)(Tn,2),Ln=Mn[0],En=Mn[1],An=(0,c.useState)(""),_n=(0,i.Z)(An,2),Fn=_n[0],Pn=_n[1],Un=(0,c.useState)(new Date),zn=(0,i.Z)(Un,2),Hn=zn[0],Rn=zn[1],Gn=(0,c.useState)(new Date),Kn=(0,i.Z)(Gn,2),Bn=Kn[0],Xn=Kn[1],Vn=(0,c.useState)(""),Yn=(0,i.Z)(Vn,2),Jn=Yn[0],Qn=Yn[1],qn=(0,c.useState)([]),Wn=(0,i.Z)(qn,2),$n=Wn[0],es=Wn[1],ts=(0,c.useState)(!1),as=(0,i.Z)(ts,2),ns=as[0],ss=as[1],rs=(0,c.useState)(!1),os=(0,i.Z)(rs,2),is=os[0],cs=os[1],ls=(0,c.useState)(""),us=(0,i.Z)(ls,2),ds=us[0],ms=us[1],ps=(0,c.useState)(""),fs=(0,i.Z)(ps,2),vs=fs[0],hs=fs[1],xs=(0,c.useState)(new Date),gs=(0,i.Z)(xs,2),js=gs[0],bs=gs[1],Zs=(0,c.useState)(new Date),ys=(0,i.Z)(Zs,2),ws=ys[0],Ss=ys[1],Ns=(0,c.useState)(""),Cs=(0,i.Z)(Ns,2),ks=Cs[0],Is=Cs[1],Ds=(0,c.useState)(""),Os=(0,i.Z)(Ds,2),Ts=Os[0],Ms=Os[1],Ls=(0,c.useState)(""),Es=(0,i.Z)(Ls,2),As=Es[0],_s=Es[1],Fs=(0,c.useState)(""),Ps=(0,i.Z)(Fs,2),Us=Ps[0],zs=Ps[1],Hs=(0,c.useState)([]),Rs=(0,i.Z)(Hs,2),Gs=Rs[0],Ks=Rs[1],Bs=(0,c.useState)(new Date),Xs=(0,i.Z)(Bs,2),Vs=(Xs[0],Xs[1]),Ys=(0,c.useState)(!1),Js=(0,i.Z)(Ys,2),Qs=Js[0],qs=Js[1],Ws=(0,c.useState)(""),$s=(0,i.Z)(Ws,2),er=$s[0],tr=$s[1],ar=(0,c.useRef)(null),nr=(0,c.useRef)(null),sr=(0,c.useRef)(null),rr=(0,u.Z)(),or=function(){A(!1)},ir=function(){A(!1)},cr=function(){var e=(0,o.Z)((0,s.Z)().mark((function e(t,a){var n,o,i,c,l,u,m,p,f;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Pt(!1),Rt(!1),V(!0),q(!1),n=a.missao.id_missao,Qt(n),o=(0,r.Z)({},Zt),i=[],a.missao.tripulacao.forEach((function(e){i.push(e)})),c=a.comentarios,l=a.configuracao,ca(c),Pn(l),u=a.missao.omis,sa(u),d(i),e.next=18,rr.getMissoesAvioesId(n);case 18:m=e.sent,p=m.data.filter((function(e){if(e.eventos.length>0)return e})),o.eventos=p[0].eventos,ma(o.eventos[0].id_documento),yt(o),U(!0),Ct(t.aviao),(f=Lt.findIndex((function(e){return e.aeronave==t.aviao})))>=0&&Ot(Lt[f].id);case 27:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),lr=function(e){"Enter"===e.key&&(Q?Ar():ur())},ur=function(){var e=(0,o.Z)((0,s.Z)().mark((function e(){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_r();case 2:e.sent&&setTimeout((function(){var e=document.getElementById("icao-pouso");e&&e.focus()}),0);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),dr=function(){var e=(0,o.Z)((0,s.Z)().mark((function e(t){var r,o;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(gt(!1),"Enter"!==t.key){e.next=7;break}return r=(0,n.Z)(a),e.next=5,rr.getTrigrama($t);case 5:(o=e.sent).error?gt(o.error):(r.push({id:o.data.id_user,trigrama:o.data.trigrama,funcao:o.data.Usuario.FuncoesAbordo.nome}),d(r),ea(""));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),mr=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=new Date(e);a.setDate(a.getDate()-1);for(var n=[],s=0;s<=6;s++){if(0!=s)var r=a.setDate(a.getDate()+1);else r=a.setDate(a.getDate());var o=new Date(r),i=o.getDate(),c=o.getMonth()+1;i<=9&&(i="0"+i),c<=9&&(c="0"+c);var l=i+"/"+c+"/"+o.getFullYear();n.push(l)}re(n),gr(n,t),fr(n),pr(n),vr(n)},pr=function(){var e=(0,o.Z)((0,s.Z)().mark((function e(t){var a,n,r;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t[0],n=t[6],e.next=4,rr.getObservacoesData({inicio:a,fim:n});case 4:(r=e.sent).error||on(r.data);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),fr=function(){var e=(0,o.Z)((0,s.Z)().mark((function e(t){var a,n,r;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t[0],n=t[6],e.next=4,rr.getSobreavisos({inicio:a,fim:n});case 4:(r=e.sent).error||Ks(r.data);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),vr=function(){var e=(0,o.Z)((0,s.Z)().mark((function e(t){var a,n,r;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t[0],n=t[6],e.next=4,rr.getManutencoesAvioes({inicio:a,fim:n});case 4:(r=e.sent).error||(es(r.data),console.log(r));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),hr=function(){var e=(0,o.Z)((0,s.Z)().mark((function e(){var t;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,rr.getOfrags();case 2:(t=e.sent).error||ha(t.data.reverse());case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),xr=function(){var e=(0,o.Z)((0,s.Z)().mark((function e(){var t,a,n,o;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(ze(""),ut(""),""!=Nt){e.next=5;break}return ut("A aeronave \xe9 obrigat\xf3ria"),e.abrupt("return");case 5:if(""==da){e.next=10;break}return e.next=8,rr.getOfrag(da);case 8:(t=e.sent).error||(a=[],n=(0,r.Z)({},ve),(o=(0,r.Z)({},Zt)).eventos.forEach((function(e){var t=n.avioes.findIndex((function(e){return e.aviao==Nt}));t>=0&&(n.avioes[t].eventos=n.avioes[t].eventos.filter((function(t){return t.missao.depISO!=e.missao.depISO&&t.missao.dep!=e.missao.dep})))})),t.data.missoes[0].rotaOfrag.etapas.forEach((function(e){var t=e.dataHoraDecolagem.split("T"),s=(0,i.Z)(t,2),r=s[0],o=s[1],c=r.split("-"),l=(0,i.Z)(c,3),u=l[0],d=l[1],m=l[2],p=o.split(":"),f=(0,i.Z)(p,3),v=f[0],h=f[1];f[2];if(e.dataHoraPouso){var x=e.dataHoraPouso.split("T"),g=(0,i.Z)(x,2),j=g[0],b=g[1],Z=j.split("-"),y=(0,i.Z)(Z,3),w=(y[0],y[1],y[2],b.split(":")),S=(0,i.Z)(w,3),N=S[0],C=S[1];S[2]}var k={data:"".concat(m,"/").concat(d,"/").concat(u),tipo:"missao",missao:{id:Math.floor(1e4*Math.random())+1,dep:e.codigoIcaoOrigem,horaDep:"".concat(v,":").concat(h,"Z"),pouso:e.codigoIcaoDestino,horaPouso:e.dataHoraPouso?"".concat(N,":").concat(C,"Z"):"",depISO:e.dataHoraDecolagem,pousoISO:e.dataHoraPouso,tripulacao:[],omis:"",edicao:!0},manutencao:null},I=n.avioes.findIndex((function(e){return e.aviao==Nt}));I>=0&&n.avioes[I].eventos.push(k),a.push(k)})),a.length>0&&(o.eventos=a,yt(o),ze(""),Xt(!1),ft(!0),he(n)));case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),gr=function(){var e=(0,o.Z)((0,s.Z)().mark((function e(t){var a,n,r,o,i,c,l=arguments;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=l.length>1&&void 0!==l[1]&&l[1],n=t[0],r=t[6],e.next=5,rr.getMissoesAvioes({inicio:n,fim:r});case 5:(o=e.sent).error||(i=o.data,a||Zt.eventos.length>0&&(c=i.findIndex((function(e){return e.aviao==Nt})))>=0&&Zt.eventos.forEach((function(e){i[c].eventos.push(e)})),he({avioes:i}));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),jr=function(){var e=(0,o.Z)((0,s.Z)().mark((function e(){var t;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,rr.getAeronaves();case 2:(t=e.sent).error||Et(t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),br=function(e,t){var a=new Date(ce);t?a.setDate(a.getDate()-e):a.setDate(a.getDate()+e),le(a)},Zr=function(){var e=(0,o.Z)((0,s.Z)().mark((function e(){var t;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Pt(!1),Rt(!1),V(!1),U(!0),e.next=6,rr.getUltimaMissao();case 6:(t=e.sent).error||sa((parseInt(t.data[0].numero)+1).toString());case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),yr=function(){var e=(0,o.Z)((0,s.Z)().mark((function e(){var t;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:On(""),En(""),(t=new Date).setHours(0,0,0,0),Rn(t),Xn(t),gn(!1),yn(!0);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),wr=function(){var e=(0,o.Z)((0,s.Z)().mark((function e(){var t;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:ms(""),hs(""),t=new Date,bs(t),Ss(t),ss(!1),cs(!0);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Sr=function(){var e=(0,o.Z)((0,s.Z)().mark((function e(){var t,a,n,r,o;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""==Ge||""==Ve||4!=ke.length||4!=Te.length){e.next=9;break}return We(!1),at(!1),ot(!1),ze(""),e.next=7,rr.getDistanciaAerodromos({origem:ke,destino:Te});case 7:(t=e.sent).error?(o=t.error,ze(t.error),o.includes(ke)&&We(!0),o.includes(Te)&&at(!0)):(a=t.data.distancia,n=Math.round(60*a/400),n=5*Math.ceil(n/5),(r=new Date(Ge)).setMinutes(r.getMinutes()+n),Ye(r));case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Nr=function(e,t){Me(""),_e(""),ba(0);var a=new Date(t);a.setMinutes(a.getMinutes()+120);var n=a.getTimezoneOffset();a.setMinutes(a.getMinutes()+n),Ke(a),Ie(e),Ye(a),nr.current&&ar.current.focus()},Cr=function(){var e=(0,o.Z)((0,s.Z)().mark((function e(){var t,n,r,i,c,l;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Rt(!0),""!=Nt&&0!=Zt.eventos.length){e.next=5;break}return alert("Todos os campos s\xe3o obrigat\xf3rios!"),Rt(!1),e.abrupt("return");case 5:if(t=!1,Zt.eventos.forEach((function(e){e.missao.pousoISO&&e.missao.depISO&&e.missao.alternativa&&""!=e.missao.alternativa||(t=!0)})),!t){e.next=11;break}return Rt(!1),alert("Hor\xe1rios de DEP e POUSO e ICAO de ALTERNATIVA s\xe3o obrigat\xf3rios!"),e.abrupt("return");case 11:if(X){e.next=31;break}return n={},""!=na&&(n.numero=na),""!=da&&(n.id_documento=da),e.next=17,rr.createMissao(n);case 17:if((r=e.sent).error){e.next=29;break}return i=r.data.id,Zt.eventos.forEach(function(){var e=(0,o.Z)((0,s.Z)().mark((function e(t,a){var n,o,c,l,u,d,m;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,rr.getAerodromo(t.missao.dep);case 2:return n=e.sent,e.next=5,rr.getAerodromo(t.missao.pouso);case 5:if(o=e.sent,c=0,l=null,!t.missao.alternativa){e.next=17;break}return e.next=11,rr.getAerodromo(t.missao.alternativa);case 11:return u=e.sent,l=u.data.id,e.next=15,rr.getCombMinimo(t.missao.dep,t.missao.pouso,t.missao.alternativa);case 15:e.sent.error||(c=r.data.combustivel);case 17:return d={dep:t.missao.depISO,pouso:t.missao.pousoISO,id_missao:i,id_aeronave:Dt,id_dep:n.data.id,id_pouso:o.data.id,id_alternativa:l,combustivel_minimo:""!=t.missao.combustivel_minimo?t.missao.combustivel_minimo:c},e.next=20,rr.createEtapa(d);case 20:if(!(m=e.sent).error){e.next=27;break}return console.log(m),alert(r.etapa.error),e.abrupt("return");case 27:a==Zt.eventos.length-1&&(U(!1),Rt(!1),setTimeout((function(){location.reload()}),"2000"));case 28:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()),c=[],a.forEach((function(e){c.push(e.id)})),l={id_missao:i,id_militares:c},e.next=26,rr.createEscala(l);case 26:Rt(!1),e.next=31;break;case 29:Rt(!1),alert(r.error);case 31:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),kr=function(){var e=(0,o.Z)((0,s.Z)().mark((function e(){var t,a,n,r,c,l,u,d,m,p,f,v,h,x,g,j,b;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return f=function(e){var t=e%60,a=Math.floor(e/60).toString().padStart(2,"0"),n=t.toString().padStart(2,"0");return"".concat(a,":").concat(n)},m=function(){return(m=(0,o.Z)((0,s.Z)().mark((function e(){var t,a,n,o,d,m,p,f,v,h,x,g,j,b,Z,y,w;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:0,t=0;case 2:if(!(t<Zt.eventos.length)){e.next=19;break}return a=Zt.eventos[t],n="01:00",t!=Zt.eventos.length-1&&(o=Zt.eventos[t+1].missao.depISO,(d=new Date(o)-new Date(a.missao.pousoISO))<288e5&&(n=u(d))),m=c(a.missao.depISO),p=(0,i.Z)(m,2),f=p[0],v=p[1],h=c(a.missao.pousoISO),x=(0,i.Z)(h,2),x[0],g=x[1],j=u(new Date(a.missao.pousoISO)-new Date(a.missao.depISO)),b="00:00",e.next=12,rr.getDistanciaAerodromos({origem:a.missao.pouso,destino:a.missao.alternativa});case 12:(Z=e.sent).error||(y=Z.data.distancia,b=l(y)),w={data:f,depIso:a.missao.depISO,horaDep:v,dep:a.missao.dep,horaPouso:g,pouso:a.missao.pouso,tev:j,solo:n,alternativa:a.missao.alternativa,tev_alt:b,combustivel:a.missao.combustivel_minimo},r.push(w);case 16:t++,e.next=2;break;case 19:case"end":return e.stop()}}),e)})))).apply(this,arguments)},d=function(){return m.apply(this,arguments)},u=function(e){var t=Math.floor(e/36e5);t<=9&&(t="0"+t.toString());var a=Math.ceil(e%36e5/6e4);return a<=9&&(a="0"+a.toString()),t+":"+a},l=function(e){var t=e/400,a=Math.round(t%1*60);60===(a=5*Math.ceil(a/5))&&(t+=1,a=0);var n=Math.floor(t);return n<=9&&(n="0"+n.toString()),n+":"+(a<10?"0"+a:a)},t=Zt.eventos[0].comentarios,a=Zt.eventos[0].configuracao,n=[],Zt.eventos[0].missao.tripulacao.forEach((function(e){n.push(e)})),r=[],c=function(e){var t=e.split("T"),a=(0,i.Z)(t,2),n=a[0],s=a[1],r=n.split("-"),o=(0,i.Z)(r,3),c=o[0],l=o[1],u=o[2],d=s.split(":"),m=(0,i.Z)(d,3),p=m[0],f=m[1];m[2];return[u+"/"+l+"/"+c,p+":"+f]},e.next=13,d();case 13:for(x in n.sort((function(e,t){return e.antiguidade-t.antiguidade})),p=0,r.forEach((function(e){var t=e.tev.split(":"),a=(0,i.Z)(t,2),n=a[0],s=a[1],r=60*parseInt(n)+parseInt(s);p+=r})),v={tripulacao:n,etapas:r,comandante:n[0].posto+" "+n[0].nome_guerra.toUpperCase(),data:r[0].data,aviao:Nt,omis:Zt.eventos[0].missao.omis,ofrag:Zt.eventos[0].ofrag,comentarios:t,configuracao:a,horas:f(p)},(h=document.createElement("form")).method="post",h.action="/omis",h.target="_blank",v)v.hasOwnProperty(x)&&((g=document.createElement("input")).type="hidden",g.name=x,g.value=JSON.stringify(v[x]),h.appendChild(g));j=encodeURIComponent(JSON.stringify(v)),b="/omis?dados=".concat(j),window.open(b,"_blank");case 25:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ir=function(){var e=(0,o.Z)((0,s.Z)().mark((function e(){var t,a,n,r,c,l,u,d,m,p;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u=function(){return(u=(0,o.Z)((0,s.Z)().mark((function e(){var t,o,l,u,d,m,p,f,v,h,x,g,j,b,Z,y,w;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:0,t=0;case 2:if(!(t<Zt.eventos.length)){e.next=19;break}return o=Zt.eventos[t],l="01:00",t!=Zt.eventos.length-1&&(u=Zt.eventos[t+1].missao.depISO,(d=new Date(u)-new Date(o.missao.pousoISO))<288e5&&(l=c(d))),m=n(o.missao.depISO),p=(0,i.Z)(m,2),f=p[0],v=p[1],h=n(o.missao.pousoISO),x=(0,i.Z)(h,2),x[0],g=x[1],j=c(new Date(o.missao.pousoISO)-new Date(o.missao.depISO)),b="00:00",e.next=12,rr.getDistanciaAerodromos({origem:o.missao.pouso,destino:o.missao.alternativa});case 12:(Z=e.sent).error||(y=Z.data.distancia,b=r(y)),w={data:f,depIso:o.missao.depISO,horaDep:v,dep:o.missao.dep,horaPouso:g,pouso:o.missao.pouso,tev:j,solo:l,alternativa:o.missao.alternativa,tev_alt:b,combustivel:o.missao.combustivel_minimo},a.push(w);case 16:t++,e.next=2;break;case 19:case"end":return e.stop()}}),e)})))).apply(this,arguments)},l=function(){return u.apply(this,arguments)},c=function(e){var t=Math.floor(e/36e5);t<=9&&(t="0"+t.toString());var a=Math.ceil(e%36e5/6e4);return a<=9&&(a="0"+a.toString()),t+":"+a},r=function(e){var t=e/400,a=Math.round(t%1*60);60===(a=5*Math.ceil(a/5))&&(t+=1,a=0);var n=Math.floor(t);return n<=9&&(n="0"+n.toString()),n+":"+(a<10?"0"+a:a)},t=[],Zt.eventos[0].missao.tripulacao.forEach((function(e){t.push(e)})),a=[],n=function(e){var t=e.split("T"),a=(0,i.Z)(t,2),n=a[0],s=a[1],r=n.split("-"),o=(0,i.Z)(r,3),c=o[0],l=o[1],u=o[2],d=s.split(":"),m=(0,i.Z)(d,3),p=m[0],f=m[1];m[2];return[u+"/"+l+"/"+c,p+":"+f]},e.next=10,l();case 10:t.sort((function(e,t){return e.antiguidade-t.antiguidade})),0,a.forEach((function(e){var t=e.tev.split(":"),a=(0,i.Z)(t,2),n=a[0],s=a[1],r=60*parseInt(n)+parseInt(s);r})),d={tripulacao:t,etapas:a,data:a[0].data,aviao:Nt,omis:Zt.eventos[0].missao.omis},m=encodeURIComponent(JSON.stringify(d)),p="/lanche?dados=".concat(m),window.open(p,"_blank");case 17:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Dr=function(){var e=(0,o.Z)((0,s.Z)().mark((function e(t,a,n){var r;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""==t||""==a||""==n||4!=t.length||4!=a.length||4!=n.length){e.next=5;break}return e.next=3,rr.getCombMinimo({dep:t,pouso:a,alternativa:n});case 3:(r=e.sent).error||(parseInt(r.data.combustivel)<1e4?ba(1e4):ba(r.data.combustivel));case 5:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),Or=function(){var e=(0,o.Z)((0,s.Z)().mark((function e(){var t,n,r,i,c,l,u,d;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Rt(!0),t=Jt,""==na){e.next=9;break}return n={numero:na},""!=da&&(n.id_documento=da),n.comentarios=""!=ia?ia:"NIL",n.configuracao=Fn,e.next=9,rr.updateMissao(n,t);case 9:return r=Zt.eventos.map(function(){var e=(0,o.Z)((0,s.Z)().mark((function e(t){var a,n,r,o,i;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={},e.next=3,rr.getAerodromo(t.missao.dep);case 3:return n=e.sent,e.next=6,rr.getAerodromo(t.missao.pouso);case 6:if(r=e.sent,o=null,!t.missao.alternativa){e.next=13;break}return e.next=11,rr.getAerodromo(t.missao.alternativa);case 11:i=e.sent,o=i.data.id;case 13:return a.dep=t.missao.depISO,a.pouso=t.missao.pousoISO,a.id_aeronave=Dt,a.id_dep=n.data.id,a.id_pouso=r.data.id,a.id_alternativa=o,a.combustivel_minimo=t.missao.combustivel_minimo,t.missao.edicao?a.id=null:a.id=t.missao.id,e.abrupt("return",a);case 22:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=12,Promise.all(r);case 12:return i=e.sent,c={etapas:i,id_missao:t},e.next=16,rr.updateEtapas(c);case 16:if(!(l=e.sent).error){e.next=23;break}return Rt(!1),alert(l.error),e.abrupt("return");case 23:return u=[],a.forEach((function(e){u.push(e.id)})),d={id_missao:t,id_militares:u},e.next=28,rr.updateEscala(d);case 28:Lr(),U(!1),mr(ce,!0);case 31:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Tr=function(){var e=(0,o.Z)((0,s.Z)().mark((function e(){var t,a;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Pt(!0),!window.confirm("Deseja mesmo excluir essa miss\xe3o?")){e.next=16;break}return t=Zt.eventos[0].missao.id_missao,e.next=6,rr.deleteMissao(t);case 6:if(!(a=e.sent).error){e.next=11;break}return Pt(!1),alert(a.error),e.abrupt("return");case 11:Pt(!1),he({avioes:[]}),Lr(),U(!1),mr(ce,!0);case 16:Pt(!1);case 17:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Mr=function(e){var t=(0,n.Z)(a);t=t.filter((function(t){if(t.id!=e)return t})),d(t)},Lr=function(){yt({aviao:"",eventos:[]});var e=(0,r.Z)({},ve);he(e),Me(""),Ie(""),_e(""),Ke(new Date),Ye(new Date),Ct(""),ca(""),Pn(""),sa(""),ma(""),V(!1),q(!1),d([]),ba(0),mr(ce,!0)},Er=function(){d([]),Vs(new Date)},Ar=function(){var e=(0,o.Z)((0,s.Z)().mark((function e(){var t,a,n,o,c,l,u,d,m,p,f,v,h,x,g,j,b,Z,y,w,S,N,C,k,I,D,O,T,M,L,E,A,_;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(ze(""),""!=Te&&""!=ke&&""!=Ae&&""!=Ge&&""!=Ve){e.next=4;break}return ze("Todos os campos s\xe3o obrigat\xf3rios"),e.abrupt("return");case 4:if(""!=Nt){e.next=7;break}return ze("A aeronave \xe9 obrigat\xf3ria"),e.abrupt("return");case 7:return e.next=9,rr.getAerodromo(Ae);case 9:if(!(t=e.sent).error){e.next=14;break}return ze(t.error),ot(!0),e.abrupt("return");case 14:ot(!1),a=Ge.getTimezoneOffset(),Ge.setMinutes(Ge.getMinutes()-a),n=Ve.getTimezoneOffset(),Ve.setMinutes(Ve.getMinutes()-n),o=Ge.toISOString(),c=Ve.toISOString(),l=o.split("T"),u=(0,i.Z)(l,2),d=u[0],m=u[1],p=c.split("T"),f=(0,i.Z)(p,2),f[0],v=f[1],h=d.split("-"),x=(0,i.Z)(h,3),g=x[0],j=x[1],b=x[2],Z=m.split(":"),y=(0,i.Z)(Z,3),w=y[0],S=y[1],y[2],N=v.split(":"),C=(0,i.Z)(N,3),k=C[0],I=C[1],C[2],D=(0,r.Z)({},Zt),O=(0,r.Z)({},ve),T=D.eventos[ee],M={data:"".concat(b,"/").concat(j,"/").concat(g),tipo:"missao",missao:{id:T.missao.id,dep:ke,horaDep:"".concat(w,":").concat(S,"Z"),pouso:Te,horaPouso:"".concat(k,":").concat(I,"Z"),alternativa:Ae,depISO:Ge,pousoISO:Ve,tripulacao:[],omis:"",combustivel_minimo:ja,edicao:T.missao.edicao},manutencao:null},D.eventos[ee]=M,D.eventos.sort((function(e,t){return new Date(e.missao.depISO)-new Date(t.missao.depISO)})),yt(D),(L=O.avioes.findIndex((function(e){return e.aviao==Nt})))>=0&&(E=O.avioes[L].eventos.findIndex((function(e){return e.missao.id==T.missao.id})))>=0&&(O.avioes[L].eventos[E]=M,O.avioes[L].eventos.sort((function(e,t){return new Date(e.missao.depISO)-new Date(t.missao.depISO)})),he(O)),A=D.eventos[D.eventos.length-1].missao.pouso,_=D.eventos[D.eventos.length-1].missao.pousoISO,q(!1),te(""),Nr(A,_);case 40:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),_r=function(){var e=(0,o.Z)((0,s.Z)().mark((function e(){var t,a,n,o,c,l,u,d,m,p,f,v,h,x,g,j,b,Z,y,w,S,N,C,k,I,D,O,T,M;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(ze(""),""!=Te&&""!=ke&&""!=Ae&&""!=Ge&&""!=Ve){e.next=4;break}return ze("Todos os campos s\xe3o obrigat\xf3rios"),e.abrupt("return");case 4:if(""!=Nt){e.next=7;break}return ze("A aeronave \xe9 obrigat\xf3ria"),e.abrupt("return");case 7:return e.next=9,rr.getAerodromo(Ae);case 9:if(!(t=e.sent).error){e.next=14;break}return ze(t.error),ot(!0),e.abrupt("return",null);case 14:return ot(!1),at(!1),a=Ge.getTimezoneOffset(),Ge.setMinutes(Ge.getMinutes()-a),n=Ve.getTimezoneOffset(),Ve.setMinutes(Ve.getMinutes()-n),o=Ge.toISOString(),c=Ve.toISOString(),l=o.split("T"),u=(0,i.Z)(l,2),d=u[0],m=u[1],p=c.split("T"),f=(0,i.Z)(p,2),f[0],v=f[1],h=d.split("-"),x=(0,i.Z)(h,3),g=x[0],j=x[1],b=x[2],Z=m.split(":"),y=(0,i.Z)(Z,3),w=y[0],S=y[1],y[2],N=v.split(":"),C=(0,i.Z)(N,3),k=C[0],I=C[1],C[2],D={data:"".concat(b,"/").concat(j,"/").concat(g),tipo:"missao",missao:{id:Math.floor(1e4*Math.random())+1,dep:ke,horaDep:"".concat(w,":").concat(S,"Z"),pouso:Te,horaPouso:"".concat(k,":").concat(I,"Z"),alternativa:Ae,depISO:Ge,pousoISO:Ve,tripulacao:[],omis:"",combustivel_minimo:ja,edicao:!0},manutencao:null},(O=(0,r.Z)({},Zt)).eventos.push(D),T=(0,r.Z)({},ve),(M=T.avioes.findIndex((function(e){return e.aviao==Nt})))>=0&&(T.avioes[M].eventos.push(D),T.avioes[M].eventos.sort((function(e,t){return new Date(e.missao.depISO)-new Date(t.missao.depISO)}))),O.eventos.sort((function(e,t){return new Date(e.missao.depISO)-new Date(t.missao.depISO)})),he(T),yt(O),Nr(Te,Ve),e.abrupt("return",!0);case 38:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Fr=function(){var e=(0,o.Z)((0,s.Z)().mark((function e(){var t,a;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!=Ga&&""!=Aa){e.next=3;break}return alert("Todos os campos s\xe3o obrigat\xf3rios"),e.abrupt("return");case 3:return t={situacao:Ga,ciclos:Ta,horas:Aa},e.next=6,rr.updateAeronave(t,tn);case 6:if(!(a=e.sent).error){e.next=12;break}return alert(a.error),e.abrupt("return");case 12:an(""),Ma(""),_a(""),Ka(""),Ia(!1),alert(a.msg),location.reload();case 19:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Pr=function(){var e=(0,o.Z)((0,s.Z)().mark((function e(){var t,n,r,o;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[],a.forEach((function(e){t.push(e.id)})),(n=new Date(Ge)).setHours(3,30,0,0),r={id_usuarios:t,data:n.toISOString()},e.next=7,rr.createSobreaviso(r);case 7:if(!(o=e.sent).error){e.next=11;break}return alert(o.error),e.abrupt("return");case 11:alert(o.msg),Er(),Cn(!1),location.reload();case 15:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ur=function(){var e=(0,o.Z)((0,s.Z)().mark((function e(){var t,n,r;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[],a.forEach((function(e){t.push(e.id)})),n={id_usuarios:t},e.next=5,rr.updateSobreaviso(er,n);case 5:if(!(r=e.sent).error){e.next=9;break}return alert(r.error),e.abrupt("return");case 9:alert(r.msg),Er(),Cn(!1),location.reload();case 13:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),zr=function(){var e=(0,o.Z)((0,s.Z)().mark((function e(){var t,a,n,r;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t={titulo:Dn,observacoes:Ln,inicio:Hn,fim:Bn},!xn){e.next=9;break}return a=Jn,e.next=5,rr.updateObservacao(t,a);case 5:(n=e.sent).error||(On(""),En(""),Rn(new Date),Xn(new Date),yn(!1),gn(!1),alert(n.msg),location.reload()),e.next=13;break;case 9:return e.next=11,rr.createObservacao(t);case 11:(r=e.sent).error||(On(""),En(""),Rn(new Date),Xn(new Date),yn(!1),gn(!1),alert(r.msg),location.reload());case 13:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Hr=function(){var e=(0,o.Z)((0,s.Z)().mark((function e(){var t,a,n,r,o,i,c,l;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(As&&""!=As){e.next=3;break}return alert("A Aeronave \xe9 obrigat\xf3ria"),e.abrupt("return");case 3:if(ds&&""!=ds&&vs&&""!=vs){e.next=6;break}return alert("O T\xedtulo e descri\xe7\xe3o s\xe3o obrigat\xf3rios"),e.abrupt("return");case 6:if(t=new Date(js),a=new Date(ws),!(t.getTime()>a.getTime())){e.next=11;break}return alert("Data de t\xe9rmino menor do que a de in\xedcio"),e.abrupt("return");case 11:if(n=t.getTimezoneOffset(),t.setMinutes(t.getMinutes()-n),r=a.getTimezoneOffset(),a.setMinutes(a.getMinutes()-r),o={titulo:ds,descricao:vs,inicio:t.toISOString(),fim:a.toISOString(),id_aviao:ks},!ns){e.next=34;break}return i=Ts,e.next=20,rr.updateManutencao(o,i);case 20:if(!(c=e.sent).error){e.next=24;break}return alert(c.error),e.abrupt("return");case 24:ms(""),hs(""),bs(new Date),Ss(new Date),cs(!1),ss(!1),alert(c.msg),location.reload(),e.next=38;break;case 34:return e.next=36,rr.createManutencao(o);case 36:(l=e.sent).error||(ms(""),hs(""),bs(new Date),Ss(new Date),cs(!1),ss(!1),alert(l.msg),location.reload());case 38:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Rr=function(){var e=(0,o.Z)((0,s.Z)().mark((function e(){var t,a;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=er,e.next=3,rr.deleteSobreaviso(t);case 3:if(!(a=e.sent).error){e.next=7;break}return alert(a.error),e.abrupt("return");case 7:Ke(new Date),Cn(!1),qs(!1),alert(a.msg),location.reload();case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Gr=function(){var e=(0,o.Z)((0,s.Z)().mark((function e(){var t,a;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Jn,e.next=3,rr.deleteObservacao(t);case 3:if(!(a=e.sent).error){e.next=7;break}return alert(a.error),e.abrupt("return");case 7:On(""),En(""),Rn(new Date),Xn(new Date),yn(!1),gn(!1),alert(a.msg),location.reload();case 15:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Kr=function(){var e=(0,o.Z)((0,s.Z)().mark((function e(){var t,a;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Ts,e.next=3,rr.deleteManutencao(t);case 3:if(!(a=e.sent).error){e.next=7;break}return alert(a.error),e.abrupt("return");case 7:ms(""),hs(""),bs(new Date),Ss(new Date),cs(!1),ss(!1),alert(a.msg),location.reload();case 15:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();(0,c.useEffect)((function(){!function(){if(Zt.eventos.length>0){var e=(0,r.Z)({},ve);e.avioes.forEach((function(t,a){if(t.eventos.length>0){var n=t.eventos.filter((function(e){if(Zt.eventos.findIndex((function(t){return t.missao.id==e.missao.id}))<0)return e}));e.avioes[a].eventos=n}}));var t=e.avioes.findIndex((function(e){return e.aviao==Nt}));t>=0&&Zt.eventos.forEach((function(a){e.avioes[t].eventos.push(a)})),he(e)}}()}),[Nt]),(0,c.useEffect)((function(){Sr()}),[Te,ke,Ge]),(0,c.useEffect)((function(){Dr(ke,Te,Ae)}),[Te,ke,Ae]),(0,c.useEffect)((function(){jr(),hr()}),[]),(0,c.useEffect)((function(){mr(ce)}),[ce]);var Br=(0,c.forwardRef)((function(e,t){e.value;var a=e.onClick;return(0,p.jsx)("button",{className:"calendario",onClick:a,ref:t,children:ce.toLocaleString("pt-BR",{month:"long"}).toUpperCase()+"/"+ce.getFullYear()})})),Xr=function(e){e.value;var t=e.onClick;return(0,p.jsx)("button",{className:"calendario",onClick:t,children:"+"})},Vr=function(e){e.value;var t=e.onClick;return(0,p.jsx)("button",{style:{backgroundColor:"#fff",color:"#000"},className:"calendario",onClick:t,children:"+"})};return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)(l.xH,{className:"mb-6",style:{flexDirection:"column"},children:[(0,p.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",padding:10},children:[(0,p.jsx)("div",{className:"",children:(0,p.jsx)(m(),{selected:ce,timeInputLabel:ce.toLocaleString("pt-BR",{month:"long"}).toUpperCase()+"/"+ce.getFullYear(),onChange:function(e){return le(e)},customInput:(0,p.jsx)(Br,{})})}),(0,p.jsxs)("div",{className:"botoes",children:[(0,p.jsx)("button",{className:"calendario",onClick:function(){return br(7,!0)},children:"<<"}),(0,p.jsx)("button",{className:"calendario",onClick:function(){return br(1,!0)},children:"<"}),(0,p.jsx)("button",{className:"calendario",onClick:function(){le(me)},children:"HOJE"}),(0,p.jsx)("button",{className:"calendario",onClick:function(){return br(1,!1)},children:">"}),(0,p.jsx)("button",{className:"calendario",onClick:function(){return br(7,!1)},children:">>"})]}),(0,p.jsxs)("div",{children:[(0,p.jsx)("button",{onClick:Zr,className:"calendario",children:"Miss\xe3o"}),(0,p.jsx)("button",{onClick:function(){Vs(new Date),d([]),qs(!1),Cn(!0)},className:"calendario",children:"Sobreaviso"}),(0,p.jsx)("button",{onClick:yr,className:"calendario",children:"OBS"}),(0,p.jsx)("button",{onClick:wr,className:"calendario",children:"Manuten\xe7\xe3o"})]})]}),(0,p.jsxs)("div",{style:{display:"flex",flexDirection:"column",width:"100%"},children:[(0,p.jsxs)("div",{className:"topo",children:[(0,p.jsx)("div",{className:"missao",children:"Avi\xe3o"}),se.map((function(e,t){var a=me.getDate(),n=me.getMonth()+1;a<=9&&(a="0"+a),n<=9&&(n="0"+n);var s=a+"/"+n+"/"+me.getFullYear(),r=e.split("/"),o=["DOM","SEG","TER","QUA","QUI","SEX","S\xc1B"][new Date(r[2],r[1]-1,r[0]).getUTCDay()];return(0,p.jsxs)("div",{className:"missao data",style:{backgroundColor:s==e?"#46a31d":"#000"},children:[(0,p.jsx)("span",{children:e})," ",(0,p.jsx)("span",{children:o})]})}))]}),(0,p.jsxs)("div",{className:"missoes",children:[(0,p.jsxs)("div",{className:"missao-item",children:[(0,p.jsx)("div",{className:"missao aviao",children:"OBS"}),se.map((function(e){return(0,p.jsx)("div",{className:"item-missao",children:rn.map((function(t){var a=e.split("/"),n=(0,i.Z)(a,3),s=n[0],r=n[1],o=n[2],c=new Date(o,r-1,s),l=new Date(t.inicio),u=new Date(t.fim);if(c.getTime()<=u.getTime()&&c.getTime()>=l.getTime())return(0,p.jsx)("div",{className:"missao-white white",onClick:function(){return e=t,gn(!0),On(e.titulo),En(e.observacoes),Qn(e.id),Rn(new Date(e.inicio)),Xn(new Date(e.fim)),void yn(!0);var e},onMouseLeave:ir,children:t.titulo})}))})}))]}),ve.avioes.length>0&&ve.avioes.map((function(e){return(0,p.jsxs)("div",{className:"missao-item",children:[(0,p.jsxs)("div",{className:"IN"==e.situacao||"IS"==e.situacao||"II"==e.situacao?"missao aviao in":"missao aviao",children:[(0,p.jsx)("span",{style:{cursor:"pointer"},onClick:function(){return function(e,t,a,n,s,r,o){Ma(a),_a(n),za(e),Ka(s),Ya(r),an(t),Wa(function(e){var t=e.split("T"),a=(0,i.Z)(t,2),n=a[0],s=a[1],r=n.split("-"),o=(0,i.Z)(r,3),c=o[0],l=o[1],u=o[2],d=s.split(":"),m=(0,i.Z)(d,3),p=m[0],f=m[1];return m[2],u+"/"+l+"/"+c+" - "+p+":"+f}(o)),Ia(!0)}(e.aviao,e.id,e.ciclos,e.horas,e.situacao,e.atualizador,e.atualizado)},children:e.aviao}),(0,p.jsxs)("span",{className:"dados-aviao",children:["Situa\xe7\xe3o: ",e.situacao]}),(0,p.jsxs)("span",{className:"dados-aviao",children:["Ciclos: ",e.ciclos]}),(0,p.jsxs)("span",{className:"dados-aviao",children:["Horas: ",e.horas]})]}),se.map((function(t){return(0,p.jsxs)("div",{className:"item-missao",children:[Object.keys($n).map((function(a){var n=$n[a];return Object.keys(n).map((function(s){return n[s].map((function(n){if(s==e.aviao&&a==t)return(0,p.jsx)("div",{className:"missao-red red",onClick:function(){return function(e){ss(!0),ms(e.titulo),hs(e.descricao),Ms(e.id),_s(e.Aeronave.aeronave),Is(e.Aeronave.id);var t=new Date(e.inicio),a=new Date(e.fim),n=t.getTimezoneOffset();t.setMinutes(t.getMinutes()+n);var s=a.getTimezoneOffset();a.setMinutes(a.getMinutes()+s),bs(t),Ss(a),cs(!0)}(n)},children:n.titulo},n.id)}))}))})),e.eventos.length>0&&e.eventos.map((function(a){if(a.data==t)return(0,p.jsxs)("div",{onClick:function(){return cr(e,a)},className:a.missao.tripulacao.length<=0?"missao-white white":"missao-white green",onMouseEnter:function(){return function(e,t,a){T(e);var n=t.tripulacao.map((function(e){return e.trigrama}));if(k(n.join("/")),be(t),a.id_documento){var s=va.findIndex((function(e){return e.id==a.id_documento}));zs(s>-1?va[s].numero:"OFRAG S/N")}else zs("OFRAG S/N");A(!0)}(a.missao.id,a.missao,a)},onMouseLeave:or,children:[E&&O==a.missao.id&&null!=a.missao.id&&(0,p.jsxs)("div",{style:{position:"absolute",top:"100%",left:"0",background:"#000",color:"#fff",padding:"10px",border:"1px solid black",zIndex:1},children:[(0,p.jsxs)("p",{style:{fontSize:"1vw"},children:["OMIS: ",je.omis]}),(0,p.jsx)("p",{style:{fontSize:"1vw"},children:Us}),(0,p.jsxs)("p",{style:{fontSize:"1vw"},children:["Tripula\xe7\xe3o: ",C]})]}),a.missao.horaDep!=a.missao.horaPouso?(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)("div",{className:"text-missao",children:[a.missao.horaDep," ",a.missao.dep]}),(0,p.jsxs)("div",{className:"text-missao",children:[a.missao.horaPouso," ",a.missao.pouso," "]})," "]}):(0,p.jsx)("div",{className:"text-missao",children:a.missao.dep})]})}))]})}))]})})),(0,p.jsxs)("div",{className:"missao-item",children:[(0,p.jsx)("div",{className:"missao aviao",children:"Sobreaviso"}),se.map((function(e){return(0,p.jsx)("div",{className:"item-missao",children:Gs.map((function(t){var a=e.split("/"),n=(0,i.Z)(a,3),s=n[0],r=n[1],o=n[2],c=new Date(o,r-1,s),l=new Date(t.data),u=c.getDate(),m=c.getMonth(),f=c.getFullYear(),v=l.getDate(),h=l.getMonth(),x=l.getFullYear();if(u===v&&m===h&&f===x){var g=[],j=[],b=[],Z=[];return t.Usuarios.forEach((function(e,t){"Piloto"==e.FuncoesAbordo.nome&&g.push(e.Trigrama.trigrama),"Mec\xe2nico de Voo"==e.FuncoesAbordo.nome&&j.push(e.Trigrama.trigrama),"Loadmaster"==e.FuncoesAbordo.nome&&b.push(e.Trigrama.trigrama),"Comiss\xe1rio"==e.FuncoesAbordo.nome&&Z.push(e.Trigrama.trigrama)})),(0,p.jsxs)("div",{className:"div-trigramas-sobreaviso",onClick:function(){return function(e){qs(!0),tr(e.id),Ke(new Date(e.data)),Cn(!0);var t=[];e.Usuarios.forEach((function(e){t.push({id:e.id,trigrama:e.Trigrama.trigrama,funcao:e.FuncoesAbordo.nome})})),d(t)}(t)},children:[(0,p.jsx)("span",{className:"trigrama-sobreaviso",children:g.join(" / ")}),(0,p.jsx)("span",{className:"trigrama-sobreaviso",children:j.join(" / ")}),(0,p.jsx)("span",{className:"trigrama-sobreaviso",children:b.join(" / ")}),(0,p.jsx)("span",{className:"trigrama-sobreaviso",children:Z.join(" / ")})]})}}))})}))]})]})]}),(0,p.jsxs)("div",{ref:sr,className:P?"modal-create-visible":"modal-create",children:[(0,p.jsx)("div",{style:{display:"flex",justifyContent:"flex-end",margin:10,cursor:"pointer"},children:(0,p.jsx)("div",{onClick:function(){window.confirm("Deseja mesmo sair? Todos os dados adicionados at\xe9 o momento ser\xe3o perdidos")&&(Lr(),U(!1))},style:{color:"#fff"},children:"X"})}),(0,p.jsxs)("div",{className:"criar-div",children:[(0,p.jsxs)("h3",{style:{color:"#fff"},children:[X?"Editar":"Criar"," Miss\xe3o"]}),X&&a.length>0?(0,p.jsx)("button",{className:"ver-omis",onClick:kr,children:"Ver OMIS"}):null,X&&a.length>0?(0,p.jsx)("button",{className:"ver-omis",onClick:Ir,children:"Ver Lanche"}):null]}),(0,p.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",marginTop:20,alignItems:"center"},children:[(0,p.jsx)("span",{style:{color:"#fff"},children:"Avi\xe3o:"}),Lt.map((function(e){return(0,p.jsx)("button",{onClick:function(){Ct(e.aeronave),Ot(e.id);var t=(0,r.Z)({},Zt);t.aviao=e.aeronave,yt(t)},style:{backgroundColor:Nt==e.aeronave?"#28a745":"#FFF",color:Nt==e.aeronave?"#fff":"#000"},className:"botao-aviao",children:e.aeronave})}))]}),(0,p.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",marginTop:20,alignItems:"center"},children:[(0,p.jsx)("span",{style:{color:"#fff"},children:"OMIS:"}),(0,p.jsxs)("div",{style:{color:"#fff"},children:[(0,p.jsx)(h,{value:na,onChange:sa,disabled:wa}),wa&&(0,p.jsx)("button",{onClick:function(){return Sa(!1)},className:"cumprir",children:"Editar"}),!wa&&(0,p.jsx)("button",{onClick:function(){return Sa(!0)},className:"cumprir",children:"Salvar N\xfamero"})]})]}),(0,p.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",marginTop:20,alignItems:"center"},children:[(0,p.jsx)("span",{style:{color:"#fff"},children:"OFRAG:"}),(0,p.jsxs)("div",{style:{color:"#fff"},children:[(0,p.jsxs)("select",{id:"select-box",style:{borderRadius:5},value:da,onChange:function(e){ma(e.target.value)},children:[(0,p.jsx)("option",{value:"",children:"Selecione uma op\xe7\xe3o"}),va.length>0?va.map((function(e,t){return(0,p.jsxs)("option",{style:{backgroundColor:"#fff"},value:e.id,children:[e.numero," - V",e.versao]},t)})):null]}),""==da||pt?null:Bt?(0,p.jsx)(N.Z,{}):(0,p.jsx)("button",{onClick:xr,className:"cumprir",children:"Cumprir"}),""!=lt&&(0,p.jsx)("div",{style:{marginTop:10},class:"alert alert-danger",role:"alert",children:lt})]})]}),(0,p.jsxs)("div",{className:"add-etapa",children:[(0,p.jsx)("span",{style:{color:"#fff"},children:"Etapas:"}),(0,p.jsx)("img",{onClick:function(){if(!Q&&we&&Se(!1),!Q&&!we&&(Se(!0),Zt.eventos.length>0)){var e=Zt.eventos[Zt.eventos.length-1].missao.pouso,t=Zt.eventos[Zt.eventos.length-1].missao.pousoISO;Nr(e,t)}Q&&q(!1)},style:{cursor:"pointer"},src:"https://www.1gtt.com.br/app/add-white.png",width:20,height:20})]}),(we||Q)&&(0,p.jsxs)("div",{className:"form-area",children:[(0,p.jsxs)("div",{className:"form-add",children:[(0,p.jsx)("span",{style:{color:"#000"},children:"DEP: "}),(0,p.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[Ge.toLocaleString([],{year:"numeric",month:"2-digit",day:"2-digit",hour:"numeric",minute:"numeric"})+"Z",(0,p.jsx)("div",{className:"",style:{marginLeft:10},children:(0,p.jsx)(m(),{selected:Ge,timeInputLabel:Ge,onChange:function(e){Ke(e)},customInput:(0,p.jsx)(Xr,{}),showTimeSelect:!0,timeFormat:"HH:mm",timeIntervals:5,dateFormat:"LLL",timeZone:"Etc/UTC",timeZoneData:[{value:"Etc/UTC",label:"Zulu (GMT 0)"}]})})]})]}),(0,p.jsxs)("div",{className:"form-add",children:[(0,p.jsx)("span",{style:{color:"#000"},children:"ICAO de Origem: "}),(0,p.jsx)(f,{erro:qe,maxLength:4,value:ke,onChange:Ie})]}),(0,p.jsxs)("div",{className:"form-add",children:[(0,p.jsx)("span",{style:{color:"#000"},children:"ICAO de Destino: "}),(0,p.jsx)(f,{ref:ar,id:"icao-pouso",onKeyPress:lr,erro:tt,maxLength:4,value:Te,onChange:Me})]}),(0,p.jsxs)("div",{className:"form-add",children:[(0,p.jsx)("span",{style:{color:"#000"},children:"ICAO de Alternativa: "}),(0,p.jsx)(f,{ref:nr,onKeyPress:lr,erro:rt,maxLength:4,value:Ae,onChange:_e})]}),(0,p.jsxs)("div",{className:"form-add",children:[(0,p.jsx)("span",{style:{color:"#000"},children:"Pouso: "}),(0,p.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[Ve.toLocaleString([],{year:"numeric",month:"2-digit",day:"2-digit",hour:"numeric",minute:"numeric"})+"Z",(0,p.jsx)("div",{className:"",style:{marginLeft:10},children:(0,p.jsx)(m(),{selected:Ve,timeInputLabel:Ve,onChange:function(e){Ye(e)},customInput:(0,p.jsx)(Xr,{}),showTimeSelect:!0,timeFormat:"HH:mm",timeIntervals:5,dateFormat:"LLL"})})]})]}),(0,p.jsxs)("div",{className:"form-add",children:[(0,p.jsx)("span",{style:{color:"#000"},children:"COMB M\xednimo: "}),(0,p.jsx)(x,{onKeyPress:lr,value:ja,onChange:ba})]}),(0,p.jsxs)("div",{className:"botoes-add-etapa",children:[(0,p.jsx)("button",{onClick:function(){Ie(""),Me(""),Ke(""),Ye(""),Se(!1),q(!1)},className:"cancelar",children:"Cancelar"}),(0,p.jsx)("button",{className:"adicionar",onClick:Q?Ar:_r,children:Q?"Editar":"Adicionar"})]}),""!=Ue&&(0,p.jsx)("div",{style:{marginTop:10},class:"alert alert-danger",role:"alert",children:Ue})]}),Zt.eventos.map((function(e,t){return(0,p.jsx)(S,{edit:function(){te(t),q(!0),function(e){var t=(0,r.Z)({},Zt).eventos[e];Ie(t.missao.dep),Me(t.missao.pouso),_e(t.missao.alternativa?t.missao.alternativa:""),ba(t.missao.combustivel_minimo?t.missao.combustivel_minimo:0),"string"==typeof t.missao.depISO&&(t.missao.depISO=new Date(t.missao.depISO)),"string"==typeof t.missao.pousoISO&&(t.missao.pousoISO=new Date(t.missao.pousoISO));var a=t.missao.depISO.getTimezoneOffset();if(t.missao.depISO.setMinutes(t.missao.depISO.getMinutes()+a),t.missao.pousoISO){var n=t.missao.pousoISO.getTimezoneOffset();t.missao.pousoISO.setMinutes(t.missao.pousoISO.getMinutes()+n),Ye(t.missao.pousoISO)}else Sr();Ke(t.missao.depISO)}(t),sr.current.scrollTop=0},del:function(){var a=(0,r.Z)({},Zt),n=a.eventos.filter((function(e,a){if(a!=t)return e}));a.eventos=n;var s=(0,r.Z)({},ve),o=s.avioes.findIndex((function(e){return e.aviao==Nt}));o>=0&&(s.avioes[o].eventos=s.avioes[o].eventos.filter((function(t,a){return t.missao.dep!=e.missao.dep&&t.missao.horaDep!=e.missao.horaDep&&t.missao.pouso!=e.missao.pouso})),he(s)),yt(a)},index:t,dep:e.missao.dep,pouso:e.missao.pouso,alternativa:e.missao.alternativa,horaDep:e.missao.horaDep,horaPouso:e.missao.horaPouso,data:e.data})})),(0,p.jsxs)("div",{className:"add-trip",children:[(0,p.jsx)("span",{style:{color:"#fff"},children:"Tripula\xe7\xe3o:"}),(0,p.jsx)(v,{maxLength:3,value:$t,onChange:ea,onKeyPress:dr}),xt&&(0,p.jsx)("div",{style:{marginTop:10},class:"alert alert-danger",role:"alert",children:xt}),(0,p.jsx)("div",{className:"tripulante-row",children:(0,p.jsx)("span",{style:{color:"#fff"},className:"tripulante",children:"Pilotos:"})}),(0,p.jsx)("div",{className:"caixa-tripulante",children:a.map((function(e){if("Piloto"==e.funcao)return(0,p.jsxs)("div",{className:"tripulante-item",children:[e.trigrama,(0,p.jsx)("img",{style:{marginLeft:5,cursor:"pointer"},onClick:function(){return Mr(e.id)},src:"https://www.1gtt.com.br/app/close.png",width:"15px"})]})}))}),(0,p.jsx)("div",{className:"tripulante-row",children:(0,p.jsx)("span",{style:{color:"#fff"},className:"tripulante",children:"Mec\xe2nicos:"})}),(0,p.jsx)("div",{className:"caixa-tripulante",children:a.map((function(e){if("Mec\xe2nico de Voo"==e.funcao)return(0,p.jsxs)("div",{className:"tripulante-item",children:[e.trigrama,(0,p.jsx)("img",{style:{marginLeft:5,cursor:"pointer"},onClick:function(){return Mr(e.id)},src:"https://www.1gtt.com.br/app/close.png",width:"15px"})]})}))}),(0,p.jsx)("div",{className:"tripulante-row",children:(0,p.jsx)("span",{style:{color:"#fff"},className:"tripulante",children:"Loadmasters:"})}),(0,p.jsx)("div",{className:"caixa-tripulante",children:a.map((function(e){if("Loadmaster"==e.funcao)return(0,p.jsxs)("div",{className:"tripulante-item",children:[e.trigrama,(0,p.jsx)("img",{style:{marginLeft:5,cursor:"pointer"},onClick:function(){return Mr(e.id)},src:"https://www.1gtt.com.br/app/close.png",width:"15px"})]})}))}),(0,p.jsx)("div",{className:"tripulante-row",children:(0,p.jsx)("span",{style:{color:"#fff"},className:"tripulante",children:"Comiss\xe1rios:"})}),(0,p.jsx)("div",{className:"caixa-tripulante",children:a.map((function(e){if("Comiss\xe1rio"==e.funcao)return(0,p.jsxs)("div",{className:"tripulante-item",children:[e.trigrama,(0,p.jsx)("img",{style:{marginLeft:5,cursor:"pointer"},onClick:function(){return Mr(e.id)},src:"https://www.1gtt.com.br/app/close.png",width:"15px"})]})}))}),(0,p.jsx)("div",{className:"tripulante-row",children:(0,p.jsx)("span",{style:{color:"#fff"},className:"tripulante",children:"OE-3:"})}),(0,p.jsx)("div",{className:"caixa-tripulante",children:a.map((function(e){if("O3"==e.funcao)return(0,p.jsxs)("div",{className:"tripulante-item",children:[e.trigrama,(0,p.jsx)("img",{style:{marginLeft:5,cursor:"pointer"},onClick:function(){return Mr(e.id)},src:"https://www.1gtt.com.br/app/close.png",width:"15px"})]})}))})]}),(0,p.jsxs)("div",{style:{marginTop:30,display:"flex",flexDirection:"column"},children:[(0,p.jsx)("span",{style:{color:"#fff"},children:"Configura\xe7\xe3o: "}),(0,p.jsx)("textarea",{value:Fn,onChange:function(e){return Pn(e.target.value)},style:{borderRadius:10,padding:5}})]}),(0,p.jsxs)("div",{style:{marginTop:30,display:"flex",flexDirection:"column"},children:[(0,p.jsx)("span",{style:{color:"#fff"},children:"Coment\xe1rios: "}),(0,p.jsx)("textarea",{value:ia,onChange:function(e){return ca(e.target.value)},style:{borderRadius:10,padding:5}})]}),(0,p.jsxs)("div",{className:"botoes-add-etapa",style:{marginTop:30},children:[(0,p.jsx)("button",{className:"cancelar",style:{fontSize:"1vw"},onClick:Lr,children:"Limpar"}),Ht?(0,p.jsx)(N.Z,{}):(0,p.jsx)("button",{className:"adicionar",style:{fontSize:"1vw"},onClick:X?Or:Cr,children:X?"Editar Miss\xe3o":"Criar Miss\xe3o"})]}),(0,p.jsxs)("div",{className:"botoes-add-etapa",style:{marginTop:30,justifyContent:"center"},children:[Ft&&(0,p.jsx)(N.Z,{}),X?(0,p.jsx)("button",{className:"cancelar",style:{fontSize:"1.3vw"},onClick:Tr,children:"Excluir Miss\xe3o"}):(0,p.jsx)(p.Fragment,{})]})]}),(0,p.jsxs)("div",{ref:sr,className:Nn?"modal-create-visible":"modal-create",children:[(0,p.jsx)("div",{style:{display:"flex",justifyContent:"flex-end",margin:10,cursor:"pointer"},children:(0,p.jsx)("div",{onClick:function(){Er(),Cn(!1)},style:{color:"#fff"},children:"X"})}),(0,p.jsx)("div",{className:"criar-div",children:(0,p.jsxs)("h3",{style:{color:"#fff"},children:[Qs?"Editar":"Criar"," Sobreaviso"]})}),(0,p.jsx)("div",{className:"form-area",children:(0,p.jsxs)("div",{className:"form-add",style:{alignItems:"center"},children:[(0,p.jsx)("span",{style:{color:"#000"},children:"Data: "}),(0,p.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[Ge.toLocaleString([],{year:"numeric",month:"2-digit",day:"2-digit"}),(0,p.jsx)("div",{className:"",style:{marginLeft:10},children:(0,p.jsx)(m(),{selected:Ge,timeInputLabel:Ge,onChange:function(e){Ke(e)},customInput:(0,p.jsx)(Vr,{}),timeIntervals:5,timeZone:"Etc/UTC",timeZoneData:[{value:"Etc/UTC",label:"Zulu (GMT 0)"}]})})]})]})}),(0,p.jsxs)("div",{className:"add-trip",children:[(0,p.jsx)("span",{style:{color:"#fff"},children:"Tripula\xe7\xe3o:"}),(0,p.jsx)(v,{maxLength:3,value:$t,onChange:ea,onKeyPress:dr}),xt&&(0,p.jsx)("div",{style:{marginTop:10},class:"alert alert-danger",role:"alert",children:xt}),(0,p.jsx)("div",{className:"tripulante-row",children:(0,p.jsx)("span",{style:{color:"#fff"},className:"tripulante",children:"Pilotos:"})}),(0,p.jsx)("div",{className:"caixa-tripulante",children:a.map((function(e){if("Piloto"==e.funcao)return(0,p.jsxs)("div",{className:"tripulante-item",children:[e.trigrama,(0,p.jsx)("img",{style:{marginLeft:5,cursor:"pointer"},onClick:function(){return Mr(e.id)},src:"https://www.1gtt.com.br/app/close.png",width:"15px"})]})}))}),(0,p.jsx)("div",{className:"tripulante-row",children:(0,p.jsx)("span",{style:{color:"#fff"},className:"tripulante",children:"Mec\xe2nicos:"})}),(0,p.jsx)("div",{className:"caixa-tripulante",children:a.map((function(e){if("Mec\xe2nico de Voo"==e.funcao)return(0,p.jsxs)("div",{className:"tripulante-item",children:[e.trigrama,(0,p.jsx)("img",{style:{marginLeft:5,cursor:"pointer"},onClick:function(){return Mr(e.id)},src:"https://www.1gtt.com.br/app/close.png",width:"15px"})]})}))}),(0,p.jsx)("div",{className:"tripulante-row",children:(0,p.jsx)("span",{style:{color:"#fff"},className:"tripulante",children:"Loadmasters:"})}),(0,p.jsx)("div",{className:"caixa-tripulante",children:a.map((function(e){if("Loadmaster"==e.funcao)return(0,p.jsxs)("div",{className:"tripulante-item",children:[e.trigrama,(0,p.jsx)("img",{style:{marginLeft:5,cursor:"pointer"},onClick:function(){return Mr(e.id)},src:"https://www.1gtt.com.br/app/close.png",width:"15px"})]})}))}),(0,p.jsx)("div",{className:"tripulante-row",children:(0,p.jsx)("span",{style:{color:"#fff"},className:"tripulante",children:"Comiss\xe1rios:"})}),(0,p.jsx)("div",{className:"caixa-tripulante",children:a.map((function(e){if("Comiss\xe1rio"==e.funcao)return(0,p.jsxs)("div",{className:"tripulante-item",children:[e.trigrama,(0,p.jsx)("img",{style:{marginLeft:5,cursor:"pointer"},onClick:function(){return Mr(e.id)},src:"https://www.1gtt.com.br/app/close.png",width:"15px"})]})}))})]}),(0,p.jsxs)("div",{className:"botoes-add-etapa",style:{marginTop:30},children:[(0,p.jsx)("button",{className:"cancelar",style:{fontSize:"1vw"},onClick:function(){d([])},children:"Limpar"}),Ht?(0,p.jsx)(N.Z,{}):(0,p.jsx)("button",{className:"adicionar",style:{fontSize:"1vw"},onClick:Qs?Ur:Pr,children:Qs?"Editar Sobreaviso":"Criar Sobreaviso"})]}),(0,p.jsxs)("div",{className:"botoes-add-etapa",style:{marginTop:30,justifyContent:"center"},children:[Ft&&(0,p.jsx)(N.Z,{}),Qs?(0,p.jsx)("button",{className:"cancelar",style:{fontSize:"1.3vw"},onClick:function(){window.confirm("Deseja mesmo excluir esse Sobreaviso?")&&Rr()},children:"Excluir Sobreaviso"}):(0,p.jsx)(p.Fragment,{})]})]})]}),un&&(0,p.jsxs)("div",{className:"modal-aviao",style:{alignItems:"flex-end"},onMouseLeave:ir,children:[(0,p.jsx)("span",{onClick:function(){dn(!1)},className:"title-modal",style:{color:"#fff",cursor:"pointer"},children:"X"}),(0,p.jsx)("p",{style:{fontSize:"1vw",color:"#fff",marginTop:20},children:fn})]}),R&&(0,p.jsxs)("div",{className:"modal-aviao",style:{alignItems:"flex-end"},children:[(0,p.jsx)("span",{onClick:function(){G(!1)},className:"title-modal",style:{color:"#fff",cursor:"pointer"},children:"X"}),(0,p.jsxs)("div",{className:"modal-body",children:[(0,p.jsxs)("div",{className:"item-body-modal",children:[(0,p.jsx)("span",{className:"text-modal",style:{color:"#fff"},children:"T\xedtulo:"}),(0,p.jsx)(g,{value:Ta,onChange:Ma})]}),(0,p.jsxs)("div",{className:"item-body-modal",children:[(0,p.jsx)("span",{className:"text-modal",style:{color:"#fff"},children:"Observa\xe7\xe3o:"}),(0,p.jsx)(g,{value:Ta,onChange:Ma})]})]})]}),Zn&&(0,p.jsxs)("div",{className:"modal-aviao",style:{alignItems:"flex-end"},children:[(0,p.jsx)("span",{onClick:function(){yn(!1)},className:"title-modal",style:{color:"#fff",cursor:"pointer"},children:"X"}),(0,p.jsxs)("div",{className:"modal-body",children:[(0,p.jsxs)("div",{className:"item-body-modal",children:[(0,p.jsx)("span",{className:"text-modal",style:{color:"#fff"},children:"T\xedtulo:"}),(0,p.jsx)(b,{value:Dn,onChange:On})]}),(0,p.jsx)("div",{className:"item-body-modal",children:(0,p.jsx)("span",{className:"text-modal",style:{color:"#fff"},children:"Coment\xe1rios:"})}),(0,p.jsx)(Z,{linhas:4,value:Ln,onChange:En}),(0,p.jsxs)("div",{className:"item-modal-body",children:[(0,p.jsx)("span",{style:{color:"#fff",marginRight:10},children:"Inicio: "}),(0,p.jsxs)("div",{style:{display:"flex",color:"#fff",alignItems:"center"},children:[(0,p.jsx)("div",{className:"input-obs",children:Hn.toLocaleString([],{year:"numeric",month:"2-digit",day:"2-digit"})}),(0,p.jsx)("div",{className:"",style:{marginLeft:10},children:(0,p.jsx)(m(),{selected:Hn,timeInputLabel:Hn,onChange:function(e){Rn(e)},customInput:(0,p.jsx)(Vr,{}),timeIntervals:5,timeZone:"Etc/UTC",timeZoneData:[{value:"Etc/UTC",label:"Zulu (GMT 0)"}]})})]})]}),(0,p.jsxs)("div",{className:"item-modal-body",children:[(0,p.jsx)("span",{style:{color:"#fff",marginRight:10},children:"Fim: "}),(0,p.jsxs)("div",{style:{display:"flex",color:"#fff",alignItems:"center"},children:[(0,p.jsx)("div",{className:"input-obs",children:Bn.toLocaleString([],{year:"numeric",month:"2-digit",day:"2-digit"})}),(0,p.jsx)("div",{className:"",style:{marginLeft:10},children:(0,p.jsx)(m(),{selected:Bn,timeInputLabel:Bn,onChange:function(e){Xn(e)},customInput:(0,p.jsx)(Vr,{}),timeFormat:"HH:mm",timeIntervals:5,dateFormat:"LLL",timeZone:"Etc/UTC",timeZoneData:[{value:"Etc/UTC",label:"Zulu (GMT 0)"}]})})]})]}),(0,p.jsx)("div",{className:"modal-bottom",children:(0,p.jsx)("button",{onClick:zr,className:"salvar",children:xn?"Editar":"Salvar"})}),xn&&(0,p.jsx)("div",{className:"modal-bottom",children:(0,p.jsx)("button",{onClick:function(){window.confirm("Deseja mesmo excluir essa Observa\xe7\xe3o?")&&Gr()},className:"excluir",children:"Excluir"})})]})]}),is&&(0,p.jsxs)("div",{className:"modal-aviao",style:{alignItems:"flex-end"},children:[(0,p.jsx)("span",{onClick:function(){cs(!1)},className:"title-modal",style:{color:"#fff",cursor:"pointer"},children:"X"}),(0,p.jsxs)("div",{className:"modal-body",children:[(0,p.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",marginTop:20,alignItems:"center"},children:[(0,p.jsx)("span",{style:{color:"#fff"},children:"Avi\xe3o:"}),Lt.map((function(e){return(0,p.jsx)("button",{onClick:function(){_s(e.aeronave),Is(e.id);var t=(0,r.Z)({},Zt);t.aviao=e.aeronave,yt(t)},style:{backgroundColor:As==e.aeronave?"#28a745":"#FFF",color:As==e.aeronave?"#fff":"#000"},className:"botao-aviao",children:e.aeronave})}))]}),(0,p.jsxs)("div",{className:"item-body-modal",children:[(0,p.jsx)("span",{className:"text-modal",style:{color:"#fff"},children:"T\xedtulo:"}),(0,p.jsx)(b,{value:ds,onChange:ms})]}),(0,p.jsx)("div",{className:"item-body-modal",children:(0,p.jsx)("span",{className:"text-modal",style:{color:"#fff"},children:"Descric\xe3o:"})}),(0,p.jsx)(Z,{linhas:4,value:vs,onChange:hs}),(0,p.jsxs)("div",{className:"item-modal-body",children:[(0,p.jsx)("span",{style:{color:"#fff",marginRight:10},children:"Inicio: "}),(0,p.jsxs)("div",{style:{display:"flex",color:"#fff",alignItems:"center"},children:[(0,p.jsx)("div",{className:"input-obs",children:js.toLocaleString([],{year:"numeric",month:"2-digit",day:"2-digit",hour:"numeric",minute:"numeric"})+"Z"}),(0,p.jsx)("div",{className:"",style:{marginLeft:10},children:(0,p.jsx)(m(),{selected:js,timeInputLabel:js,onChange:function(e){bs(e)},customInput:(0,p.jsx)(Vr,{}),showTimeSelect:!0,timeFormat:"HH:mm",timeIntervals:5,dateFormat:"LLL",timeZone:"Etc/UTC",timeZoneData:[{value:"Etc/UTC",label:"Zulu (GMT 0)"}]})})]})]}),(0,p.jsxs)("div",{className:"item-modal-body",children:[(0,p.jsx)("span",{style:{color:"#fff",marginRight:10},children:"Fim: "}),(0,p.jsxs)("div",{style:{display:"flex",color:"#fff",alignItems:"center"},children:[(0,p.jsx)("div",{className:"input-obs",children:ws.toLocaleString([],{year:"numeric",month:"2-digit",day:"2-digit",hour:"numeric",minute:"numeric"})+"Z"}),(0,p.jsx)("div",{className:"",style:{marginLeft:10},children:(0,p.jsx)(m(),{selected:ws,timeInputLabel:ws,onChange:function(e){Ss(e)},customInput:(0,p.jsx)(Vr,{}),showTimeSelect:!0,timeFormat:"HH:mm",timeIntervals:5,dateFormat:"LLL",timeZone:"Etc/UTC",timeZoneData:[{value:"Etc/UTC",label:"Zulu (GMT 0)"}]})})]})]}),(0,p.jsx)("div",{className:"modal-bottom",children:(0,p.jsx)("button",{onClick:Hr,className:"salvar",children:ns?"Editar":"Salvar"})}),ns&&(0,p.jsx)("div",{className:"modal-bottom",children:(0,p.jsx)("button",{onClick:function(){window.confirm("Deseja mesmo excluir essa Manuten\xe7\xe3o?")&&Kr()},className:"excluir",children:"Excluir"})})]})]}),ka&&(0,p.jsxs)("div",{className:"modal-aviao",children:[(0,p.jsxs)("div",{className:"modal-topo",children:[(0,p.jsx)("div",{className:"nome-aviao",children:(0,p.jsxs)("span",{className:"title-modal",style:{color:"#fff"},children:["FAB ",Ua]})}),(0,p.jsx)("span",{onClick:function(){Ia(!1)},className:"title-modal",style:{color:"#fff",cursor:"pointer"},children:"X"})]}),(0,p.jsxs)("div",{className:"modal-body",children:[(0,p.jsxs)("div",{className:"item-body-modal",children:[(0,p.jsx)("span",{className:"text-modal",style:{color:"#fff"},children:"Ciclos:"}),(0,p.jsx)(g,{value:Ta,onChange:Ma})]}),(0,p.jsxs)("div",{className:"item-body-modal",children:[(0,p.jsx)("span",{className:"text-modal",style:{color:"#fff"},children:"Horas:"}),(0,p.jsx)(j,{value:Aa,onChange:_a})]}),(0,p.jsxs)("div",{className:"item-body-modal",children:[(0,p.jsx)("span",{className:"text-modal",style:{color:"#fff"},children:"Situa\xe7\xe3o:"}),(0,p.jsx)("select",{style:{borderRadius:10},value:Ga,onChange:function(e){Ka(e.target.value)},children:["DI","DO","IN","IS","II"].map((function(e,t){return(0,p.jsx)("option",{value:e,children:e},t)}))})]}),(0,p.jsx)("div",{className:"item-body-modal",children:(0,p.jsxs)("span",{className:"text-modal",style:{color:"#fff"},children:["Atualizado por: ",Va]})}),(0,p.jsx)("div",{className:"item-body-modal",children:(0,p.jsxs)("span",{className:"text-modal",style:{color:"#fff"},children:["Em: ",qa," Z"]})})]}),(0,p.jsx)("div",{className:"modal-bottom",children:(0,p.jsx)("button",{onClick:Fr,className:"salvar",children:"Salvar"})})]})]})}}}]);
//# sourceMappingURL=983.54fe96c2.chunk.js.map