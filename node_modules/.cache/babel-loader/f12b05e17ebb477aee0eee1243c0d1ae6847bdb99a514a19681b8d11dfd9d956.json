{"ast":null,"code":"const baseUrl = 'https://servidor-app-gtt.herokuapp.com';\nconst request = async function (method, endpoint, params) {\n  let token = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : null;\n  method = method.toLowerCase();\n  let fullUrl = `${baseUrl}${endpoint}`;\n  if (params) {\n    var body = JSON.stringify(params);\n  } else {\n    var body = null;\n  }\n  let headers = {\n    'Content-Type': 'application/json'\n  };\n  if (token) {\n    headers.Authorization = `Bearer ${token}`;\n  }\n  let req = await fetch(fullUrl, {\n    method,\n    headers,\n    body\n  });\n  let json = await req.json();\n  return json;\n};\nexport default (() => {\n  return {\n    getToken: () => {\n      return localStorage.getItem('token');\n    },\n    validateToken: async () => {\n      let token = localStorage.getItem('token');\n      let json = await request('GET', '/users/check/token', null, token);\n      return json;\n    },\n    login: async (email, senha) => {\n      let json = await request('POST', '/users/login', {\n        email,\n        senha\n      }, null);\n      return json;\n    },\n    getDias: async () => {\n      let token = localStorage.getItem('token');\n      let json = await request('GET', '/users/check/token', null, token);\n      return json;\n    },\n    getHoras: async () => {\n      let token = localStorage.getItem('token');\n      let json = await request('GET', 'etapas/users/horas/1', null, token);\n      return json;\n    }\n  };\n});","map":{"version":3,"names":["baseUrl","request","method","endpoint","params","token","arguments","length","undefined","toLowerCase","fullUrl","body","JSON","stringify","headers","Authorization","req","fetch","json","getToken","localStorage","getItem","validateToken","login","email","senha","getDias","getHoras"],"sources":["/Users/italocarmo/Documents/GitHub/react-app-gtt/src/services/Api.js"],"sourcesContent":["const baseUrl = 'https://servidor-app-gtt.herokuapp.com'\n\nconst request = async (method, endpoint, params, token = null) => {\n    method = method.toLowerCase()\n    let fullUrl = `${baseUrl}${endpoint}`\n    if(params) {\n        var body = JSON.stringify(params)\n    }else {\n        var body = null\n    }\n    \n\n    let headers = {'Content-Type': 'application/json'}\n    if(token) {\n        headers.Authorization = `Bearer ${token}`\n    }\n    let req = await fetch(fullUrl, {method, headers, body})\n    let json = await req.json()\n    return json\n}\n\nexport default () => {\n    return {\n        getToken: () => {\n            return localStorage.getItem('token')\n        },\n        validateToken: async () => {\n            let token = localStorage.getItem('token')\n            let json = await request('GET', '/users/check/token' , null, token)\n            return json\n        },\n        login: async (email, senha) => {\n            let json = await request('POST', '/users/login', {email, senha}, null)\n            return json\n        },\n        getDias: async () => {\n            let token = localStorage.getItem('token')\n            let json = await request('GET', '/users/check/token' , null, token)\n            return json\n        },\n        getHoras: async () => {\n            let token = localStorage.getItem('token')\n            let json = await request('GET', 'etapas/users/horas/1' , null, token)\n            return json\n        },\n    }\n}"],"mappings":"AAAA,MAAMA,OAAO,GAAG,wCAAwC;AAExD,MAAMC,OAAO,GAAG,eAAAA,CAAOC,MAAM,EAAEC,QAAQ,EAAEC,MAAM,EAAmB;EAAA,IAAjBC,KAAK,GAAAC,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAAG,IAAI;EACzDJ,MAAM,GAAGA,MAAM,CAACO,WAAW,CAAC,CAAC;EAC7B,IAAIC,OAAO,GAAI,GAAEV,OAAQ,GAAEG,QAAS,EAAC;EACrC,IAAGC,MAAM,EAAE;IACP,IAAIO,IAAI,GAAGC,IAAI,CAACC,SAAS,CAACT,MAAM,CAAC;EACrC,CAAC,MAAK;IACF,IAAIO,IAAI,GAAG,IAAI;EACnB;EAGA,IAAIG,OAAO,GAAG;IAAC,cAAc,EAAE;EAAkB,CAAC;EAClD,IAAGT,KAAK,EAAE;IACNS,OAAO,CAACC,aAAa,GAAI,UAASV,KAAM,EAAC;EAC7C;EACA,IAAIW,GAAG,GAAG,MAAMC,KAAK,CAACP,OAAO,EAAE;IAACR,MAAM;IAAEY,OAAO;IAAEH;EAAI,CAAC,CAAC;EACvD,IAAIO,IAAI,GAAG,MAAMF,GAAG,CAACE,IAAI,CAAC,CAAC;EAC3B,OAAOA,IAAI;AACf,CAAC;AAED,gBAAe,MAAM;EACjB,OAAO;IACHC,QAAQ,EAAEA,CAAA,KAAM;MACZ,OAAOC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;IACxC,CAAC;IACDC,aAAa,EAAE,MAAAA,CAAA,KAAY;MACvB,IAAIjB,KAAK,GAAGe,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;MACzC,IAAIH,IAAI,GAAG,MAAMjB,OAAO,CAAC,KAAK,EAAE,oBAAoB,EAAG,IAAI,EAAEI,KAAK,CAAC;MACnE,OAAOa,IAAI;IACf,CAAC;IACDK,KAAK,EAAE,MAAAA,CAAOC,KAAK,EAAEC,KAAK,KAAK;MAC3B,IAAIP,IAAI,GAAG,MAAMjB,OAAO,CAAC,MAAM,EAAE,cAAc,EAAE;QAACuB,KAAK;QAAEC;MAAK,CAAC,EAAE,IAAI,CAAC;MACtE,OAAOP,IAAI;IACf,CAAC;IACDQ,OAAO,EAAE,MAAAA,CAAA,KAAY;MACjB,IAAIrB,KAAK,GAAGe,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;MACzC,IAAIH,IAAI,GAAG,MAAMjB,OAAO,CAAC,KAAK,EAAE,oBAAoB,EAAG,IAAI,EAAEI,KAAK,CAAC;MACnE,OAAOa,IAAI;IACf,CAAC;IACDS,QAAQ,EAAE,MAAAA,CAAA,KAAY;MAClB,IAAItB,KAAK,GAAGe,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;MACzC,IAAIH,IAAI,GAAG,MAAMjB,OAAO,CAAC,KAAK,EAAE,sBAAsB,EAAG,IAAI,EAAEI,KAAK,CAAC;MACrE,OAAOa,IAAI;IACf;EACJ,CAAC;AACL,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}